(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Yt=globalThis||void 0||self;function Cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jw={exports:{}},Qe=Jw.exports={},Dn,Ln;function Ed(){throw new Error("setTimeout has not been defined")}function _d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Dn=setTimeout:Dn=Ed}catch{Dn=Ed}try{typeof clearTimeout=="function"?Ln=clearTimeout:Ln=_d}catch{Ln=_d}})();function Zw(t){if(Dn===setTimeout)return setTimeout(t,0);if((Dn===Ed||!Dn)&&setTimeout)return Dn=setTimeout,setTimeout(t,0);try{return Dn(t,0)}catch{try{return Dn.call(null,t,0)}catch{return Dn.call(this,t,0)}}}function Nx(t){if(Ln===clearTimeout)return clearTimeout(t);if((Ln===_d||!Ln)&&clearTimeout)return Ln=clearTimeout,clearTimeout(t);try{return Ln(t)}catch{try{return Ln.call(null,t)}catch{return Ln.call(this,t)}}}var tr=[],Ds=!1,Ci,tu=-1;function Ax(){!Ds||!Ci||(Ds=!1,Ci.length?tr=Ci.concat(tr):tu=-1,tr.length&&e0())}function e0(){if(!Ds){var t=Zw(Ax);Ds=!0;for(var e=tr.length;e;){for(Ci=tr,tr=[];++tu<e;)Ci&&Ci[tu].run();tu=-1,e=tr.length}Ci=null,Ds=!1,Nx(t)}}Qe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];tr.push(new t0(t,e)),tr.length===1&&!Ds&&Zw(e0)};function t0(t,e){this.fun=t,this.array=e}t0.prototype.run=function(){this.fun.apply(null,this.array)};Qe.title="browser";Qe.browser=!0;Qe.env={};Qe.argv=[];Qe.version="";Qe.versions={};function _r(){}Qe.on=_r;Qe.addListener=_r;Qe.once=_r;Qe.off=_r;Qe.removeListener=_r;Qe.removeAllListeners=_r;Qe.emit=_r;Qe.prependListener=_r;Qe.prependOnceListener=_r;Qe.listeners=function(t){return[]};Qe.binding=function(t){throw new Error("process.binding is not supported")};Qe.cwd=function(){return"/"};Qe.chdir=function(t){throw new Error("process.chdir is not supported")};Qe.umask=function(){return 0};var Rx=Jw.exports;const Ox=Cx(Rx);var n0={},_c={};_c.byteLength=Lx;_c.toByteArray=Mx;_c.fromByteArray=Bx;var Mn=[],rn=[],Px=typeof Uint8Array<"u"?Uint8Array:Array,Ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var hs=0,Dx=Ch.length;hs<Dx;++hs)Mn[hs]=Ch[hs],rn[Ch.charCodeAt(hs)]=hs;rn[45]=62;rn[95]=63;function r0(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Lx(t){var e=r0(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Fx(t,e,n){return(e+n)*3/4-n}function Mx(t){var e,n=r0(t),r=n[0],i=n[1],s=new Px(Fx(t,r,i)),a=0,l=i>0?r-4:r,u;for(u=0;u<l;u+=4)e=rn[t.charCodeAt(u)]<<18|rn[t.charCodeAt(u+1)]<<12|rn[t.charCodeAt(u+2)]<<6|rn[t.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=rn[t.charCodeAt(u)]<<2|rn[t.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=rn[t.charCodeAt(u)]<<10|rn[t.charCodeAt(u+1)]<<4|rn[t.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Ux(t){return Mn[t>>18&63]+Mn[t>>12&63]+Mn[t>>6&63]+Mn[t&63]}function jx(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Ux(r));return i.join("")}function Bx(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,l=n-r;a<l;a+=s)i.push(jx(t,a,a+s>l?l:a+s));return r===1?(e=t[n-1],i.push(Mn[e>>2]+Mn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Mn[e>>10]+Mn[e>>4&63]+Mn[e<<2&63]+"=")),i.join("")}var Jf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Jf.read=function(t,e,n,r,i){var s,a,l=i*8-r-1,u=(1<<l)-1,c=u>>1,h=-7,g=n?i-1:0,y=n?-1:1,C=t[e+g];for(g+=y,s=C&(1<<-h)-1,C>>=-h,h+=l;h>0;s=s*256+t[e+g],g+=y,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=r;h>0;a=a*256+t[e+g],g+=y,h-=8);if(s===0)s=1-c;else{if(s===u)return a?NaN:(C?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-c}return(C?-1:1)*a*Math.pow(2,s-r)};Jf.write=function(t,e,n,r,i,s){var a,l,u,c=s*8-i-1,h=(1<<c)-1,g=h>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=r?0:s-1,I=r?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=y/u:e+=y*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=h?(l=0,a=h):a+g>=1?(l=(e*u-1)*Math.pow(2,i),a=a+g):(l=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;t[n+C]=l&255,C+=I,l/=256,i-=8);for(a=a<<i|l,c+=i;c>0;t[n+C]=a&255,C+=I,a/=256,c-=8);t[n+C-I]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=_c,n=Jf,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=z,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:a,SharedArrayBuffer:l}=globalThis;h.TYPED_ARRAY_SUPPORT=u(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const w=new s(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,s.prototype),Object.setPrototypeOf(w,f),w.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function c(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const f=new s(w);return Object.setPrototypeOf(f,h.prototype),f}function h(w,f,p){if(typeof w=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(w)}return g(w,f,p)}h.poolSize=8192;function g(w,f,p){if(typeof w=="string")return O(w,f);if(a.isView(w))return S(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(qt(w,a)||w&&qt(w.buffer,a)||typeof l<"u"&&(qt(w,l)||w&&qt(w.buffer,l)))return E(w,f,p);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=w.valueOf&&w.valueOf();if(x!=null&&x!==w)return h.from(x,f,p);const L=_(w);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return h.from(w[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}h.from=function(w,f,p){return g(w,f,p)},Object.setPrototypeOf(h.prototype,s.prototype),Object.setPrototypeOf(h,s);function y(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function C(w,f,p){return y(w),w<=0?c(w):f!==void 0?typeof p=="string"?c(w).fill(f,p):c(w).fill(f):c(w)}h.alloc=function(w,f,p){return C(w,f,p)};function I(w){return y(w),c(w<0?0:F(w)|0)}h.allocUnsafe=function(w){return I(w)},h.allocUnsafeSlow=function(w){return I(w)};function O(w,f){if((typeof f!="string"||f==="")&&(f="utf8"),!h.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const p=V(w,f)|0;let x=c(p);const L=x.write(w,f);return L!==p&&(x=x.slice(0,L)),x}function D(w){const f=w.length<0?0:F(w.length)|0,p=c(f);for(let x=0;x<f;x+=1)p[x]=w[x]&255;return p}function S(w){if(qt(w,s)){const f=new s(w);return E(f.buffer,f.byteOffset,f.byteLength)}return D(w)}function E(w,f,p){if(f<0||w.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');let x;return f===void 0&&p===void 0?x=new s(w):p===void 0?x=new s(w,f):x=new s(w,f,p),Object.setPrototypeOf(x,h.prototype),x}function _(w){if(h.isBuffer(w)){const f=F(w.length)|0,p=c(f);return p.length===0||w.copy(p,0,0,f),p}if(w.length!==void 0)return typeof w.length!="number"||Je(w.length)?c(0):D(w);if(w.type==="Buffer"&&Array.isArray(w.data))return D(w.data)}function F(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function z(w){return+w!=w&&(w=0),h.alloc(+w)}h.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==h.prototype},h.compare=function(f,p){if(qt(f,s)&&(f=h.from(f,f.offset,f.byteLength)),qt(p,s)&&(p=h.from(p,p.offset,p.byteLength)),!h.isBuffer(f)||!h.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===p)return 0;let x=f.length,L=p.length;for(let j=0,$=Math.min(x,L);j<$;++j)if(f[j]!==p[j]){x=f[j],L=p[j];break}return x<L?-1:L<x?1:0},h.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(f,p){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return h.alloc(0);let x;if(p===void 0)for(p=0,x=0;x<f.length;++x)p+=f[x].length;const L=h.allocUnsafe(p);let j=0;for(x=0;x<f.length;++x){let $=f[x];if(qt($,s))j+$.length>L.length?(h.isBuffer($)||($=h.from($)),$.copy(L,j)):s.prototype.set.call(L,$,j);else if(h.isBuffer($))$.copy(L,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=$.length}return L};function V(w,f){if(h.isBuffer(w))return w.length;if(a.isView(w)||qt(w,a))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const p=w.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&p===0)return 0;let L=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return yi(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return as(w).length;default:if(L)return x?-1:yi(w).length;f=(""+f).toLowerCase(),L=!0}}h.byteLength=V;function T(w,f,p){let x=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,f>>>=0,p<=f))return"";for(w||(w="utf8");;)switch(w){case"hex":return ie(this,f,p);case"utf8":case"utf-8":return Ee(this,f,p);case"ascii":return Z(this,f,p);case"latin1":case"binary":return ce(this,f,p);case"base64":return Ue(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,f,p);default:if(x)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),x=!0}}h.prototype._isBuffer=!0;function v(w,f,p){const x=w[f];w[f]=w[p],w[p]=x}h.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<f;p+=2)v(this,p,p+1);return this},h.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<f;p+=4)v(this,p,p+3),v(this,p+1,p+2);return this},h.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<f;p+=8)v(this,p,p+7),v(this,p+1,p+6),v(this,p+2,p+5),v(this,p+3,p+4);return this},h.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?Ee(this,0,f):T.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(f){if(!h.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:h.compare(this,f)===0},h.prototype.inspect=function(){let f="";const p=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(f+=" ... "),"<Buffer "+f+">"},r&&(h.prototype[r]=h.prototype.inspect),h.prototype.compare=function(f,p,x,L,j){if(qt(f,s)&&(f=h.from(f,f.offset,f.byteLength)),!h.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(p===void 0&&(p=0),x===void 0&&(x=f?f.length:0),L===void 0&&(L=0),j===void 0&&(j=this.length),p<0||x>f.length||L<0||j>this.length)throw new RangeError("out of range index");if(L>=j&&p>=x)return 0;if(L>=j)return-1;if(p>=x)return 1;if(p>>>=0,x>>>=0,L>>>=0,j>>>=0,this===f)return 0;let $=j-L,he=x-p;const Ae=Math.min($,he),Se=this.slice(L,j),Oe=f.slice(p,x);for(let ye=0;ye<Ae;++ye)if(Se[ye]!==Oe[ye]){$=Se[ye],he=Oe[ye];break}return $<he?-1:he<$?1:0};function k(w,f,p,x,L){if(w.length===0)return-1;if(typeof p=="string"?(x=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Je(p)&&(p=L?0:w.length-1),p<0&&(p=w.length+p),p>=w.length){if(L)return-1;p=w.length-1}else if(p<0)if(L)p=0;else return-1;if(typeof f=="string"&&(f=h.from(f,x)),h.isBuffer(f))return f.length===0?-1:A(w,f,p,x,L);if(typeof f=="number")return f=f&255,typeof s.prototype.indexOf=="function"?L?s.prototype.indexOf.call(w,f,p):s.prototype.lastIndexOf.call(w,f,p):A(w,[f],p,x,L);throw new TypeError("val must be string, number or Buffer")}function A(w,f,p,x,L){let j=1,$=w.length,he=f.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(w.length<2||f.length<2)return-1;j=2,$/=2,he/=2,p/=2}function Ae(Oe,ye){return j===1?Oe[ye]:Oe.readUInt16BE(ye*j)}let Se;if(L){let Oe=-1;for(Se=p;Se<$;Se++)if(Ae(w,Se)===Ae(f,Oe===-1?0:Se-Oe)){if(Oe===-1&&(Oe=Se),Se-Oe+1===he)return Oe*j}else Oe!==-1&&(Se-=Se-Oe),Oe=-1}else for(p+he>$&&(p=$-he),Se=p;Se>=0;Se--){let Oe=!0;for(let ye=0;ye<he;ye++)if(Ae(w,Se+ye)!==Ae(f,ye)){Oe=!1;break}if(Oe)return Se}return-1}h.prototype.includes=function(f,p,x){return this.indexOf(f,p,x)!==-1},h.prototype.indexOf=function(f,p,x){return k(this,f,p,x,!0)},h.prototype.lastIndexOf=function(f,p,x){return k(this,f,p,x,!1)};function P(w,f,p,x){p=Number(p)||0;const L=w.length-p;x?(x=Number(x),x>L&&(x=L)):x=L;const j=f.length;x>j/2&&(x=j/2);let $;for($=0;$<x;++$){const he=parseInt(f.substr($*2,2),16);if(Je(he))return $;w[p+$]=he}return $}function M(w,f,p,x){return Ar(yi(f,w.length-p),w,p,x)}function R(w,f,p,x){return Ar(hl(f),w,p,x)}function Te(w,f,p,x){return Ar(as(f),w,p,x)}function Ye(w,f,p,x){return Ar(fh(f,w.length-p),w,p,x)}h.prototype.write=function(f,p,x,L){if(p===void 0)L="utf8",x=this.length,p=0;else if(x===void 0&&typeof p=="string")L=p,x=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(x)?(x=x>>>0,L===void 0&&(L="utf8")):(L=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-p;if((x===void 0||x>j)&&(x=j),f.length>0&&(x<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let $=!1;for(;;)switch(L){case"hex":return P(this,f,p,x);case"utf8":case"utf-8":return M(this,f,p,x);case"ascii":case"latin1":case"binary":return R(this,f,p,x);case"base64":return Te(this,f,p,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,f,p,x);default:if($)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),$=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ue(w,f,p){return f===0&&p===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(f,p))}function Ee(w,f,p){p=Math.min(w.length,p);const x=[];let L=f;for(;L<p;){const j=w[L];let $=null,he=j>239?4:j>223?3:j>191?2:1;if(L+he<=p){let Ae,Se,Oe,ye;switch(he){case 1:j<128&&($=j);break;case 2:Ae=w[L+1],(Ae&192)===128&&(ye=(j&31)<<6|Ae&63,ye>127&&($=ye));break;case 3:Ae=w[L+1],Se=w[L+2],(Ae&192)===128&&(Se&192)===128&&(ye=(j&15)<<12|(Ae&63)<<6|Se&63,ye>2047&&(ye<55296||ye>57343)&&($=ye));break;case 4:Ae=w[L+1],Se=w[L+2],Oe=w[L+3],(Ae&192)===128&&(Se&192)===128&&(Oe&192)===128&&(ye=(j&15)<<18|(Ae&63)<<12|(Se&63)<<6|Oe&63,ye>65535&&ye<1114112&&($=ye))}}$===null?($=65533,he=1):$>65535&&($-=65536,x.push($>>>10&1023|55296),$=56320|$&1023),x.push($),L+=he}return J(x)}const H=4096;function J(w){const f=w.length;if(f<=H)return String.fromCharCode.apply(String,w);let p="",x=0;for(;x<f;)p+=String.fromCharCode.apply(String,w.slice(x,x+=H));return p}function Z(w,f,p){let x="";p=Math.min(w.length,p);for(let L=f;L<p;++L)x+=String.fromCharCode(w[L]&127);return x}function ce(w,f,p){let x="";p=Math.min(w.length,p);for(let L=f;L<p;++L)x+=String.fromCharCode(w[L]);return x}function ie(w,f,p){const x=w.length;(!f||f<0)&&(f=0),(!p||p<0||p>x)&&(p=x);let L="";for(let j=f;j<p;++j)L+=ct[w[j]];return L}function se(w,f,p){const x=w.slice(f,p);let L="";for(let j=0;j<x.length-1;j+=2)L+=String.fromCharCode(x[j]+x[j+1]*256);return L}h.prototype.slice=function(f,p){const x=this.length;f=~~f,p=p===void 0?x:~~p,f<0?(f+=x,f<0&&(f=0)):f>x&&(f=x),p<0?(p+=x,p<0&&(p=0)):p>x&&(p=x),p<f&&(p=f);const L=this.subarray(f,p);return Object.setPrototypeOf(L,h.prototype),L};function ee(w,f,p){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+f>p)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(f,p,x){f=f>>>0,p=p>>>0,x||ee(f,p,this.length);let L=this[f],j=1,$=0;for(;++$<p&&(j*=256);)L+=this[f+$]*j;return L},h.prototype.readUintBE=h.prototype.readUIntBE=function(f,p,x){f=f>>>0,p=p>>>0,x||ee(f,p,this.length);let L=this[f+--p],j=1;for(;p>0&&(j*=256);)L+=this[f+--p]*j;return L},h.prototype.readUint8=h.prototype.readUInt8=function(f,p){return f=f>>>0,p||ee(f,1,this.length),this[f]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(f,p){return f=f>>>0,p||ee(f,2,this.length),this[f]|this[f+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(f,p){return f=f>>>0,p||ee(f,2,this.length),this[f]<<8|this[f+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},h.prototype.readBigUInt64LE=Ht(function(f){f=f>>>0,nn(f,"offset");const p=this[f],x=this[f+7];(p===void 0||x===void 0)&&mn(f,this.length-8);const L=p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,j=this[++f]+this[++f]*2**8+this[++f]*2**16+x*2**24;return BigInt(L)+(BigInt(j)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ht(function(f){f=f>>>0,nn(f,"offset");const p=this[f],x=this[f+7];(p===void 0||x===void 0)&&mn(f,this.length-8);const L=p*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],j=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x;return(BigInt(L)<<BigInt(32))+BigInt(j)}),h.prototype.readIntLE=function(f,p,x){f=f>>>0,p=p>>>0,x||ee(f,p,this.length);let L=this[f],j=1,$=0;for(;++$<p&&(j*=256);)L+=this[f+$]*j;return j*=128,L>=j&&(L-=Math.pow(2,8*p)),L},h.prototype.readIntBE=function(f,p,x){f=f>>>0,p=p>>>0,x||ee(f,p,this.length);let L=p,j=1,$=this[f+--L];for(;L>0&&(j*=256);)$+=this[f+--L]*j;return j*=128,$>=j&&($-=Math.pow(2,8*p)),$},h.prototype.readInt8=function(f,p){return f=f>>>0,p||ee(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},h.prototype.readInt16LE=function(f,p){f=f>>>0,p||ee(f,2,this.length);const x=this[f]|this[f+1]<<8;return x&32768?x|4294901760:x},h.prototype.readInt16BE=function(f,p){f=f>>>0,p||ee(f,2,this.length);const x=this[f+1]|this[f]<<8;return x&32768?x|4294901760:x},h.prototype.readInt32LE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},h.prototype.readInt32BE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},h.prototype.readBigInt64LE=Ht(function(f){f=f>>>0,nn(f,"offset");const p=this[f],x=this[f+7];(p===void 0||x===void 0)&&mn(f,this.length-8);const L=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(x<<24);return(BigInt(L)<<BigInt(32))+BigInt(p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),h.prototype.readBigInt64BE=Ht(function(f){f=f>>>0,nn(f,"offset");const p=this[f],x=this[f+7];(p===void 0||x===void 0)&&mn(f,this.length-8);const L=(p<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(L)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x)}),h.prototype.readFloatLE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),n.read(this,f,!0,23,4)},h.prototype.readFloatBE=function(f,p){return f=f>>>0,p||ee(f,4,this.length),n.read(this,f,!1,23,4)},h.prototype.readDoubleLE=function(f,p){return f=f>>>0,p||ee(f,8,this.length),n.read(this,f,!0,52,8)},h.prototype.readDoubleBE=function(f,p){return f=f>>>0,p||ee(f,8,this.length),n.read(this,f,!1,52,8)};function ue(w,f,p,x,L,j){if(!h.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>L||f<j)throw new RangeError('"value" argument is out of bounds');if(p+x>w.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(f,p,x,L){if(f=+f,p=p>>>0,x=x>>>0,!L){const he=Math.pow(2,8*x)-1;ue(this,f,p,x,he,0)}let j=1,$=0;for(this[p]=f&255;++$<x&&(j*=256);)this[p+$]=f/j&255;return p+x},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(f,p,x,L){if(f=+f,p=p>>>0,x=x>>>0,!L){const he=Math.pow(2,8*x)-1;ue(this,f,p,x,he,0)}let j=x-1,$=1;for(this[p+j]=f&255;--j>=0&&($*=256);)this[p+j]=f/$&255;return p+x},h.prototype.writeUint8=h.prototype.writeUInt8=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,1,255,0),this[p]=f&255,p+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,2,65535,0),this[p]=f&255,this[p+1]=f>>>8,p+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,2,65535,0),this[p]=f>>>8,this[p+1]=f&255,p+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,4,4294967295,0),this[p+3]=f>>>24,this[p+2]=f>>>16,this[p+1]=f>>>8,this[p]=f&255,p+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,4,4294967295,0),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4};function $e(w,f,p,x,L){Ie(f,x,L,w,p,7);let j=Number(f&BigInt(4294967295));w[p++]=j,j=j>>8,w[p++]=j,j=j>>8,w[p++]=j,j=j>>8,w[p++]=j;let $=Number(f>>BigInt(32)&BigInt(4294967295));return w[p++]=$,$=$>>8,w[p++]=$,$=$>>8,w[p++]=$,$=$>>8,w[p++]=$,p}function Xe(w,f,p,x,L){Ie(f,x,L,w,p,7);let j=Number(f&BigInt(4294967295));w[p+7]=j,j=j>>8,w[p+6]=j,j=j>>8,w[p+5]=j,j=j>>8,w[p+4]=j;let $=Number(f>>BigInt(32)&BigInt(4294967295));return w[p+3]=$,$=$>>8,w[p+2]=$,$=$>>8,w[p+1]=$,$=$>>8,w[p]=$,p+8}h.prototype.writeBigUInt64LE=Ht(function(f,p=0){return $e(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ht(function(f,p=0){return Xe(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(f,p,x,L){if(f=+f,p=p>>>0,!L){const Ae=Math.pow(2,8*x-1);ue(this,f,p,x,Ae-1,-Ae)}let j=0,$=1,he=0;for(this[p]=f&255;++j<x&&($*=256);)f<0&&he===0&&this[p+j-1]!==0&&(he=1),this[p+j]=(f/$>>0)-he&255;return p+x},h.prototype.writeIntBE=function(f,p,x,L){if(f=+f,p=p>>>0,!L){const Ae=Math.pow(2,8*x-1);ue(this,f,p,x,Ae-1,-Ae)}let j=x-1,$=1,he=0;for(this[p+j]=f&255;--j>=0&&($*=256);)f<0&&he===0&&this[p+j+1]!==0&&(he=1),this[p+j]=(f/$>>0)-he&255;return p+x},h.prototype.writeInt8=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,1,127,-128),f<0&&(f=255+f+1),this[p]=f&255,p+1},h.prototype.writeInt16LE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,2,32767,-32768),this[p]=f&255,this[p+1]=f>>>8,p+2},h.prototype.writeInt16BE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,2,32767,-32768),this[p]=f>>>8,this[p+1]=f&255,p+2},h.prototype.writeInt32LE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,4,2147483647,-2147483648),this[p]=f&255,this[p+1]=f>>>8,this[p+2]=f>>>16,this[p+3]=f>>>24,p+4},h.prototype.writeInt32BE=function(f,p,x){return f=+f,p=p>>>0,x||ue(this,f,p,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4},h.prototype.writeBigInt64LE=Ht(function(f,p=0){return $e(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ht(function(f,p=0){return Xe(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Cr(w,f,p,x,L,j){if(p+x>w.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Nr(w,f,p,x,L){return f=+f,p=p>>>0,L||Cr(w,f,p,4),n.write(w,f,p,x,23,4),p+4}h.prototype.writeFloatLE=function(f,p,x){return Nr(this,f,p,!0,x)},h.prototype.writeFloatBE=function(f,p,x){return Nr(this,f,p,!1,x)};function pn(w,f,p,x,L){return f=+f,p=p>>>0,L||Cr(w,f,p,8),n.write(w,f,p,x,52,8),p+8}h.prototype.writeDoubleLE=function(f,p,x){return pn(this,f,p,!0,x)},h.prototype.writeDoubleBE=function(f,p,x){return pn(this,f,p,!1,x)},h.prototype.copy=function(f,p,x,L){if(!h.isBuffer(f))throw new TypeError("argument should be a Buffer");if(x||(x=0),!L&&L!==0&&(L=this.length),p>=f.length&&(p=f.length),p||(p=0),L>0&&L<x&&(L=x),L===x||f.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),f.length-p<L-x&&(L=f.length-p+x);const j=L-x;return this===f&&typeof s.prototype.copyWithin=="function"?this.copyWithin(p,x,L):s.prototype.set.call(f,this.subarray(x,L),p),j},h.prototype.fill=function(f,p,x,L){if(typeof f=="string"){if(typeof p=="string"?(L=p,p=0,x=this.length):typeof x=="string"&&(L=x,x=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!h.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(f.length===1){const $=f.charCodeAt(0);(L==="utf8"&&$<128||L==="latin1")&&(f=$)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(p<0||this.length<p||this.length<x)throw new RangeError("Out of range index");if(x<=p)return this;p=p>>>0,x=x===void 0?this.length:x>>>0,f||(f=0);let j;if(typeof f=="number")for(j=p;j<x;++j)this[j]=f;else{const $=h.isBuffer(f)?f:h.from(f,L),he=$.length;if(he===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(j=0;j<x-p;++j)this[j+p]=$[j%he]}return this};const $t={};function Nn(w,f,p){$t[w]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}Nn("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Nn("ERR_INVALID_ARG_TYPE",function(w,f){return`The "${w}" argument must be of type number. Received type ${typeof f}`},TypeError),Nn("ERR_OUT_OF_RANGE",function(w,f,p){let x=`The value of "${w}" is out of range.`,L=p;return Number.isInteger(p)&&Math.abs(p)>2**32?L=An(String(p)):typeof p=="bigint"&&(L=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(L=An(L)),L+="n"),x+=` It must be ${f}. Received ${L}`,x},RangeError);function An(w){let f="",p=w.length;const x=w[0]==="-"?1:0;for(;p>=x+4;p-=3)f=`_${w.slice(p-3,p)}${f}`;return`${w.slice(0,p)}${f}`}function Rn(w,f,p){nn(f,"offset"),(w[f]===void 0||w[f+p]===void 0)&&mn(f,w.length-(p+1))}function Ie(w,f,p,x,L,j){if(w>p||w<f){const $=typeof f=="bigint"?"n":"";let he;throw f===0||f===BigInt(0)?he=`>= 0${$} and < 2${$} ** ${(j+1)*8}${$}`:he=`>= -(2${$} ** ${(j+1)*8-1}${$}) and < 2 ** ${(j+1)*8-1}${$}`,new $t.ERR_OUT_OF_RANGE("value",he,w)}Rn(x,L,j)}function nn(w,f){if(typeof w!="number")throw new $t.ERR_INVALID_ARG_TYPE(f,"number",w)}function mn(w,f,p){throw Math.floor(w)!==w?(nn(w,p),new $t.ERR_OUT_OF_RANGE("offset","an integer",w)):f<0?new $t.ERR_BUFFER_OUT_OF_BOUNDS:new $t.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,w)}const dh=/[^+/0-9A-Za-z-_]/g;function cl(w){if(w=w.split("=")[0],w=w.trim().replace(dh,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function yi(w,f){f=f||1/0;let p;const x=w.length;let L=null;const j=[];for(let $=0;$<x;++$){if(p=w.charCodeAt($),p>55295&&p<57344){if(!L){if(p>56319){(f-=3)>-1&&j.push(239,191,189);continue}else if($+1===x){(f-=3)>-1&&j.push(239,191,189);continue}L=p;continue}if(p<56320){(f-=3)>-1&&j.push(239,191,189),L=p;continue}p=(L-55296<<10|p-56320)+65536}else L&&(f-=3)>-1&&j.push(239,191,189);if(L=null,p<128){if((f-=1)<0)break;j.push(p)}else if(p<2048){if((f-=2)<0)break;j.push(p>>6|192,p&63|128)}else if(p<65536){if((f-=3)<0)break;j.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((f-=4)<0)break;j.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return j}function hl(w){const f=[];for(let p=0;p<w.length;++p)f.push(w.charCodeAt(p)&255);return f}function fh(w,f){let p,x,L;const j=[];for(let $=0;$<w.length&&!((f-=2)<0);++$)p=w.charCodeAt($),x=p>>8,L=p%256,j.push(L),j.push(x);return j}function as(w){return e.toByteArray(cl(w))}function Ar(w,f,p,x){let L;for(L=0;L<x&&!(L+p>=f.length||L>=w.length);++L)f[L+p]=w[L];return L}function qt(w,f){return w instanceof f||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===f.name}function Je(w){return w!==w}const ct=function(){const w="0123456789abcdef",f=new Array(256);for(let p=0;p<16;++p){const x=p*16;for(let L=0;L<16;++L)f[x+L]=w[p]+w[L]}return f}();function Ht(w){return typeof BigInt>"u"?dl:w}function dl(){throw new Error("BigInt not supported")}})(n0);const Vx=n0.Buffer;(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function zx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i0={exports:{}},fe={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ko=Symbol.for("react.element"),$x=Symbol.for("react.portal"),qx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Xx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),Yg=Symbol.iterator;function Zx(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var s0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a0=Object.assign,o0={};function ua(t,e,n){this.props=t,this.context=e,this.refs=o0,this.updater=n||s0}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l0(){}l0.prototype=ua.prototype;function Zf(t,e,n){this.props=t,this.context=e,this.refs=o0,this.updater=n||s0}var ep=Zf.prototype=new l0;ep.constructor=Zf;a0(ep,ua.prototype);ep.isPureReactComponent=!0;var Xg=Array.isArray,u0=Object.prototype.hasOwnProperty,tp={current:null},c0={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)u0.call(e,r)&&!c0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ko,type:t,key:s,ref:a,props:i,_owner:tp.current}}function eT(t,e){return{$$typeof:Ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ko}function tT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jg=/\/+/g;function Nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tT(""+t.key):e.toString(36)}function nu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ko:case $x:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nh(a,0):r,Xg(i)?(n="",t!=null&&(n=t.replace(Jg,"$&/")+"/"),nu(i,e,n,"",function(c){return c})):i!=null&&(np(i)&&(i=eT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Jg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Xg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Nh(s,l);a+=nu(s,e,n,u,i)}else if(u=Zx(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Nh(s,l++),a+=nu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cl(t,e,n){if(t==null)return t;var r=[],i=0;return nu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},ru={transition:null},rT={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:ru,ReactCurrentOwner:tp};function d0(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Cl,forEach:function(t,e,n){Cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cl(t,function(){e++}),e},toArray:function(t){return Cl(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ua;fe.Fragment=qx;fe.Profiler=Kx;fe.PureComponent=Zf;fe.StrictMode=Hx;fe.Suspense=Yx;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;fe.act=d0;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a0({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=tp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)u0.call(e,u)&&!c0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ko,type:t.type,key:i,ref:s,props:r,_owner:a}};fe.createContext=function(t){return t={$$typeof:Gx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wx,_context:t},t.Consumer=t};fe.createElement=h0;fe.createFactory=function(t){var e=h0.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Qx,render:t}};fe.isValidElement=np;fe.lazy=function(t){return{$$typeof:Jx,_payload:{_status:-1,_result:t},_init:nT}};fe.memo=function(t,e){return{$$typeof:Xx,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=ru.transition;ru.transition={};try{t()}finally{ru.transition=e}};fe.unstable_act=d0;fe.useCallback=function(t,e){return Ot.current.useCallback(t,e)};fe.useContext=function(t){return Ot.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Ot.current.useEffect(t,e)};fe.useId=function(){return Ot.current.useId()};fe.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Ot.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};fe.useRef=function(t){return Ot.current.useRef(t)};fe.useState=function(t){return Ot.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Ot.current.useTransition()};fe.version="18.3.1";i0.exports=fe;var N=i0.exports;const de=Ho(N),iT=zx({__proto__:null,default:de},[N]);var f0={exports:{}},en={},p0={exports:{}},m0={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(H,J){var Z=H.length;H.push(J);e:for(;0<Z;){var ce=Z-1>>>1,ie=H[ce];if(0<i(ie,J))H[ce]=J,H[Z]=ie,Z=ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],Z=H.pop();if(Z!==J){H[0]=Z;e:for(var ce=0,ie=H.length,se=ie>>>1;ce<se;){var ee=2*(ce+1)-1,ue=H[ee],$e=ee+1,Xe=H[$e];if(0>i(ue,Z))$e<ie&&0>i(Xe,ue)?(H[ce]=Xe,H[$e]=Z,ce=$e):(H[ce]=ue,H[ee]=Z,ce=ee);else if($e<ie&&0>i(Xe,Z))H[ce]=Xe,H[$e]=Z,ce=$e;else break e}}return J}function i(H,J){var Z=H.sortIndex-J.sortIndex;return Z!==0?Z:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,g=null,y=3,C=!1,I=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=H)r(c),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(c)}}function F(H){if(O=!1,_(H),!I)if(n(u)!==null)I=!0,Ue(z);else{var J=n(c);J!==null&&Ee(F,J.startTime-H)}}function z(H,J){I=!1,O&&(O=!1,S(v),v=-1),C=!0;var Z=y;try{for(_(J),g=n(u);g!==null&&(!(g.expirationTime>J)||H&&!P());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var ie=ce(g.expirationTime<=J);J=t.unstable_now(),typeof ie=="function"?g.callback=ie:g===n(u)&&r(u),_(J)}else r(u);g=n(u)}if(g!==null)var se=!0;else{var ee=n(c);ee!==null&&Ee(F,ee.startTime-J),se=!1}return se}finally{g=null,y=Z,C=!1}}var V=!1,T=null,v=-1,k=5,A=-1;function P(){return!(t.unstable_now()-A<k)}function M(){if(T!==null){var H=t.unstable_now();A=H;var J=!0;try{J=T(!0,H)}finally{J?R():(V=!1,T=null)}}else V=!1}var R;if(typeof E=="function")R=function(){E(M)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ye=Te.port2;Te.port1.onmessage=M,R=function(){Ye.postMessage(null)}}else R=function(){D(M,0)};function Ue(H){T=H,V||(V=!0,R())}function Ee(H,J){v=D(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){I||C||(I=!0,Ue(z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var Z=y;y=J;try{return H()}finally{y=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=y;y=H;try{return J()}finally{y=Z}},t.unstable_scheduleCallback=function(H,J,Z){var ce=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Z+ie,H={id:h++,callback:J,priorityLevel:H,startTime:Z,expirationTime:ie,sortIndex:-1},Z>ce?(H.sortIndex=Z,e(c,H),n(u)===null&&H===n(c)&&(O?(S(v),v=-1):O=!0,Ee(F,Z-ce))):(H.sortIndex=ie,e(u,H),I||C||(I=!0,Ue(z))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var J=y;return function(){var Z=y;y=J;try{return H.apply(this,arguments)}finally{y=Z}}}})(m0);p0.exports=m0;var sT=p0.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var aT=N,Jt=sT;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g0=new Set,fo={};function Xi(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(fo[t]=e,t=0;t<e.length;t++)g0.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kd=Object.prototype.hasOwnProperty,oT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zg={},ey={};function lT(t){return kd.call(ey,t)?!0:kd.call(Zg,t)?!1:oT.test(t)?ey[t]=!0:(Zg[t]=!0,!1)}function uT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cT(t,e,n,r){if(e===null||typeof e>"u"||uT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,ip);yt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,ip);yt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,ip);yt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sp(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cT(e,n,i,r)&&(n=null),r||i===null?lT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=aT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),bs=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Id=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),w0=Symbol.for("react.offscreen"),ty=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Ah;function Va(t){if(Ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ah=e&&e[1]||""}return`
`+Ah+t}var Rh=!1;function Oh(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Va(t):""}function hT(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Sd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case bs:return"Portal";case xd:return"Profiler";case ap:return"StrictMode";case Td:return"Suspense";case Id:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v0:return(t.displayName||"Context")+".Consumer";case y0:return(t._context.displayName||"Context")+".Provider";case op:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:Sd(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return Sd(t(e))}catch{}}return null}function dT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sd(e);case 8:return e===ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fT(t){var e=b0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=fT(t))}function E0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _0(t,e){e=e.checked,e!=null&&sp(t,"checked",e,!1)}function Nd(t,e){_0(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ad(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ad(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ad(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var za=Array.isArray;function Ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(za(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function k0(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,T0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pT=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){pT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function I0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function S0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mT=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pd(t,e){if(e){if(mT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Dd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ld=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fd=null,Fs=null,Ms=null;function ay(t){if(t=Qo(t)){if(typeof Fd!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Sc(e),Fd(t.stateNode,t.type,e))}}function C0(t){Fs?Ms?Ms.push(t):Ms=[t]:Fs=t}function N0(){if(Fs){var t=Fs,e=Ms;if(Ms=Fs=null,ay(t),e)for(t=0;t<e.length;t++)ay(e[t])}}function A0(t,e){return t(e)}function R0(){}var Ph=!1;function O0(t,e,n){if(Ph)return t(e,n);Ph=!0;try{return A0(t,e,n)}finally{Ph=!1,(Fs!==null||Ms!==null)&&(R0(),N0())}}function mo(t,e){var n=t.stateNode;if(n===null)return null;var r=Sc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Md=!1;if(fr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Md=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Md=!1}function gT(t,e,n,r,i,s,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ja=!1,Su=null,Cu=!1,Ud=null,yT={onError:function(t){Ja=!0,Su=t}};function vT(t,e,n,r,i,s,a,l,u){Ja=!1,Su=null,gT.apply(yT,arguments)}function wT(t,e,n,r,i,s,a,l,u){if(vT.apply(this,arguments),Ja){if(Ja){var c=Su;Ja=!1,Su=null}else throw Error(G(198));Cu||(Cu=!0,Ud=c)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(Ji(t)!==t)throw Error(G(188))}function bT(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oy(i),t;if(s===r)return oy(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function D0(t){return t=bT(t),t!==null?L0(t):null}function L0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L0(t);if(e!==null)return e;t=t.sibling}return null}var F0=Jt.unstable_scheduleCallback,ly=Jt.unstable_cancelCallback,ET=Jt.unstable_shouldYield,_T=Jt.unstable_requestPaint,Ge=Jt.unstable_now,kT=Jt.unstable_getCurrentPriorityLevel,cp=Jt.unstable_ImmediatePriority,M0=Jt.unstable_UserBlockingPriority,Nu=Jt.unstable_NormalPriority,xT=Jt.unstable_LowPriority,U0=Jt.unstable_IdlePriority,kc=null,jn=null;function TT(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(kc,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:CT,IT=Math.log,ST=Math.LN2;function CT(t){return t>>>=0,t===0?32:31-(IT(t)/ST|0)|0}var Ol=64,Pl=4194304;function $a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=$a(l):(s&=a,s!==0&&(r=$a(s)))}else a=n&~i,a!==0?r=$a(a):s!==0&&(r=$a(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function NT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Tn(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=NT(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function jd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function j0(){var t=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function RT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function B0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V0,dp,z0,$0,q0,Bd=!1,Dl=[],Yr=null,Xr=null,Jr=null,go=new Map,yo=new Map,Br=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uy(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qo(e),e!==null&&dp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PT(t,e,n,r,i){switch(e){case"focusin":return Yr=Oa(Yr,t,e,n,r,i),!0;case"dragenter":return Xr=Oa(Xr,t,e,n,r,i),!0;case"mouseover":return Jr=Oa(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return go.set(s,Oa(go.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yo.set(s,Oa(yo.get(s)||null,t,e,n,r,i)),!0}return!1}function H0(t){var e=Ni(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=P0(n),e!==null){t.blockedOn=e,q0(t.priority,function(){z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ld=r,n.target.dispatchEvent(r),Ld=null}else return e=Qo(n),e!==null&&dp(e),t.blockedOn=n,!1;e.shift()}return!0}function cy(t,e,n){iu(t)&&n.delete(e)}function DT(){Bd=!1,Yr!==null&&iu(Yr)&&(Yr=null),Xr!==null&&iu(Xr)&&(Xr=null),Jr!==null&&iu(Jr)&&(Jr=null),go.forEach(cy),yo.forEach(cy)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Bd||(Bd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,DT)))}function vo(t){function e(i){return Pa(i,t)}if(0<Dl.length){Pa(Dl[0],t);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&Pa(Yr,t),Xr!==null&&Pa(Xr,t),Jr!==null&&Pa(Jr,t),go.forEach(e),yo.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)H0(n),n.blockedOn===null&&Br.shift()}var Us=kr.ReactCurrentBatchConfig,Ru=!0;function LT(t,e,n,r){var i=ke,s=Us.transition;Us.transition=null;try{ke=1,fp(t,e,n,r)}finally{ke=i,Us.transition=s}}function FT(t,e,n,r){var i=ke,s=Us.transition;Us.transition=null;try{ke=4,fp(t,e,n,r)}finally{ke=i,Us.transition=s}}function fp(t,e,n,r){if(Ru){var i=Vd(t,e,n,r);if(i===null)qh(t,e,r,Ou,n),uy(t,r);else if(PT(i,t,e,n,r))r.stopPropagation();else if(uy(t,r),e&4&&-1<OT.indexOf(t)){for(;i!==null;){var s=Qo(i);if(s!==null&&V0(s),s=Vd(t,e,n,r),s===null&&qh(t,e,r,Ou,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qh(t,e,r,null,n)}}var Ou=null;function Vd(t,e,n,r){if(Ou=null,t=up(r),t=Ni(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ou=t,null}function K0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kT()){case cp:return 1;case M0:return 4;case Nu:case xT:return 16;case U0:return 536870912;default:return 16}default:return 16}}var Hr=null,pp=null,su=null;function W0(){if(su)return su;var t,e=pp,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return su=i.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function hy(){return!1}function tn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ll:hy,this.isPropagationStopped=hy,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=tn(ca),Go=Ve({},ca,{view:0,detail:0}),MT=tn(Go),Lh,Fh,Da,xc=Ve({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Lh=t.screenX-Da.screenX,Fh=t.screenY-Da.screenY):Fh=Lh=0,Da=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:Fh}}),dy=tn(xc),UT=Ve({},xc,{dataTransfer:0}),jT=tn(UT),BT=Ve({},Go,{relatedTarget:0}),Mh=tn(BT),VT=Ve({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),zT=tn(VT),$T=Ve({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qT=tn($T),HT=Ve({},ca,{data:0}),fy=tn(HT),KT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GT[t])?!!e[t]:!1}function gp(){return QT}var YT=Ve({},Go,{key:function(t){if(t.key){var e=KT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XT=tn(YT),JT=Ve({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),py=tn(JT),ZT=Ve({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),eI=tn(ZT),tI=Ve({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),nI=tn(tI),rI=Ve({},xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iI=tn(rI),sI=[9,13,27,32],yp=fr&&"CompositionEvent"in window,Za=null;fr&&"documentMode"in document&&(Za=document.documentMode);var aI=fr&&"TextEvent"in window&&!Za,G0=fr&&(!yp||Za&&8<Za&&11>=Za),my=" ",gy=!1;function Q0(t,e){switch(t){case"keyup":return sI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function oI(t,e){switch(t){case"compositionend":return Y0(e);case"keypress":return e.which!==32?null:(gy=!0,my);case"textInput":return t=e.data,t===my&&gy?null:t;default:return null}}function lI(t,e){if(_s)return t==="compositionend"||!yp&&Q0(t,e)?(t=W0(),su=pp=Hr=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G0&&e.locale!=="ko"?null:e.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uI[t.type]:e==="textarea"}function X0(t,e,n,r){C0(r),e=Pu(e,"onChange"),0<e.length&&(n=new mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var eo=null,wo=null;function cI(t){lb(t,0)}function Tc(t){var e=Ts(t);if(E0(e))return t}function hI(t,e){if(t==="change")return e}var J0=!1;if(fr){var Uh;if(fr){var jh="oninput"in document;if(!jh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),jh=typeof vy.oninput=="function"}Uh=jh}else Uh=!1;J0=Uh&&(!document.documentMode||9<document.documentMode)}function wy(){eo&&(eo.detachEvent("onpropertychange",Z0),wo=eo=null)}function Z0(t){if(t.propertyName==="value"&&Tc(wo)){var e=[];X0(e,wo,t,up(t)),O0(cI,e)}}function dI(t,e,n){t==="focusin"?(wy(),eo=e,wo=n,eo.attachEvent("onpropertychange",Z0)):t==="focusout"&&wy()}function fI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(wo)}function pI(t,e){if(t==="click")return Tc(e)}function mI(t,e){if(t==="input"||t==="change")return Tc(e)}function gI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:gI;function bo(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kd.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function by(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ey(t,e){var n=by(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=by(n)}}function eb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tb(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yI(t){var e=tb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eb(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ey(n,s);var a=Ey(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vI=fr&&"documentMode"in document&&11>=document.documentMode,ks=null,zd=null,to=null,$d=!1;function _y(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$d||ks==null||ks!==Iu(r)||(r=ks,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),to&&bo(to,r)||(to=r,r=Pu(zd,"onSelect"),0<r.length&&(e=new mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function Fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Bh={},nb={};fr&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Ic(t){if(Bh[t])return Bh[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nb)return Bh[t]=e[n];return t}var rb=Ic("animationend"),ib=Ic("animationiteration"),sb=Ic("animationstart"),ab=Ic("transitionend"),ob=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){ob.set(t,e),Xi(e,[t])}for(var Vh=0;Vh<ky.length;Vh++){var zh=ky[Vh],wI=zh.toLowerCase(),bI=zh[0].toUpperCase()+zh.slice(1);pi(wI,"on"+bI)}pi(rb,"onAnimationEnd");pi(ib,"onAnimationIteration");pi(sb,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(ab,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function xy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wT(r,e,void 0,t),t.currentTarget=null}function lb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;xy(i,l,c),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;xy(i,l,c),s=u}}}if(Cu)throw t=Ud,Cu=!1,Ud=null,t}function Le(t,e){var n=e[Gd];n===void 0&&(n=e[Gd]=new Set);var r=t+"__bubble";n.has(r)||(ub(e,t,2,!1),n.add(r))}function $h(t,e,n){var r=0;e&&(r|=4),ub(n,t,r,e)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Eo(t){if(!t[Ml]){t[Ml]=!0,g0.forEach(function(n){n!=="selectionchange"&&(EI.has(n)||$h(n,!1,t),$h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ml]||(e[Ml]=!0,$h("selectionchange",!1,e))}}function ub(t,e,n,r){switch(K0(e)){case 1:var i=LT;break;case 4:i=FT;break;default:i=fp}n=i.bind(null,e,n,t),i=void 0,!Md||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ni(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}O0(function(){var c=s,h=up(n),g=[];e:{var y=ob.get(t);if(y!==void 0){var C=mp,I=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":C=XT;break;case"focusin":I="focus",C=Mh;break;case"focusout":I="blur",C=Mh;break;case"beforeblur":case"afterblur":C=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=jT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=eI;break;case rb:case ib:case sb:C=zT;break;case ab:C=nI;break;case"scroll":C=MT;break;case"wheel":C=iI;break;case"copy":case"cut":case"paste":C=qT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=py}var O=(e&4)!==0,D=!O&&t==="scroll",S=O?y!==null?y+"Capture":null:y;O=[];for(var E=c,_;E!==null;){_=E;var F=_.stateNode;if(_.tag===5&&F!==null&&(_=F,S!==null&&(F=mo(E,S),F!=null&&O.push(_o(E,F,_)))),D)break;E=E.return}0<O.length&&(y=new C(y,I,null,n,h),g.push({event:y,listeners:O}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",y&&n!==Ld&&(I=n.relatedTarget||n.fromElement)&&(Ni(I)||I[pr]))break e;if((C||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,C?(I=n.relatedTarget||n.toElement,C=c,I=I?Ni(I):null,I!==null&&(D=Ji(I),I!==D||I.tag!==5&&I.tag!==6)&&(I=null)):(C=null,I=c),C!==I)){if(O=dy,F="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(O=py,F="onPointerLeave",S="onPointerEnter",E="pointer"),D=C==null?y:Ts(C),_=I==null?y:Ts(I),y=new O(F,E+"leave",C,n,h),y.target=D,y.relatedTarget=_,F=null,Ni(h)===c&&(O=new O(S,E+"enter",I,n,h),O.target=_,O.relatedTarget=D,F=O),D=F,C&&I)t:{for(O=C,S=I,E=0,_=O;_;_=ds(_))E++;for(_=0,F=S;F;F=ds(F))_++;for(;0<E-_;)O=ds(O),E--;for(;0<_-E;)S=ds(S),_--;for(;E--;){if(O===S||S!==null&&O===S.alternate)break t;O=ds(O),S=ds(S)}O=null}else O=null;C!==null&&Ty(g,y,C,O,!1),I!==null&&D!==null&&Ty(g,D,I,O,!0)}}e:{if(y=c?Ts(c):window,C=y.nodeName&&y.nodeName.toLowerCase(),C==="select"||C==="input"&&y.type==="file")var z=hI;else if(yy(y))if(J0)z=mI;else{z=fI;var V=dI}else(C=y.nodeName)&&C.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=pI);if(z&&(z=z(t,c))){X0(g,z,n,h);break e}V&&V(t,y,c),t==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&Ad(y,"number",y.value)}switch(V=c?Ts(c):window,t){case"focusin":(yy(V)||V.contentEditable==="true")&&(ks=V,zd=c,to=null);break;case"focusout":to=zd=ks=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,_y(g,n,h);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":_y(g,n,h)}var T;if(yp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else _s?Q0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(G0&&n.locale!=="ko"&&(_s||v!=="onCompositionStart"?v==="onCompositionEnd"&&_s&&(T=W0()):(Hr=h,pp="value"in Hr?Hr.value:Hr.textContent,_s=!0)),V=Pu(c,v),0<V.length&&(v=new fy(v,t,null,n,h),g.push({event:v,listeners:V}),T?v.data=T:(T=Y0(n),T!==null&&(v.data=T)))),(T=aI?oI(t,n):lI(t,n))&&(c=Pu(c,"onBeforeInput"),0<c.length&&(h=new fy("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:c}),h.data=T))}lb(g,e)})}function _o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mo(t,n),s!=null&&r.unshift(_o(t,s,i)),s=mo(t,e),s!=null&&r.push(_o(t,s,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ty(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=mo(n,s),u!=null&&a.unshift(_o(n,u,l))):i||(u=mo(n,s),u!=null&&a.push(_o(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var _I=/\r\n?/g,kI=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(_I,`
`).replace(kI,"")}function Ul(t,e,n){if(e=Iy(e),Iy(t)!==e&&n)throw Error(G(425))}function Du(){}var qd=null,Hd=null;function Kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(II)}:Wd;function II(t){setTimeout(function(){throw t})}function Hh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vo(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Un="__reactFiber$"+ha,ko="__reactProps$"+ha,pr="__reactContainer$"+ha,Gd="__reactEvents$"+ha,SI="__reactListeners$"+ha,CI="__reactHandles$"+ha;function Ni(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cy(t);t!==null;){if(n=t[Un])return n;t=Cy(t)}return e}t=n,n=t.parentNode}return null}function Qo(t){return t=t[Un]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Sc(t){return t[ko]||null}var Qd=[],Is=-1;function mi(t){return{current:t}}function Fe(t){0>Is||(t.current=Qd[Is],Qd[Is]=null,Is--)}function Re(t,e){Is++,Qd[Is]=t.current,t.current=e}var ci={},It=mi(ci),jt=mi(!1),Bi=ci;function Ws(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function Lu(){Fe(jt),Fe(It)}function Ny(t,e,n){if(It.current!==ci)throw Error(G(168));Re(It,e),Re(jt,n)}function cb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,dT(t)||"Unknown",i));return Ve({},n,r)}function Fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Bi=It.current,Re(It,t),Re(jt,jt.current),!0}function Ay(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=cb(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Fe(jt),Fe(It),Re(It,t)):Fe(jt),Re(jt,n)}var Xn=null,Cc=!1,Kh=!1;function hb(t){Xn===null?Xn=[t]:Xn.push(t)}function NI(t){Cc=!0,hb(t)}function gi(){if(!Kh&&Xn!==null){Kh=!0;var t=0,e=ke;try{var n=Xn;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,Cc=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),F0(cp,gi),i}finally{ke=e,Kh=!1}}return null}var Ss=[],Cs=0,Mu=null,Uu=0,sn=[],an=0,Vi=null,nr=1,rr="";function xi(t,e){Ss[Cs++]=Uu,Ss[Cs++]=Mu,Mu=t,Uu=e}function db(t,e,n){sn[an++]=nr,sn[an++]=rr,sn[an++]=Vi,Vi=t;var r=nr;t=rr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,nr=1<<32-Tn(e)+i|n<<i|r,rr=s+t}else nr=1<<s|n<<i|r,rr=t}function wp(t){t.return!==null&&(xi(t,1),db(t,1,0))}function bp(t){for(;t===Mu;)Mu=Ss[--Cs],Ss[Cs]=null,Uu=Ss[--Cs],Ss[Cs]=null;for(;t===Vi;)Vi=sn[--an],sn[an]=null,rr=sn[--an],sn[an]=null,nr=sn[--an],sn[an]=null}var Xt=null,Gt=null,Me=!1,bn=null;function fb(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ry(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Gt=null,!0):!1;default:return!1}}function Yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xd(t){if(Me){var e=Gt;if(e){var n=e;if(!Ry(t,e)){if(Yd(t))throw Error(G(418));e=Zr(n.nextSibling);var r=Xt;e&&Ry(t,e)?fb(r,n):(t.flags=t.flags&-4097|2,Me=!1,Xt=t)}}else{if(Yd(t))throw Error(G(418));t.flags=t.flags&-4097|2,Me=!1,Xt=t}}}function Oy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function jl(t){if(t!==Xt)return!1;if(!Me)return Oy(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kd(t.type,t.memoizedProps)),e&&(e=Gt)){if(Yd(t))throw pb(),Error(G(418));for(;e;)fb(t,e),e=Zr(e.nextSibling)}if(Oy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Xt?Zr(t.stateNode.nextSibling):null;return!0}function pb(){for(var t=Gt;t;)t=Zr(t.nextSibling)}function Gs(){Gt=Xt=null,Me=!1}function Ep(t){bn===null?bn=[t]:bn.push(t)}var AI=kr.ReactCurrentBatchConfig;function La(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Py(t){var e=t._init;return e(t._payload)}function mb(t){function e(S,E){if(t){var _=S.deletions;_===null?(S.deletions=[E],S.flags|=16):_.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=ri(S,E),S.index=0,S.sibling=null,S}function s(S,E,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<E?(S.flags|=2,E):_):(S.flags|=2,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,E,_,F){return E===null||E.tag!==6?(E=Zh(_,S.mode,F),E.return=S,E):(E=i(E,_),E.return=S,E)}function u(S,E,_,F){var z=_.type;return z===Es?h(S,E,_.props.children,F,_.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Mr&&Py(z)===E.type)?(F=i(E,_.props),F.ref=La(S,E,_),F.return=S,F):(F=fu(_.type,_.key,_.props,null,S.mode,F),F.ref=La(S,E,_),F.return=S,F)}function c(S,E,_,F){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=ed(_,S.mode,F),E.return=S,E):(E=i(E,_.children||[]),E.return=S,E)}function h(S,E,_,F,z){return E===null||E.tag!==7?(E=Fi(_,S.mode,F,z),E.return=S,E):(E=i(E,_),E.return=S,E)}function g(S,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Zh(""+E,S.mode,_),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nl:return _=fu(E.type,E.key,E.props,null,S.mode,_),_.ref=La(S,null,E),_.return=S,_;case bs:return E=ed(E,S.mode,_),E.return=S,E;case Mr:var F=E._init;return g(S,F(E._payload),_)}if(za(E)||Aa(E))return E=Fi(E,S.mode,_,null),E.return=S,E;Bl(S,E)}return null}function y(S,E,_,F){var z=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return z!==null?null:l(S,E,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nl:return _.key===z?u(S,E,_,F):null;case bs:return _.key===z?c(S,E,_,F):null;case Mr:return z=_._init,y(S,E,z(_._payload),F)}if(za(_)||Aa(_))return z!==null?null:h(S,E,_,F,null);Bl(S,_)}return null}function C(S,E,_,F,z){if(typeof F=="string"&&F!==""||typeof F=="number")return S=S.get(_)||null,l(E,S,""+F,z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Nl:return S=S.get(F.key===null?_:F.key)||null,u(E,S,F,z);case bs:return S=S.get(F.key===null?_:F.key)||null,c(E,S,F,z);case Mr:var V=F._init;return C(S,E,_,V(F._payload),z)}if(za(F)||Aa(F))return S=S.get(_)||null,h(E,S,F,z,null);Bl(E,F)}return null}function I(S,E,_,F){for(var z=null,V=null,T=E,v=E=0,k=null;T!==null&&v<_.length;v++){T.index>v?(k=T,T=null):k=T.sibling;var A=y(S,T,_[v],F);if(A===null){T===null&&(T=k);break}t&&T&&A.alternate===null&&e(S,T),E=s(A,E,v),V===null?z=A:V.sibling=A,V=A,T=k}if(v===_.length)return n(S,T),Me&&xi(S,v),z;if(T===null){for(;v<_.length;v++)T=g(S,_[v],F),T!==null&&(E=s(T,E,v),V===null?z=T:V.sibling=T,V=T);return Me&&xi(S,v),z}for(T=r(S,T);v<_.length;v++)k=C(T,S,v,_[v],F),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?v:k.key),E=s(k,E,v),V===null?z=k:V.sibling=k,V=k);return t&&T.forEach(function(P){return e(S,P)}),Me&&xi(S,v),z}function O(S,E,_,F){var z=Aa(_);if(typeof z!="function")throw Error(G(150));if(_=z.call(_),_==null)throw Error(G(151));for(var V=z=null,T=E,v=E=0,k=null,A=_.next();T!==null&&!A.done;v++,A=_.next()){T.index>v?(k=T,T=null):k=T.sibling;var P=y(S,T,A.value,F);if(P===null){T===null&&(T=k);break}t&&T&&P.alternate===null&&e(S,T),E=s(P,E,v),V===null?z=P:V.sibling=P,V=P,T=k}if(A.done)return n(S,T),Me&&xi(S,v),z;if(T===null){for(;!A.done;v++,A=_.next())A=g(S,A.value,F),A!==null&&(E=s(A,E,v),V===null?z=A:V.sibling=A,V=A);return Me&&xi(S,v),z}for(T=r(S,T);!A.done;v++,A=_.next())A=C(T,S,v,A.value,F),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?v:A.key),E=s(A,E,v),V===null?z=A:V.sibling=A,V=A);return t&&T.forEach(function(M){return e(S,M)}),Me&&xi(S,v),z}function D(S,E,_,F){if(typeof _=="object"&&_!==null&&_.type===Es&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nl:e:{for(var z=_.key,V=E;V!==null;){if(V.key===z){if(z=_.type,z===Es){if(V.tag===7){n(S,V.sibling),E=i(V,_.props.children),E.return=S,S=E;break e}}else if(V.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Mr&&Py(z)===V.type){n(S,V.sibling),E=i(V,_.props),E.ref=La(S,V,_),E.return=S,S=E;break e}n(S,V);break}else e(S,V);V=V.sibling}_.type===Es?(E=Fi(_.props.children,S.mode,F,_.key),E.return=S,S=E):(F=fu(_.type,_.key,_.props,null,S.mode,F),F.ref=La(S,E,_),F.return=S,S=F)}return a(S);case bs:e:{for(V=_.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(S,E.sibling),E=i(E,_.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=ed(_,S.mode,F),E.return=S,S=E}return a(S);case Mr:return V=_._init,D(S,E,V(_._payload),F)}if(za(_))return I(S,E,_,F);if(Aa(_))return O(S,E,_,F);Bl(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,_),E.return=S,S=E):(n(S,E),E=Zh(_,S.mode,F),E.return=S,S=E),a(S)):n(S,E)}return D}var Qs=mb(!0),gb=mb(!1),ju=mi(null),Bu=null,Ns=null,_p=null;function kp(){_p=Ns=Bu=null}function xp(t){var e=ju.current;Fe(ju),t._currentValue=e}function Jd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function js(t,e){Bu=t,_p=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(_p!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(Bu===null)throw Error(G(308));Ns=t,Bu.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var Ai=null;function Tp(t){Ai===null?Ai=[t]:Ai.push(t)}function yb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tp(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tp(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}function Dy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vu(t,e,n,r){var i=t.updateQueue;Ur=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;a=0,h=c=u=null,l=s;do{var y=l.lane,C=l.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,O=l;switch(y=e,C=n,O.tag){case 1:if(I=O.payload,typeof I=="function"){g=I.call(C,g,y);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=O.payload,y=typeof I=="function"?I.call(C,g,y):I,y==null)break e;g=Ve({},g,y);break e;case 2:Ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else C={eventTime:C,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=C,u=g):h=h.next=C,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(h===null&&(u=g),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$i|=a,t.lanes=a,t.memoizedState=g}}function Ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Yo={},Bn=mi(Yo),xo=mi(Yo),To=mi(Yo);function Ri(t){if(t===Yo)throw Error(G(174));return t}function Sp(t,e){switch(Re(To,e),Re(xo,t),Re(Bn,Yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Od(e,t)}Fe(Bn),Re(Bn,e)}function Ys(){Fe(Bn),Fe(xo),Fe(To)}function wb(t){Ri(To.current);var e=Ri(Bn.current),n=Od(e,t.type);e!==n&&(Re(xo,t),Re(Bn,n))}function Cp(t){xo.current===t&&(Fe(Bn),Fe(xo))}var je=mi(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wh=[];function Np(){for(var t=0;t<Wh.length;t++)Wh[t]._workInProgressVersionPrimary=null;Wh.length=0}var lu=kr.ReactCurrentDispatcher,Gh=kr.ReactCurrentBatchConfig,zi=0,Be=null,rt=null,lt=null,$u=!1,no=!1,Io=0,RI=0;function bt(){throw Error(G(321))}function Ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Rp(t,e,n,r,i,s){if(zi=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lu.current=t===null||t.memoizedState===null?LI:FI,t=n(r,i),no){s=0;do{if(no=!1,Io=0,25<=s)throw Error(G(301));s+=1,lt=rt=null,e.updateQueue=null,lu.current=MI,t=n(r,i)}while(no)}if(lu.current=qu,e=rt!==null&&rt.next!==null,zi=0,lt=rt=Be=null,$u=!1,e)throw Error(G(300));return t}function Op(){var t=Io!==0;return Io=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Be.memoizedState=lt=t:lt=lt.next=t,lt}function dn(){if(rt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=lt===null?Be.memoizedState:lt.next;if(e!==null)lt=e,rt=t;else{if(t===null)throw Error(G(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Be.memoizedState=lt=t:lt=lt.next=t}return lt}function So(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=dn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((zi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=g,a=r):u=u.next=g,Be.lanes|=h,$i|=h}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=l,Cn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,$i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=dn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Cn(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bb(){}function Eb(t,e){var n=Be,r=dn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ut=!0),r=r.queue,Pp(xb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Co(9,kb.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(G(349));zi&30||_b(n,e,i)}return i}function _b(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kb(t,e,n,r){e.value=n,e.getSnapshot=r,Tb(e)&&Ib(t)}function xb(t,e,n){return n(function(){Tb(e)&&Ib(t)})}function Tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function Ib(t){var e=mr(t,1);e!==null&&In(e,t,1,-1)}function Fy(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=DI.bind(null,Be,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sb(){return dn().memoizedState}function uu(t,e,n,r){var i=Pn();Be.flags|=t,i.memoizedState=Co(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var a=rt.memoizedState;if(s=a.destroy,r!==null&&Ap(r,a.deps)){i.memoizedState=Co(e,n,s,r);return}}Be.flags|=t,i.memoizedState=Co(1|e,n,s,r)}function My(t,e){return uu(8390656,8,t,e)}function Pp(t,e){return Nc(2048,8,t,e)}function Cb(t,e){return Nc(4,2,t,e)}function Nb(t,e){return Nc(4,4,t,e)}function Ab(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rb(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,Ab.bind(null,e,t),n)}function Dp(){}function Ob(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pb(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Db(t,e,n){return zi&21?(Cn(n,e)||(n=j0(),Be.lanes|=n,$i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function OI(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{ke=n,Gh.transition=r}}function Lb(){return dn().memoizedState}function PI(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fb(t))Mb(e,n);else if(n=yb(t,e,n,r),n!==null){var i=Rt();In(n,t,r,i),Ub(n,e,r)}}function DI(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fb(t))Mb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,a)){var u=e.interleaved;u===null?(i.next=i,Tp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=yb(t,e,i,r),n!==null&&(i=Rt(),In(n,t,r,i),Ub(n,e,r))}}function Fb(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function Mb(t,e){no=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ub(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}var qu={readContext:hn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},LI={readContext:hn,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:My,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,Ab.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PI.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Fy,useDebugValue:Dp,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Fy(!1),e=t[0];return t=OI.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=Pn();if(Me){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),ut===null)throw Error(G(349));zi&30||_b(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,My(xb.bind(null,r,s,t),[t]),r.flags|=2048,Co(9,kb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pn(),e=ut.identifierPrefix;if(Me){var n=rr,r=nr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Io++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FI={readContext:hn,useCallback:Ob,useContext:hn,useEffect:Pp,useImperativeHandle:Rb,useInsertionEffect:Cb,useLayoutEffect:Nb,useMemo:Pb,useReducer:Qh,useRef:Sb,useState:function(){return Qh(So)},useDebugValue:Dp,useDeferredValue:function(t){var e=dn();return Db(e,rt.memoizedState,t)},useTransition:function(){var t=Qh(So)[0],e=dn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:Eb,useId:Lb,unstable_isNewReconciler:!1},MI={readContext:hn,useCallback:Ob,useContext:hn,useEffect:Pp,useImperativeHandle:Rb,useInsertionEffect:Cb,useLayoutEffect:Nb,useMemo:Pb,useReducer:Yh,useRef:Sb,useState:function(){return Yh(So)},useDebugValue:Dp,useDeferredValue:function(t){var e=dn();return rt===null?e.memoizedState=t:Db(e,rt.memoizedState,t)},useTransition:function(){var t=Yh(So)[0],e=dn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:Eb,useId:Lb,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ac={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ni(t),s=or(r,i);s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(In(e,t,i,r),ou(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ni(t),s=or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(In(e,t,i,r),ou(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ni(t),i=or(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(In(e,t,r,n),ou(e,t,r))}};function Uy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!bo(n,r)||!bo(i,s):!0}function jb(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=Bt(e)?Bi:It.current,r=e.contextTypes,s=(r=r!=null)?Ws(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ac.enqueueReplaceState(e,e.state,null)}function ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ip(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=Bt(e)?Bi:It.current,i.context=Ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var n="",r=e;do n+=hT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function Bb(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ku||(Ku=!0,hf=r),tf(t,e)},n}function Vb(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tf(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function By(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JI.bind(null,t,e,n),e.then(t,t))}function Vy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var jI=kr.ReactCurrentOwner,Ut=!1;function Nt(t,e,n,r){e.child=t===null?gb(e,null,n,r):Qs(e,t.child,n,r)}function $y(t,e,n,r,i){n=n.render;var s=e.ref;return js(e,i),r=Rp(t,e,n,r,s,i),n=Op(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Me&&n&&wp(e),e.flags|=1,Nt(t,e,r,i),e.child)}function qy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zb(t,e,s,r,i)):(t=fu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(a,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function zb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bo(s,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,gr(t,e,i)}return nf(t,e,n,r,i)}function $b(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Rs,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Rs,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(Rs,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(Rs,Wt),Wt|=r;return Nt(t,e,i,n),e.child}function qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nf(t,e,n,r,i){var s=Bt(n)?Bi:It.current;return s=Ws(e,s),js(e,i),n=Rp(t,e,n,r,s,i),r=Op(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Me&&r&&wp(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Hy(t,e,n,r,i){if(Bt(n)){var s=!0;Fu(e)}else s=!1;if(js(e,i),e.stateNode===null)cu(t,e),jb(e,n,r),ef(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Bt(n)?Bi:It.current,c=Ws(e,c));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&jy(e,a,r,c),Ur=!1;var y=e.memoizedState;a.state=y,Vu(e,r,a,i),u=e.memoizedState,l!==r||y!==u||jt.current||Ur?(typeof h=="function"&&(Zd(e,n,h,r),u=e.memoizedState),(l=Ur||Uy(e,n,l,r,y,u,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,vb(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:vn(e.type,l),a.props=c,g=e.pendingProps,y=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=Bt(n)?Bi:It.current,u=Ws(e,u));var C=n.getDerivedStateFromProps;(h=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||y!==u)&&jy(e,a,r,u),Ur=!1,y=e.memoizedState,a.state=y,Vu(e,r,a,i);var I=e.memoizedState;l!==g||y!==I||jt.current||Ur?(typeof C=="function"&&(Zd(e,n,C,r),I=e.memoizedState),(c=Ur||Uy(e,n,c,r,y,I,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,I,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,I,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),a.props=r,a.state=I,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return rf(t,e,n,r,s,i)}function rf(t,e,n,r,i,s){qb(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ay(e,n,!1),gr(t,e,s);r=e.stateNode,jI.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Qs(e,t.child,null,s),e.child=Qs(e,null,l,s)):Nt(t,e,l,s),e.memoizedState=r.state,i&&Ay(e,n,!0),e.child}function Hb(t){var e=t.stateNode;e.pendingContext?Ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ny(t,e.context,!1),Sp(t,e.containerInfo)}function Ky(t,e,n,r,i){return Gs(),Ep(i),e.flags|=256,Nt(t,e,n,r),e.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function af(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kb(t,e,n){var r=e.pendingProps,i=je.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(je,i&1),t===null)return Xd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Pc(a,r,0,null),t=Fi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=af(n),e.memoizedState=sf,t):Lp(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return BI(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ri(l,s):(s=Fi(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?af(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=sf,r}return s=t.child,t=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lp(t,e){return e=Pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vl(t,e,n,r){return r!==null&&Ep(r),Qs(e,t.child,null,n),t=Lp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BI(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(G(422))),Vl(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pc({mode:"visible",children:r.children},i,0,null),s=Fi(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qs(e,t.child,null,a),e.child.memoizedState=af(a),e.memoizedState=sf,s);if(!(e.mode&1))return Vl(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(G(419)),r=Xh(s,r,void 0),Vl(t,e,a,r)}if(l=(a&t.childLanes)!==0,Ut||l){if(r=ut,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mr(t,i),In(r,t,i,-1))}return Vp(),r=Xh(Error(G(421))),Vl(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gt=Zr(i.nextSibling),Xt=e,Me=!0,bn=null,t!==null&&(sn[an++]=nr,sn[an++]=rr,sn[an++]=Vi,nr=t.id,rr=t.overflow,Vi=e),e=Lp(e,r.children),e.flags|=4096,e)}function Wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jd(t.return,e,n)}function Jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,n,e);else if(t.tag===19)Wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jh(e,!0,n,null,s);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VI(t,e,n){switch(e.tag){case 3:Hb(e),Gs();break;case 5:wb(e);break;case 1:Bt(e.type)&&Fu(e);break;case 4:Sp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(ju,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?Kb(t,e,n):(Re(je,je.current&1),t=gr(t,e,n),t!==null?t.sibling:null);Re(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,$b(t,e,n)}return gr(t,e,n)}var Gb,of,Qb,Yb;Gb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};of=function(){};Qb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ri(Bn.current);var s=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Rd(t,i),r=Rd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Du)}Pd(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Yb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zI(t,e,n){var r=e.pendingProps;switch(bp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Bt(e.type)&&Lu(),Et(e),null;case 3:return r=e.stateNode,Ys(),Fe(jt),Fe(It),Np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(pf(bn),bn=null))),of(t,e),Et(e),null;case 5:Cp(e);var i=Ri(To.current);if(n=e.type,t!==null&&e.stateNode!=null)Qb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Et(e),null}if(t=Ri(Bn.current),jl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[ko]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<qa.length;i++)Le(qa[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":ny(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":iy(r,s),Le("invalid",r)}Pd(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,l,t),i=["children",""+l]):fo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":Al(r),ry(r,s,!0);break;case"textarea":Al(r),sy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Du)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Un]=e,t[ko]=r,Gb(t,e,!1,!1),e.stateNode=t;e:{switch(a=Dd(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<qa.length;i++)Le(qa[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":ny(t,r),i=Cd(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Le("invalid",t);break;case"textarea":iy(t,r),i=Rd(t,r),Le("invalid",t);break;default:i=r}Pd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?S0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&T0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&po(t,u):typeof u=="number"&&po(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Le("scroll",t):u!=null&&sp(t,s,u,a))}switch(n){case"input":Al(t),ry(t,r,!1);break;case"textarea":Al(t),sy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ls(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Du)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)Yb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ri(To.current),Ri(Bn.current),jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Et(e),null;case 13:if(Fe(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Gt!==null&&e.mode&1&&!(e.flags&128))pb(),Gs(),e.flags|=98560,s=!1;else if(s=jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Un]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else bn!==null&&(pf(bn),bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?st===0&&(st=3):Vp())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return Ys(),of(t,e),t===null&&Eo(e.stateNode.containerInfo),Et(e),null;case 10:return xp(e.type._context),Et(e),null;case 17:return Bt(e.type)&&Lu(),Et(e),null;case 19:if(Fe(je),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Fa(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zu(t),a!==null){for(e.flags|=128,Fa(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Js&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304)}else{if(!r)if(t=zu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Me)return Et(e),null}else 2*Ge()-s.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=je.current,Re(je,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Bp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function $I(t,e){switch(bp(e),e.tag){case 1:return Bt(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),Fe(jt),Fe(It),Np(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cp(e),null;case 13:if(Fe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(je),null;case 4:return Ys(),null;case 10:return xp(e.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var zl=!1,xt=!1,qI=typeof WeakSet=="function"?WeakSet:Set,Y=null;function As(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Xb(t,e,n){try{n()}catch(r){He(t,e,r)}}var Gy=!1;function HI(t,e){if(qd=Ru,t=tb(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,g=t,y=null;t:for(;;){for(var C;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(C=g.firstChild)!==null;)y=g,g=C;for(;;){if(g===t)break t;if(y===n&&++c===i&&(l=a),y===s&&++h===r&&(u=a),(C=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hd={focusedElem:t,selectionRange:n},Ru=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var O=I.memoizedProps,D=I.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?O:vn(e.type,O),D);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(F){He(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return I=Gy,Gy=!1,I}function ro(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xb(e,n,s)}i=i.next}while(i!==r)}}function Rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jb(t){var e=t.alternate;e!==null&&(t.alternate=null,Jb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[ko],delete e[Gd],delete e[SI],delete e[CI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zb(t){return t.tag===5||t.tag===3||t.tag===4}function Qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Du));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var dt=null,wn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)eE(t,e,n),n=n.sibling}function eE(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:xt||As(n,e);case 6:var r=dt,i=wn;dt=null,Dr(t,e,n),dt=r,wn=i,dt!==null&&(wn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(wn?(t=dt,n=n.stateNode,t.nodeType===8?Hh(t.parentNode,n):t.nodeType===1&&Hh(t,n),vo(t)):Hh(dt,n.stateNode));break;case 4:r=dt,i=wn,dt=n.stateNode.containerInfo,wn=!0,Dr(t,e,n),dt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Xb(n,e,a),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!xt&&(As(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Dr(t,e,n),xt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qI),e.forEach(function(r){var i=eS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,wn=!1;break e;case 3:dt=l.stateNode.containerInfo,wn=!0;break e;case 4:dt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(dt===null)throw Error(G(160));eE(s,a,i),dt=null,wn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tE(e,t),e=e.sibling}function tE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),On(t),r&4){try{ro(3,t,t.return),Rc(3,t)}catch(O){He(t,t.return,O)}try{ro(5,t,t.return)}catch(O){He(t,t.return,O)}}break;case 1:yn(e,t),On(t),r&512&&n!==null&&As(n,n.return);break;case 5:if(yn(e,t),On(t),r&512&&n!==null&&As(n,n.return),t.flags&32){var i=t.stateNode;try{po(i,"")}catch(O){He(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&_0(i,s),Dd(l,a);var c=Dd(l,s);for(a=0;a<u.length;a+=2){var h=u[a],g=u[a+1];h==="style"?S0(i,g):h==="dangerouslySetInnerHTML"?T0(i,g):h==="children"?po(i,g):sp(i,h,g,c)}switch(l){case"input":Nd(i,s);break;case"textarea":k0(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Ls(i,!!s.multiple,C,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ls(i,!!s.multiple,s.defaultValue,!0):Ls(i,!!s.multiple,s.multiple?[]:"",!1))}i[ko]=s}catch(O){He(t,t.return,O)}}break;case 6:if(yn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){He(t,t.return,O)}}break;case 3:if(yn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(e.containerInfo)}catch(O){He(t,t.return,O)}break;case 4:yn(e,t),On(t);break;case 13:yn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Up=Ge())),r&4&&Yy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||h,yn(e,t),xt=c):yn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(g=Y=h;Y!==null;){switch(y=Y,C=y.child,y.tag){case 0:case 11:case 14:case 15:ro(4,y,y.return);break;case 1:As(y,y.return);var I=y.stateNode;if(typeof I.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(O){He(r,n,O)}}break;case 5:As(y,y.return);break;case 22:if(y.memoizedState!==null){Jy(g);continue}}C!==null?(C.return=y,Y=C):Jy(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=I0("display",a))}catch(O){He(t,t.return,O)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(O){He(t,t.return,O)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:yn(e,t),On(t),r&4&&Yy(t);break;case 21:break;default:yn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zb(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(po(i,""),r.flags&=-33);var s=Qy(t);cf(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Qy(t);uf(t,l,a);break;default:throw Error(G(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KI(t,e,n){Y=t,nE(t)}function nE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||zl;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||xt;l=zl;var c=xt;if(zl=a,(xt=u)&&!c)for(Y=i;Y!==null;)a=Y,u=a.child,a.tag===22&&a.memoizedState!==null?Zy(i):u!==null?(u.return=a,Y=u):Zy(i);for(;s!==null;)Y=s,nE(s),s=s.sibling;Y=i,zl=l,xt=c}Xy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Xy(t)}}function Xy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ly(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ly(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&vo(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}xt||e.flags&512&&lf(e)}catch(y){He(e,e.return,y)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Jy(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Zy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rc(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){He(e,i,u)}}var s=e.return;try{lf(e)}catch(u){He(e,s,u)}break;case 5:var a=e.return;try{lf(e)}catch(u){He(e,a,u)}}}catch(u){He(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var WI=Math.ceil,Hu=kr.ReactCurrentDispatcher,Fp=kr.ReactCurrentOwner,un=kr.ReactCurrentBatchConfig,ve=0,ut=null,et=null,mt=0,Wt=0,Rs=mi(0),st=0,No=null,$i=0,Oc=0,Mp=0,io=null,Ft=null,Up=0,Js=1/0,Yn=null,Ku=!1,hf=null,ti=null,$l=!1,Kr=null,Wu=0,so=0,df=null,hu=-1,du=0;function Rt(){return ve&6?Ge():hu!==-1?hu:hu=Ge()}function ni(t){return t.mode&1?ve&2&&mt!==0?mt&-mt:AI.transition!==null?(du===0&&(du=j0()),du):(t=ke,t!==0||(t=window.event,t=t===void 0?16:K0(t.type)),t):1}function In(t,e,n,r){if(50<so)throw so=0,df=null,Error(G(185));Wo(t,n,r),(!(ve&2)||t!==ut)&&(t===ut&&(!(ve&2)&&(Oc|=n),st===4&&Vr(t,mt)),Vt(t,r),n===1&&ve===0&&!(e.mode&1)&&(Js=Ge()+500,Cc&&gi()))}function Vt(t,e){var n=t.callbackNode;AT(t,e);var r=Au(t,t===ut?mt:0);if(r===0)n!==null&&ly(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ly(n),e===1)t.tag===0?NI(ev.bind(null,t)):hb(ev.bind(null,t)),TI(function(){!(ve&6)&&gi()}),n=null;else{switch(B0(r)){case 1:n=cp;break;case 4:n=M0;break;case 16:n=Nu;break;case 536870912:n=U0;break;default:n=Nu}n=cE(n,rE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rE(t,e){if(hu=-1,du=0,ve&6)throw Error(G(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var r=Au(t,t===ut?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gu(t,r);else{e=r;var i=ve;ve|=2;var s=sE();(ut!==t||mt!==e)&&(Yn=null,Js=Ge()+500,Li(t,e));do try{YI();break}catch(l){iE(t,l)}while(!0);kp(),Hu.current=s,ve=i,et!==null?e=0:(ut=null,mt=0,e=st)}if(e!==0){if(e===2&&(i=jd(t),i!==0&&(r=i,e=ff(t,i))),e===1)throw n=No,Li(t,0),Vr(t,r),Vt(t,Ge()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!GI(i)&&(e=Gu(t,r),e===2&&(s=jd(t),s!==0&&(r=s,e=ff(t,s))),e===1))throw n=No,Li(t,0),Vr(t,r),Vt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Ti(t,Ft,Yn);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Up+500-Ge(),10<e)){if(Au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wd(Ti.bind(null,t,Ft,Yn),e);break}Ti(t,Ft,Yn);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Tn(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WI(r/1960))-r,10<r){t.timeoutHandle=Wd(Ti.bind(null,t,Ft,Yn),r);break}Ti(t,Ft,Yn);break;case 5:Ti(t,Ft,Yn);break;default:throw Error(G(329))}}}return Vt(t,Ge()),t.callbackNode===n?rE.bind(null,t):null}function ff(t,e){var n=io;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=Gu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&pf(e)),t}function pf(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function GI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Mp,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function ev(t){if(ve&6)throw Error(G(327));Bs();var e=Au(t,0);if(!(e&1))return Vt(t,Ge()),null;var n=Gu(t,e);if(t.tag!==0&&n===2){var r=jd(t);r!==0&&(e=r,n=ff(t,r))}if(n===1)throw n=No,Li(t,0),Vr(t,e),Vt(t,Ge()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Ft,Yn),Vt(t,Ge()),null}function jp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Js=Ge()+500,Cc&&gi())}}function qi(t){Kr!==null&&Kr.tag===0&&!(ve&6)&&Bs();var e=ve;ve|=1;var n=un.transition,r=ke;try{if(un.transition=null,ke=1,t)return t()}finally{ke=r,un.transition=n,ve=e,!(ve&6)&&gi()}}function Bp(){Wt=Rs.current,Fe(Rs)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(bp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:Ys(),Fe(jt),Fe(It),Np();break;case 5:Cp(r);break;case 4:Ys();break;case 13:Fe(je);break;case 19:Fe(je);break;case 10:xp(r.type._context);break;case 22:case 23:Bp()}n=n.return}if(ut=t,et=t=ri(t.current,null),mt=Wt=e,st=0,No=null,Mp=Oc=$i=0,Ft=io=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ai=null}return t}function iE(t,e){do{var n=et;try{if(kp(),lu.current=qu,$u){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$u=!1}if(zi=0,lt=rt=Be=null,no=!1,Io=0,Fp.current=null,n===null||n.return===null){st=1,No=e,et=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var C=Vy(a);if(C!==null){C.flags&=-257,zy(C,a,l,s,e),C.mode&1&&By(s,c,e),e=C,u=c;var I=e.updateQueue;if(I===null){var O=new Set;O.add(u),e.updateQueue=O}else I.add(u);break e}else{if(!(e&1)){By(s,c,e),Vp();break e}u=Error(G(426))}}else if(Me&&l.mode&1){var D=Vy(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),zy(D,a,l,s,e),Ep(Xs(u,l));break e}}s=u=Xs(u,l),st!==4&&(st=2),io===null?io=[s]:io.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Bb(s,u,e);Dy(s,S);break e;case 1:l=u;var E=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ti===null||!ti.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=Vb(s,l,e);Dy(s,F);break e}}s=s.return}while(s!==null)}oE(n)}catch(z){e=z,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function sE(){var t=Hu.current;return Hu.current=qu,t===null?qu:t}function Vp(){(st===0||st===3||st===2)&&(st=4),ut===null||!($i&268435455)&&!(Oc&268435455)||Vr(ut,mt)}function Gu(t,e){var n=ve;ve|=2;var r=sE();(ut!==t||mt!==e)&&(Yn=null,Li(t,e));do try{QI();break}catch(i){iE(t,i)}while(!0);if(kp(),ve=n,Hu.current=r,et!==null)throw Error(G(261));return ut=null,mt=0,st}function QI(){for(;et!==null;)aE(et)}function YI(){for(;et!==null&&!ET();)aE(et)}function aE(t){var e=uE(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?oE(t):et=e,Fp.current=null}function oE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,et=null;return}}else if(n=zI(n,e,Wt),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);st===0&&(st=5)}function Ti(t,e,n){var r=ke,i=un.transition;try{un.transition=null,ke=1,XI(t,e,n,r)}finally{un.transition=i,ke=r}return null}function XI(t,e,n,r){do Bs();while(Kr!==null);if(ve&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RT(t,s),t===ut&&(et=ut=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,cE(Nu,function(){return Bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var a=ke;ke=1;var l=ve;ve|=4,Fp.current=null,HI(t,n),tE(n,t),yI(Hd),Ru=!!qd,Hd=qd=null,t.current=n,KI(n),_T(),ve=l,ke=a,un.transition=s}else t.current=n;if($l&&($l=!1,Kr=t,Wu=i),s=t.pendingLanes,s===0&&(ti=null),TT(n.stateNode),Vt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,t=hf,hf=null,t;return Wu&1&&t.tag!==0&&Bs(),s=t.pendingLanes,s&1?t===df?so++:(so=0,df=t):so=0,gi(),null}function Bs(){if(Kr!==null){var t=B0(Wu),e=un.transition,n=ke;try{if(un.transition=null,ke=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Wu=0,ve&6)throw Error(G(331));var i=ve;for(ve|=4,Y=t.current;Y!==null;){var s=Y,a=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:ro(8,h,s)}var g=h.child;if(g!==null)g.return=h,Y=g;else for(;Y!==null;){h=Y;var y=h.sibling,C=h.return;if(Jb(h),h===c){Y=null;break}if(y!==null){y.return=C,Y=y;break}Y=C}}}var I=s.alternate;if(I!==null){var O=I.child;if(O!==null){I.child=null;do{var D=O.sibling;O.sibling=null,O=D}while(O!==null)}}Y=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Y=a;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ro(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){a=Y;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Y=_;else e:for(a=E;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rc(9,l)}}catch(z){He(l,l.return,z)}if(l===a){Y=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,Y=F;break e}Y=l.return}}if(ve=i,gi(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(kc,t)}catch{}r=!0}return r}finally{ke=n,un.transition=e}}return!1}function tv(t,e,n){e=Xs(n,e),e=Bb(t,e,1),t=ei(t,e,1),e=Rt(),t!==null&&(Wo(t,1,e),Vt(t,e))}function He(t,e,n){if(t.tag===3)tv(t,t,n);else for(;e!==null;){if(e.tag===3){tv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Xs(n,t),t=Vb(e,t,1),e=ei(e,t,1),t=Rt(),e!==null&&(Wo(e,1,t),Vt(e,t));break}}e=e.return}}function JI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>Ge()-Up?Li(t,0):Mp|=n),Vt(t,e)}function lE(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=Rt();t=mr(t,e),t!==null&&(Wo(t,e,n),Vt(t,n))}function ZI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lE(t,n)}function eS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),lE(t,n)}var uE;uE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,VI(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Me&&e.flags&1048576&&db(e,Uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cu(t,e),t=e.pendingProps;var i=Ws(e,It.current);js(e,n),i=Rp(null,e,r,t,i,n);var s=Op();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(s=!0,Fu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ip(e),i.updater=Ac,e.stateNode=i,i._reactInternals=e,ef(e,r,t,n),e=rf(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&wp(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nS(r),t=vn(r,t),i){case 0:e=nf(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=$y(null,e,r,t,n);break e;case 14:e=qy(null,e,r,vn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),nf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Hy(t,e,r,i,n);case 3:e:{if(Hb(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vb(t,e),Vu(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xs(Error(G(423)),e),e=Ky(t,e,r,n,i);break e}else if(r!==i){i=Xs(Error(G(424)),e),e=Ky(t,e,r,n,i);break e}else for(Gt=Zr(e.stateNode.containerInfo.firstChild),Xt=e,Me=!0,bn=null,n=gb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===i){e=gr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return wb(e),t===null&&Xd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Kd(r,i)?a=null:s!==null&&Kd(r,s)&&(e.flags|=32),qb(t,e),Nt(t,e,a,n),e.child;case 6:return t===null&&Xd(e),null;case 13:return Kb(t,e,n);case 4:return Sp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qs(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),$y(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Re(ju,r._currentValue),r._currentValue=a,s!==null)if(Cn(s.value,a)){if(s.children===i.children&&!jt.current){e=gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=or(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(G(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jd(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,js(e,n),i=hn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),qy(t,e,r,i,n);case 15:return zb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),cu(t,e),e.tag=1,Bt(r)?(t=!0,Fu(e)):t=!1,js(e,n),jb(e,r,i),ef(e,r,i,n),rf(null,e,r,!0,t,n);case 19:return Wb(t,e,n);case 22:return $b(t,e,n)}throw Error(G(156,e.tag))};function cE(t,e){return F0(t,e)}function tS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new tS(t,e,n,r)}function zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nS(t){if(typeof t=="function")return zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===op)return 11;if(t===lp)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fu(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")zp(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Es:return Fi(n.children,i,s,e);case ap:a=8,i|=8;break;case xd:return t=ln(12,n,e,i|2),t.elementType=xd,t.lanes=s,t;case Td:return t=ln(13,n,e,i),t.elementType=Td,t.lanes=s,t;case Id:return t=ln(19,n,e,i),t.elementType=Id,t.lanes=s,t;case w0:return Pc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y0:a=10;break e;case v0:a=9;break e;case op:a=11;break e;case lp:a=14;break e;case Mr:a=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=ln(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fi(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Pc(t,e,n,r){return t=ln(22,t,r,e),t.elementType=w0,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function ed(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $p(t,e,n,r,i,s,a,l,u){return t=new rS(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(s),t}function iS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hE(t){if(!t)return ci;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Bt(n))return cb(t,n,e)}return e}function dE(t,e,n,r,i,s,a,l,u){return t=$p(n,r,!0,t,i,s,a,l,u),t.context=hE(null),n=t.current,r=Rt(),i=ni(n),s=or(r,i),s.callback=e??null,ei(n,s,i),t.current.lanes=i,Wo(t,i,r),Vt(t,r),t}function Dc(t,e,n,r){var i=e.current,s=Rt(),a=ni(i);return n=hE(n),e.context===null?e.context=n:e.pendingContext=n,e=or(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,a),t!==null&&(In(t,i,a,s),ou(t,i,a)),a}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qp(t,e){nv(t,e),(t=t.alternate)&&nv(t,e)}var fE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hp(t){this._internalRoot=t}Lc.prototype.render=Hp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Dc(t,e,null,null)};Lc.prototype.unmount=Hp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Dc(null,t,null,null)}),e[pr]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=$0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&H0(t)}};function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rv(){}function sS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qu(a);s.call(c)}}var a=dE(e,r,t,0,null,!1,!1,"",rv);return t._reactRootContainer=a,t[pr]=a.current,Eo(t.nodeType===8?t.parentNode:t),qi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Qu(u);l.call(c)}}var u=$p(t,0,!1,null,null,!1,!1,"",rv);return t._reactRootContainer=u,t[pr]=u.current,Eo(t.nodeType===8?t.parentNode:t),qi(function(){Dc(e,u,n,r)}),u}function Mc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=Qu(a);l.call(u)}}Dc(e,a,t,i)}else a=sS(n,e,t,i,r);return Qu(a)}V0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$a(e.pendingLanes);n!==0&&(hp(e,n|1),Vt(e,Ge()),!(ve&6)&&(Js=Ge()+500,gi()))}break;case 13:qi(function(){var r=mr(t,1);if(r!==null){var i=Rt();In(r,t,1,i)}}),qp(t,1)}};dp=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Rt();In(e,t,134217728,n)}qp(t,134217728)}};z0=function(t){if(t.tag===13){var e=ni(t),n=mr(t,e);if(n!==null){var r=Rt();In(n,t,e,r)}qp(t,e)}};$0=function(){return ke};q0=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Fd=function(t,e,n){switch(e){case"input":if(Nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sc(r);if(!i)throw Error(G(90));E0(r),Nd(r,i)}}}break;case"textarea":k0(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};A0=jp;R0=qi;var aS={usingClientEntryPoint:!1,Events:[Qo,Ts,Sc,C0,N0,jp]},Ma={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{kc=ql.inject(oS),jn=ql}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(e))throw Error(G(200));return iS(t,e,null,n)};en.createRoot=function(t,e){if(!Kp(t))throw Error(G(299));var n=!1,r="",i=fE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$p(t,1,!1,null,null,n,!1,r,i),t[pr]=e.current,Eo(t.nodeType===8?t.parentNode:t),new Hp(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=D0(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return qi(t)};en.hydrate=function(t,e,n){if(!Fc(e))throw Error(G(200));return Mc(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Kp(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=fE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=dE(e,null,t,1,n??null,i,!1,s,a),t[pr]=e.current,Eo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lc(e)};en.render=function(t,e,n){if(!Fc(e))throw Error(G(200));return Mc(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Fc(t))throw Error(G(40));return t._reactRootContainer?(qi(function(){Mc(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};en.unstable_batchedUpdates=jp;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fc(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Mc(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function pE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pE)}catch(t){console.error(t)}}pE(),f0.exports=en;var mE=f0.exports;const Os=Ho(mE);/**
* @remix-run/router v1.21.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const iv="popstate";function lS(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:l="",hash:u=""}=Zi(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),mf("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:Yu(s))}function r(i,s){Wp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return cS(e,n,r,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uS(){return Math.random().toString(36).substr(2,8)}function sv(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,r){return n===void 0&&(n=null),Ao({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zi(e):e,{state:n,key:e&&e.key||r||uS()})}function Yu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Wr.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(Ao({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function g(){l=Wr.Pop;let D=h(),S=D==null?null:D-c;c=D,u&&u({action:l,location:O.location,delta:S})}function y(D,S){l=Wr.Push;let E=mf(O.location,D,S);n(E,D),c=h()+1;let _=sv(E,c),F=O.createHref(E);try{a.pushState(_,"",F)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(F)}s&&u&&u({action:l,location:O.location,delta:1})}function C(D,S){l=Wr.Replace;let E=mf(O.location,D,S);n(E,D),c=h();let _=sv(E,c),F=O.createHref(E);a.replaceState(_,"",F),s&&u&&u({action:l,location:O.location,delta:0})}function I(D){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof D=="string"?D:Yu(D);return E=E.replace(/ $/,"%20"),tt(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let O={get action(){return l},get location(){return t(i,a)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iv,g),u=D,()=>{i.removeEventListener(iv,g),u=null}},createHref(D){return e(i,D)},createURL:I,encodeLocation(D){let S=I(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:C,go(D){return a.go(D)}};return O}var av;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(av||(av={}));function hS(t,e,n){return n===void 0&&(n="/"),dS(t,e,n)}function dS(t,e,n,r){let i=typeof e=="string"?Zi(e):e,s=Gp(i.pathname||"/",n);if(s==null)return null;let a=gE(t);fS(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=TS(s);l=_S(a[u],c)}return l}function gE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ii([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:bS(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of yE(s.path))i(s,a,u)}),e}function yE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=yE(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function fS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ES(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pS=/^:[\w-]+$/,mS=3,gS=2,yS=1,vS=10,wS=-2,ov=t=>t==="*";function bS(t,e){let n=t.split("/"),r=n.length;return n.some(ov)&&(r+=wS),e&&(r+=gS),n.filter(i=>!ov(i)).reduce((i,s)=>i+(pS.test(s)?mS:s===""?yS:vS),r)}function ES(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function _S(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=kS({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),y=u.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:ii([s,g.pathname]),pathnameBase:NS(ii([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=ii([s,g.pathnameBase]))}return a}function kS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:g,isOptional:y}=c;if(g==="*"){let I=l[h]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const C=l[h];return y&&!C?u[g]=void 0:u[g]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function xS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zi(t):t;return{pathname:n?n.startsWith("/")?n:SS(n,e):e,search:AS(r),hash:RS(i)}}function SS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function td(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vE(t,e){let n=CS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zi(t):(i=Ao({},t),tt(!i.pathname||!i.pathname.includes("?"),td("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),td("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),td("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let u=IS(i,l),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),NS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bE=["post","put","patch","delete"];new Set(bE);const PS=["get",...bE];new Set(PS);/**
* React Router v6.28.2
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}const Qp=N.createContext(null),DS=N.createContext(null),es=N.createContext(null),Uc=N.createContext(null),ts=N.createContext({outlet:null,matches:[],isDataRoute:!1}),EE=N.createContext(null);function LS(t,e){let{relative:n}=e===void 0?{}:e;Xo()||tt(!1);let{basename:r,navigator:i}=N.useContext(es),{hash:s,pathname:a,search:l}=xE(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:ii([r,a])),i.createHref({pathname:u,search:l,hash:s})}function Xo(){return N.useContext(Uc)!=null}function jc(){return Xo()||tt(!1),N.useContext(Uc).location}function _E(t){N.useContext(es).static||N.useLayoutEffect(t)}function kE(){let{isDataRoute:t}=N.useContext(ts);return t?GS():FS()}function FS(){Xo()||tt(!1);let t=N.useContext(Qp),{basename:e,future:n,navigator:r}=N.useContext(es),{matches:i}=N.useContext(ts),{pathname:s}=jc(),a=JSON.stringify(vE(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return _E(()=>{l.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=wE(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ii([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,s,t])}function xE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(es),{matches:i}=N.useContext(ts),{pathname:s}=jc(),a=JSON.stringify(vE(i,r.v7_relativeSplatPath));return N.useMemo(()=>wE(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function MS(t,e){return US(t,e)}function US(t,e,n,r){Xo()||tt(!1);let{navigator:i}=N.useContext(es),{matches:s}=N.useContext(ts),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=jc(),h;if(e){var g;let D=typeof e=="string"?Zi(e):e;u==="/"||(g=D.pathname)!=null&&g.startsWith(u)||tt(!1),h=D}else h=c;let y=h.pathname||"/",C=y;if(u!=="/"){let D=u.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=hS(t,{pathname:C}),O=$S(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:ii([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:ii([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&O?N.createElement(Uc.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wr.Pop}},O):O}function jS(){let t=WS(),e=OS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,null)}const BS=N.createElement(jS,null);let VS=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(ts.Provider,{value:this.props.routeContext},N.createElement(EE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zS(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Qp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ts.Provider,{value:e},r)}function $S(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||tt(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=h),g.route.id){let{loaderData:y,errors:C}=n,I=g.route.loader&&y[g.route.id]===void 0&&(!C||C[g.route.id]===void 0);if(g.route.lazy||I){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,g,y)=>{let C,I=!1,O=null,D=null;n&&(C=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||BS,u&&(c<0&&y===0?(I=!0,D=null):c===y&&(I=!0,D=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),E=()=>{let _;return C?_=O:I?_=D:g.route.Component?_=N.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=h,N.createElement(zS,{match:g,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:_})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?N.createElement(VS,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var TE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TE||{}),Xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xu||{});function qS(t){let e=N.useContext(Qp);return e||tt(!1),e}function HS(t){let e=N.useContext(DS);return e||tt(!1),e}function KS(t){let e=N.useContext(ts);return e||tt(!1),e}function IE(t){let e=KS(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function WS(){var t;let e=N.useContext(EE),n=HS(Xu.UseRouteError),r=IE(Xu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GS(){let{router:t}=qS(TE.UseNavigateStable),e=IE(Xu.UseNavigateStable),n=N.useRef(!1);return _E(()=>{n.current=!0}),N.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ro({fromRouteId:e},i)))},[t,e])}const lv={};function QS(t,e){lv[e]||(lv[e]=!0,console.warn(e))}const uv=(t,e,n)=>QS(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function YS(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&uv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&uv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function XS(t){tt(!1)}function JS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wr.Pop,navigator:s,static:a=!1,future:l}=t;Xo()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:a,future:Ro({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=Zi(r));let{pathname:h="/",search:g="",hash:y="",state:C=null,key:I="default"}=r,O=N.useMemo(()=>{let D=Gp(h,u);return D==null?null:{location:{pathname:D,search:g,hash:y,state:C,key:I},navigationType:i}},[u,h,g,y,C,I,i]);return O==null?null:N.createElement(es.Provider,{value:c},N.createElement(Uc.Provider,{children:n,value:O}))}function ZS(t){let{children:e,location:n}=t;return MS(gf(e),n)}new Promise(()=>{});function gf(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,gf(r.props.children,s));return}r.type!==XS&&tt(!1),!r.props.index||!r.props.children||tt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=gf(r.props.children,s)),n.push(a)}),n}/**
* React Router DOM v6.28.2
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function eC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nC(t,e){return t.button===0&&(!e||e==="_self")&&!tC(t)}const rC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iC="6";try{window.__reactRouterVersion=iC}catch{}const sC="startTransition",cv=iT[sC];function aC(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=lS({window:i,v5Compat:!0}));let a=s.current,[l,u]=N.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=N.useCallback(g=>{c&&cv?cv(()=>u(g)):u(g)},[u,c]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.useEffect(()=>YS(r),[r]),N.createElement(JS,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_i=N.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:i,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,g=eC(t,rC),{basename:y}=N.useContext(es),C,I=!1;if(typeof u=="string"&&lC.test(u)&&(C=u,oC))try{let E=new URL(window.location.href),_=u.startsWith("//")?new URL(E.protocol+u):new URL(u),F=Gp(_.pathname,y);_.origin===E.origin&&F!=null?u=F+_.search+_.hash:I=!0}catch{}let O=LS(u,{relative:r}),D=uC(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:r,viewTransition:h});function S(E){n&&n(E),E.defaultPrevented||D(E)}return N.createElement("a",yf({},g,{href:C||O,onClick:I||i?n:S,ref:e,target:l}))});var hv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hv||(hv={}));var dv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dv||(dv={}));function uC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,u=kE(),c=jc(),h=xE(t,{relative:a});return N.useCallback(g=>{if(nC(g,n)){g.preventDefault();let y=r!==void 0?r:Yu(c)===Yu(h);u(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[c,u,h,r,i,n,t,s,a,l])}var SE={exports:{}},Bc={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cC=N,hC=Symbol.for("react.element"),dC=Symbol.for("react.fragment"),fC=Object.prototype.hasOwnProperty,pC=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mC={key:!0,ref:!0,__self:!0,__source:!0};function CE(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fC.call(e,r)&&!mC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hC,type:t,key:s,ref:a,props:i,_owner:pC.current}}Bc.Fragment=dC;Bc.jsx=CE;Bc.jsxs=CE;SE.exports=Bc;var q=SE.exports,NE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=i(a,l));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(NE);var gC=NE.exports;const we=Ho(gC);function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(null,arguments)}function AE(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function yC(t){var e=vC(t,"string");return typeof e=="symbol"?e:String(e)}function vC(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wC(t,e,n){var r=N.useRef(t!==void 0),i=N.useState(e),s=i[0],a=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&s!==e&&a(e),[l?t:s,N.useCallback(function(c){for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];n&&n.apply(void 0,[c].concat(g)),a(c)},[n])]}function RE(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,a=s[fv(r)],l=s[r],u=AE(s,[fv(r),r].map(yC)),c=e[r],h=wC(l,a,t[c]),g=h[0],y=h[1];return vf({},u,(i={},i[r]=g,i[c]=y,i))},t)}function wf(t,e){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},wf(t,e)}function bC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wf(t,e)}const EC=["xxl","xl","lg","md","sm","xs"],_C="xs",Yp=N.createContext({prefixes:{},breakpoints:EC,minBreakpoint:_C});function Ne(t,e){const{prefixes:n}=N.useContext(Yp);return t||n[e]||e}function kC(){const{breakpoints:t}=N.useContext(Yp);return t}function xC(){const{minBreakpoint:t}=N.useContext(Yp);return t}function Xp(t){return t&&t.ownerDocument||document}function TC(t){var e=Xp(t);return e&&e.defaultView||window}function IC(t,e){return TC(t).getComputedStyle(t,e)}var SC=/([A-Z])/g;function CC(t){return t.replace(SC,"-$1").toLowerCase()}var NC=/^ms-/;function Hl(t){return CC(t).replace(NC,"-ms-")}var AC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function RC(t){return!!(t&&AC.test(t))}function lr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hl(e))||IC(t).getPropertyValue(Hl(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Hl(i)):RC(i)?r+=i+"("+s+") ":n+=Hl(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var OE={exports:{}},OC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PC=OC,DC=PC;function PE(){}function DE(){}DE.resetWarningCache=PE;var LC=function(){function t(r,i,s,a,l,u){if(u!==DC){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:DE,resetWarningCache:PE};return n.PropTypes=n,n};OE.exports=LC();var FC=OE.exports;const ur=Ho(FC),pv={disabled:!1},LE=de.createContext(null);var MC=function(t){return t.scrollTop},Ha="unmounted",jr="exited",En="entering",Jn="entered",Oo="exiting",xr=function(t){bC(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=jr,s.appearStatus=En):u=Jn:r.unmountOnExit||r.mountOnEnter?u=Ha:u=jr,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,i){var s=r.in;return s&&i.status===Ha?{status:jr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==En&&s!==Jn&&(i=En):(s===En||s===Jn)&&(i=Oo)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,s,a;return i=s=a=r,r!=null&&typeof r!="number"&&(i=r.exit,s=r.enter,a=r.appear!==void 0?r.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===En){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Os.findDOMNode(this);s&&MC(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jr&&this.setState({status:Ha})},n.performEnter=function(r){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[Os.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),g=a?h.appear:h.enter;if(!r&&!s||pv.disabled){this.safeSetState({status:Jn},function(){i.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:En},function(){i.props.onEntering(u,c),i.onTransitionEnd(g,function(){i.safeSetState({status:Jn},function(){i.props.onEntered(u,c)})})})},n.performExit=function(){var r=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Os.findDOMNode(this);if(!i||pv.disabled){this.safeSetState({status:jr},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Oo},function(){r.props.onExiting(a),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:jr},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Os.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ha)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=AE(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return de.createElement(LE.Provider,{value:null},typeof s=="function"?s(r,a):de.cloneElement(de.Children.only(s),a))},e}(de.Component);xr.contextType=LE;xr.propTypes={};function fs(){}xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fs,onEntering:fs,onEntered:fs,onExit:fs,onExiting:fs,onExited:fs};xr.UNMOUNTED=Ha;xr.EXITED=jr;xr.ENTERING=En;xr.ENTERED=Jn;xr.EXITING=Oo;function UC(t){return t.code==="Escape"||t.keyCode===27}function jC(){const t=N.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Vc(t){if(!t||typeof t=="function")return null;const{major:e}=jC();return e>=19?t.props.ref:t.ref}const zc=!!(typeof window<"u"&&window.document&&window.document.createElement);var bf=!1,Ef=!1;try{var nd={get passive(){return bf=!0},get once(){return Ef=bf=!0}};zc&&(window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,!0))}catch{}function BC(t,e,n,r){if(r&&typeof r!="boolean"&&!Ef){var i=r.once,s=r.capture,a=n;!Ef&&i&&(a=n.__once||function l(u){this.removeEventListener(e,l,s),n.call(this,u)},n.__once=a),t.addEventListener(e,a,bf?r:s)}t.addEventListener(e,n,r)}function VC(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Ju(t,e,n,r){return BC(t,e,n,r),function(){VC(t,e,n,r)}}function zC(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function $C(t){var e=lr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function qC(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||zC(t,"transitionend",!0)},e+n),s=Ju(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function HC(t,e,n,r){n==null&&(n=$C(t)||0);var i=qC(t,n,r),s=Ju(t,"transitionend",e);return function(){i(),s()}}function mv(t,e){const n=lr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Jp(t,e){const n=mv(t,"transitionDuration"),r=mv(t,"transitionDelay"),i=HC(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Ua(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function FE(t){t.offsetHeight}const gv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function KC(t,e){const n=gv(t),r=gv(e);return i=>{n&&n(i),r&&r(i)}}function WC(t,e){return N.useMemo(()=>KC(t,e),[t,e])}function GC(t){return t&&"setState"in t?Os.findDOMNode(t):t??null}const Zp=de.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:a,children:l,childRef:u,...c},h)=>{const g=N.useRef(null),y=WC(g,u),C=V=>{y(GC(V))},I=V=>T=>{V&&g.current&&V(g.current,T)},O=N.useCallback(I(t),[t]),D=N.useCallback(I(e),[e]),S=N.useCallback(I(n),[n]),E=N.useCallback(I(r),[r]),_=N.useCallback(I(i),[i]),F=N.useCallback(I(s),[s]),z=N.useCallback(I(a),[a]);return q.jsx(xr,{ref:h,...c,onEnter:O,onEntered:S,onEntering:D,onExit:E,onExited:F,onExiting:_,addEndListener:z,nodeRef:g,children:typeof l=="function"?(V,T)=>l(V,{...T,ref:C}):de.cloneElement(l,{ref:C})})}),QC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function YC(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=QC[t];return r+parseInt(lr(e,i[0]),10)+parseInt(lr(e,i[1]),10)}const XC={[jr]:"collapse",[Oo]:"collapsing",[En]:"collapsing",[Jn]:"collapse show"},JC=de.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:a,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:h=!1,unmountOnExit:g=!1,appear:y=!1,getDimensionValue:C=YC,...I},O)=>{const D=typeof l=="function"?l():l,S=N.useMemo(()=>Ua(V=>{V.style[D]="0"},t),[D,t]),E=N.useMemo(()=>Ua(V=>{const T=`scroll${D[0].toUpperCase()}${D.slice(1)}`;V.style[D]=`${V[T]}px`},e),[D,e]),_=N.useMemo(()=>Ua(V=>{V.style[D]=null},n),[D,n]),F=N.useMemo(()=>Ua(V=>{V.style[D]=`${C(D,V)}px`,FE(V)},r),[r,C,D]),z=N.useMemo(()=>Ua(V=>{V.style[D]=null},i),[D,i]);return q.jsx(Zp,{ref:O,addEndListener:Jp,...I,"aria-expanded":I.role?u:null,onEnter:S,onEntering:E,onEntered:_,onExit:F,onExiting:z,childRef:Vc(a),in:u,timeout:c,mountOnEnter:h,unmountOnExit:g,appear:y,children:(V,T)=>de.cloneElement(a,{...T,className:we(s,a.props.className,XC[V],D==="width"&&"collapse-horizontal")})})});function ZC(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t},[t]),e}function $c(t){const e=ZC(t);return N.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const e2=t=>N.forwardRef((e,n)=>q.jsx("div",{...e,ref:n,className:we(e.className,t)}));function t2(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t},[t]),e}function Zn(t){const e=t2(t);return N.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function n2(){const t=N.useRef(!0),e=N.useRef(()=>t.current);return N.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function r2(t){const e=N.useRef(null);return N.useEffect(()=>{e.current=t}),e.current}const i2=typeof Yt<"u"&&Yt.navigator&&Yt.navigator.product==="ReactNative",s2=typeof document<"u",yv=s2||i2?N.useLayoutEffect:N.useEffect,a2=["as","disabled"];function o2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l2(t){return!t||t.trim()==="#"}function em({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:a,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const h=y=>{if((e||t==="a"&&l2(n))&&y.preventDefault(),e){y.stopPropagation();return}a==null||a(y)},g=y=>{y.key===" "&&(y.preventDefault(),h(y))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:g},c]}const ME=N.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=o2(t,a2);const[s,{tagName:a}]=em(Object.assign({tagName:n,disabled:r},i));return q.jsx(a,Object.assign({},i,s,{ref:e}))});ME.displayName="Button";const u2=["onKeyDown"];function c2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h2(t){return!t||t.trim()==="#"}const UE=N.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=c2(t,u2);const[i]=em(Object.assign({tagName:"a"},r)),s=Zn(a=>{i.onKeyDown(a),n==null||n(a)});return h2(r.href)||r.role==="button"?q.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):q.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});UE.displayName="Anchor";const d2={[En]:"show",[Jn]:"show"},jE=N.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=N.useCallback((u,c)=>{FE(u),r==null||r(u,c)},[r]);return q.jsx(Zp,{ref:s,addEndListener:Jp,...a,onEnter:l,childRef:Vc(e),children:(u,c)=>N.cloneElement(e,{...c,className:we("fade",t,e.props.className,d2[u],n[u])})})});jE.displayName="Fade";const f2={"aria-label":ur.string,onClick:ur.func,variant:ur.oneOf(["white"])},tm=N.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>q.jsx("button",{ref:i,type:"button",className:we("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));tm.displayName="CloseButton";tm.propTypes=f2;const BE=N.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:a,...l},u)=>{const c=Ne(e,"btn"),[h,{tagName:g}]=em({tagName:t,disabled:s,...l}),y=g;return q.jsx(y,{...h,...l,ref:u,disabled:s,className:we(a,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&s&&"disabled")})});BE.displayName="Button";const VE=N.createContext(null);VE.displayName="CardHeaderContext";function p2(t,e){return N.Children.toArray(t).some(n=>N.isValidElement(n)&&n.type===e)}function m2({as:t,bsPrefix:e,className:n,...r}){e=Ne(e,"col");const i=kC(),s=xC(),a=[],l=[];return i.forEach(u=>{const c=r[u];delete r[u];let h,g,y;typeof c=="object"&&c!=null?{span:h,offset:g,order:y}=c:h=c;const C=u!==s?`-${u}`:"";h&&a.push(h===!0?`${e}${C}`:`${e}${C}-${h}`),y!=null&&l.push(`order${C}-${y}`),g!=null&&l.push(`offset${C}-${g}`)}),[{...r,className:we(n,...a,...l)},{as:t,bsPrefix:e,spans:a}]}const zE=N.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=m2(t);return q.jsx(i,{...r,ref:e,className:we(n,!a.length&&s)})});zE.displayName="Col";const $E=N.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const a=Ne(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return q.jsx(n,{ref:s,...i,className:we(r,e?`${a}${l}`:a)})});$E.displayName="Container";var g2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ii(t,e){return g2(t.querySelectorAll(e))}function y2(){const[,t]=N.useReducer(e=>e+1,0);return t}function vv(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Zu=N.createContext(null),nm=(t,e=null)=>t!=null?String(t):e||null,rm=N.createContext(null);rm.displayName="NavContext";const v2="data-rr-ui-",w2="rrUi";function qc(t){return`${v2}${t}`}function b2(t){return`${w2}${t}`}const qE=N.createContext(zc?window:void 0);qE.Provider;function im(){return N.useContext(qE)}const E2=typeof Yt<"u"&&Yt.navigator&&Yt.navigator.product==="ReactNative",_2=typeof document<"u",k2=_2||E2?N.useLayoutEffect:N.useEffect,da=N.createContext(null);da.displayName="NavbarContext";const x2={type:ur.string,tooltip:ur.bool,as:ur.elementType},Hc=N.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>q.jsx(t,{...i,ref:s,className:we(e,`${n}-${r?"tooltip":"feedback"}`)}));Hc.displayName="Feedback";Hc.propTypes=x2;const yr=N.createContext({}),sm=N.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:a="input",...l},u)=>{const{controlId:c}=N.useContext(yr);return e=Ne(e,"form-check-input"),q.jsx(a,{...l,ref:u,type:r,id:t||c,className:we(n,e,i&&"is-valid",s&&"is-invalid")})});sm.displayName="FormCheckInput";const ec=N.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=N.useContext(yr);return t=Ne(t,"form-check-label"),q.jsx("label",{...r,ref:i,htmlFor:n||s,className:we(e,t)})});ec.displayName="FormCheckLabel";const HE=N.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:a=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:h,className:g,style:y,title:C="",type:I="checkbox",label:O,children:D,as:S="input",...E},_)=>{e=Ne(e,"form-check"),n=Ne(n,"form-switch");const{controlId:F}=N.useContext(yr),z=N.useMemo(()=>({controlId:t||F}),[F,t]),V=!D&&O!=null&&O!==!1||p2(D,ec),T=q.jsx(sm,{...E,type:I==="switch"?"checkbox":I,ref:_,isValid:a,isInvalid:l,disabled:s,as:S});return q.jsx(yr.Provider,{value:z,children:q.jsx("div",{style:y,className:we(g,V&&e,r&&`${e}-inline`,i&&`${e}-reverse`,I==="switch"&&n),children:D||q.jsxs(q.Fragment,{children:[T,V&&q.jsx(ec,{title:C,children:O}),c&&q.jsx(Hc,{type:h,tooltip:u,children:c})]})})})});HE.displayName="FormCheck";const tc=Object.assign(HE,{Input:sm,Label:ec}),KE=N.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:a=!1,isInvalid:l=!1,plaintext:u,readOnly:c,as:h="input",...g},y)=>{const{controlId:C}=N.useContext(yr);return t=Ne(t,"form-control"),q.jsx(h,{...g,type:e,size:r,ref:y,readOnly:c,id:i||C,className:we(s,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,a&&"is-valid",l&&"is-invalid")})});KE.displayName="FormControl";const T2=Object.assign(KE,{Feedback:Hc}),WE=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"form-floating"),q.jsx(n,{ref:i,className:we(t,e),...r})));WE.displayName="FormFloating";const am=N.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=N.useMemo(()=>({controlId:t}),[t]);return q.jsx(yr.Provider,{value:i,children:q.jsx(e,{...n,ref:r})})});am.displayName="FormGroup";const GE=N.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...a},l)=>{const{controlId:u}=N.useContext(yr);e=Ne(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const h=we(i,e,r&&"visually-hidden",n&&c);return s=s||u,n?q.jsx(zE,{ref:l,as:"label",className:h,htmlFor:s,...a}):q.jsx(t,{ref:l,className:h,htmlFor:s,...a})});GE.displayName="FormLabel";const QE=N.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=N.useContext(yr);return t=Ne(t,"form-range"),q.jsx("input",{...r,type:"range",ref:i,className:we(e,t),id:n||s})});QE.displayName="FormRange";const YE=N.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:a,...l},u)=>{const{controlId:c}=N.useContext(yr);return t=Ne(t,"form-select"),q.jsx("select",{...l,size:n,ref:u,className:we(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:a||c})});YE.displayName="FormSelect";const XE=N.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Ne(t,"form-text"),q.jsx(n,{...i,ref:s,className:we(e,t,r&&"text-muted")})));XE.displayName="FormText";const JE=N.forwardRef((t,e)=>q.jsx(tc,{...t,ref:e,type:"switch"}));JE.displayName="Switch";const I2=Object.assign(JE,{Input:tc.Input,Label:tc.Label}),ZE=N.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},a)=>(t=Ne(t,"form-floating"),q.jsxs(am,{ref:a,className:we(e,t),controlId:r,...s,children:[n,q.jsx("label",{htmlFor:r,children:i})]})));ZE.displayName="FloatingLabel";const S2={_ref:ur.any,validated:ur.bool,as:ur.elementType},om=N.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>q.jsx(n,{...r,ref:i,className:we(t,e&&"was-validated")}));om.displayName="Form";om.propTypes=S2;const wv=Object.assign(om,{Group:am,Control:T2,Floating:WE,Check:tc,Switch:I2,Label:GE,Text:XE,Range:QE,Select:YE,FloatingLabel:ZE}),bv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function C2(t,e){const n=bv(t),r=bv(e);return i=>{n&&n(i),r&&r(i)}}function Kc(t,e){return N.useMemo(()=>C2(t,e),[t,e])}const e1=N.createContext(null),N2=["as","active","eventKey"];function A2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t1({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const a=N.useContext(Zu),l=N.useContext(rm),u=N.useContext(e1);let c=n;const h={role:i};if(l){!i&&l.role==="tablist"&&(h.role="tab");const g=l.getControllerId(t??null),y=l.getControlledId(t??null);h[qc("event-key")]=t,h.id=g||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(h["aria-controls"]=y)}return h.role==="tab"&&(h["aria-selected"]=c,c||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Zn(g=>{s||(e==null||e(g),t!=null&&a&&!g.isPropagationStopped()&&a(t,g))}),[h,{isActive:c}]}const n1=N.forwardRef((t,e)=>{let{as:n=ME,active:r,eventKey:i}=t,s=A2(t,N2);const[a,l]=t1(Object.assign({key:nm(i,s.href),active:r},s));return a[qc("active")]=l.isActive,q.jsx(n,Object.assign({},s,a,{ref:e}))});n1.displayName="NavItem";const R2=["as","onSelect","activeKey","role","onKeyDown"];function O2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Ev=()=>{},_v=qc("event-key"),r1=N.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:a}=t,l=O2(t,R2);const u=y2(),c=N.useRef(!1),h=N.useContext(Zu),g=N.useContext(e1);let y,C;g&&(s=s||"tablist",i=g.activeKey,y=g.getControlledId,C=g.getControllerId);const I=N.useRef(null),O=_=>{const F=I.current;if(!F)return null;const z=Ii(F,`[${_v}]:not([aria-disabled=true])`),V=F.querySelector("[aria-selected=true]");if(!V||V!==document.activeElement)return null;const T=z.indexOf(V);if(T===-1)return null;let v=T+_;return v>=z.length&&(v=0),v<0&&(v=z.length-1),z[v]},D=(_,F)=>{_!=null&&(r==null||r(_,F),h==null||h(_,F))},S=_=>{if(a==null||a(_),!g)return;let F;switch(_.key){case"ArrowLeft":case"ArrowUp":F=O(-1);break;case"ArrowRight":case"ArrowDown":F=O(1);break;default:return}F&&(_.preventDefault(),D(F.dataset[b2("EventKey")]||null,_),c.current=!0,u())};N.useEffect(()=>{if(I.current&&c.current){const _=I.current.querySelector(`[${_v}][aria-selected=true]`);_==null||_.focus()}c.current=!1});const E=Kc(e,I);return q.jsx(Zu.Provider,{value:D,children:q.jsx(rm.Provider,{value:{role:s,activeKey:nm(i),getControlledId:y||Ev,getControllerId:C||Ev},children:q.jsx(n,Object.assign({},l,{onKeyDown:S,ref:E,role:s}))})})});r1.displayName="Nav";const P2=Object.assign(r1,{Item:n1});function rd(t){t===void 0&&(t=Xp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function D2(t){const e=N.useRef(t);return e.current=t,e}function L2(t){const e=D2(t);N.useEffect(()=>()=>e.current(),[])}function F2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const kv=qc("modal-open");let lm=class{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}={}){this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return F2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[n]:r.style[n]},t.scrollBarWidth&&(e[n]=`${parseInt(lr(r,n)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(kv,""),lr(r,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(kv),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}};const id=(t,e)=>zc?t==null?(e||Xp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function M2(t,e){const n=im(),[r,i]=N.useState(()=>id(t,n==null?void 0:n.document));if(!r){const s=id(t);s&&i(s)}return N.useEffect(()=>{},[e,r]),N.useEffect(()=>{const s=id(t);s!==r&&i(s)},[t,r]),r}function U2({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=N.useRef(null),a=N.useRef(e),l=Zn(n);N.useEffect(()=>{e?a.current=!0:l(s.current)},[e,l]);const u=Kc(s,t.ref),c=N.cloneElement(t,{ref:u});return e?c:i||!a.current&&r?null:c}const j2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function B2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V2(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:a,addEndListener:l,children:u}=t,c=B2(t,j2);const h=N.useRef(null),g=Kc(h,Vc(u)),y=F=>z=>{F&&h.current&&F(h.current,z)},C=N.useCallback(y(e),[e]),I=N.useCallback(y(n),[n]),O=N.useCallback(y(r),[r]),D=N.useCallback(y(i),[i]),S=N.useCallback(y(s),[s]),E=N.useCallback(y(a),[a]),_=N.useCallback(y(l),[l]);return Object.assign({},c,{nodeRef:h},e&&{onEnter:C},n&&{onEntering:I},r&&{onEntered:O},i&&{onExit:D},s&&{onExiting:S},a&&{onExited:E},l&&{addEndListener:_},{children:typeof u=="function"?(F,z)=>u(F,Object.assign({},z,{ref:g})):N.cloneElement(u,{ref:g})})}const z2=["component"];function $2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const q2=N.forwardRef((t,e)=>{let{component:n}=t,r=$2(t,z2);const i=V2(r);return q.jsx(n,Object.assign({ref:e},i))});function H2({in:t,onTransition:e}){const n=N.useRef(null),r=N.useRef(!0),i=Zn(e);return yv(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),yv(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function K2({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,a]=N.useState(!e);e&&s&&a(!1);const l=H2({in:!!e,onTransition:c=>{const h=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(a(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(h,g=>{throw c.in||a(!0),g})}}),u=Kc(l,t.ref);return s&&!e?null:N.cloneElement(t,{ref:u})}function xv(t,e,n){return t?q.jsx(q2,Object.assign({},n,{component:t})):e?q.jsx(K2,Object.assign({},n,{transition:e})):q.jsx(U2,Object.assign({},n))}const W2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function G2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let sd;function Q2(t){return sd||(sd=new lm({ownerDocument:t==null?void 0:t.document})),sd}function Y2(t){const e=im(),n=t||Q2(e),r=N.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:N.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:N.useCallback(i=>{r.current.backdrop=i},[])})}const i1=N.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:a,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:g,runTransition:y,backdropTransition:C,runBackdropTransition:I,autoFocus:O=!0,enforceFocus:D=!0,restoreFocus:S=!0,restoreFocusOptions:E,renderDialog:_,renderBackdrop:F=Ie=>q.jsx("div",Object.assign({},Ie)),manager:z,container:V,onShow:T,onHide:v=()=>{},onExit:k,onExited:A,onExiting:P,onEnter:M,onEntering:R,onEntered:Te}=t,Ye=G2(t,W2);const Ue=im(),Ee=M2(V),H=Y2(z),J=n2(),Z=r2(n),[ce,ie]=N.useState(!n),se=N.useRef(null);N.useImperativeHandle(e,()=>H,[H]),zc&&!Z&&n&&(se.current=rd(Ue==null?void 0:Ue.document)),n&&ce&&ie(!1);const ee=Zn(()=>{if(H.add(),pn.current=Ju(document,"keydown",Cr),Nr.current=Ju(document,"focus",()=>setTimeout($e),!0),T&&T(),O){var Ie,nn;const mn=rd((Ie=(nn=H.dialog)==null?void 0:nn.ownerDocument)!=null?Ie:Ue==null?void 0:Ue.document);H.dialog&&mn&&!vv(H.dialog,mn)&&(se.current=mn,H.dialog.focus())}}),ue=Zn(()=>{if(H.remove(),pn.current==null||pn.current(),Nr.current==null||Nr.current(),S){var Ie;(Ie=se.current)==null||Ie.focus==null||Ie.focus(E),se.current=null}});N.useEffect(()=>{!n||!Ee||ee()},[n,Ee,ee]),N.useEffect(()=>{ce&&ue()},[ce,ue]),L2(()=>{ue()});const $e=Zn(()=>{if(!D||!J()||!H.isTopModal())return;const Ie=rd(Ue==null?void 0:Ue.document);H.dialog&&Ie&&!vv(H.dialog,Ie)&&H.dialog.focus()}),Xe=Zn(Ie=>{Ie.target===Ie.currentTarget&&(c==null||c(Ie),l===!0&&v())}),Cr=Zn(Ie=>{u&&UC(Ie)&&H.isTopModal()&&(h==null||h(Ie),Ie.defaultPrevented||v())}),Nr=N.useRef(),pn=N.useRef(),$t=(...Ie)=>{ie(!0),A==null||A(...Ie)};if(!Ee)return null;const Nn=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ye,{style:s,className:i,tabIndex:-1});let An=_?_(Nn):q.jsx("div",Object.assign({},Nn,{children:N.cloneElement(a,{role:"document"})}));An=xv(g,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:k,onExiting:P,onExited:$t,onEnter:M,onEntering:R,onEntered:Te,children:An});let Rn=null;return l&&(Rn=F({ref:H.setBackdropRef,onClick:Xe}),Rn=xv(C,I,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Rn})),q.jsx(q.Fragment,{children:Os.createPortal(q.jsxs(q.Fragment,{children:[Rn,An]}),Ee)})});i1.displayName="Modal";const X2=Object.assign(i1,{Manager:lm});function J2(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Z2(t,e){t.classList?t.classList.add(e):J2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Tv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function eN(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Tv(t.className,e):t.setAttribute("class",Tv(t.className&&t.className.baseVal||"",e))}const ps={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};let s1=class extends lm{adjustAndStore(t,e,n){const r=e.style[t];e.dataset[t]=r,lr(e,{[t]:`${parseFloat(lr(e,t))+n}px`})}restore(t,e){const n=e.dataset[t];n!==void 0&&(delete e.dataset[t],lr(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(Z2(e,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Ii(e,ps.FIXED_CONTENT).forEach(i=>this.adjustAndStore(n,i,t.scrollBarWidth)),Ii(e,ps.STICKY_CONTENT).forEach(i=>this.adjustAndStore(r,i,-t.scrollBarWidth)),Ii(e,ps.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();eN(e,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Ii(e,ps.FIXED_CONTENT).forEach(i=>this.restore(n,i)),Ii(e,ps.STICKY_CONTENT).forEach(i=>this.restore(r,i)),Ii(e,ps.NAVBAR_TOGGLER).forEach(i=>this.restore(r,i))}},ad;function tN(t){return ad||(ad=new s1(t)),ad}const a1=N.createContext({onHide(){}}),nN=N.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},a)=>{const l=N.useContext(a1),u=$c(()=>{l==null||l.onHide(),r==null||r()});return q.jsxs("div",{ref:a,...s,children:[i,n&&q.jsx(tm,{"aria-label":t,variant:e,onClick:u})]})}),o1=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"nav-item"),q.jsx(n,{ref:i,className:we(t,e),...r})));o1.displayName="NavItem";const l1=N.forwardRef(({bsPrefix:t,className:e,as:n=UE,active:r,eventKey:i,disabled:s=!1,...a},l)=>{t=Ne(t,"nav-link");const[u,c]=t1({key:nm(i,a.href),active:r,disabled:s,...a});return q.jsx(n,{...a,...u,ref:l,disabled:s,className:we(e,t,s&&"disabled",c.isActive&&"active")})});l1.displayName="NavLink";const u1=N.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:a=!1,navbar:l,navbarScroll:u,className:c,activeKey:h,...g}=RE(t,{activeKey:"onSelect"}),y=Ne(r,"nav");let C,I,O=!1;const D=N.useContext(da),S=N.useContext(VE);return D?(C=D.bsPrefix,O=l??!0):S&&({cardHeaderBsPrefix:I}=S),q.jsx(P2,{as:n,ref:e,activeKey:h,className:we(c,{[y]:!O,[`${C}-nav`]:O,[`${C}-nav-scroll`]:O&&u,[`${I}-${i}`]:!!I,[`${y}-${i}`]:!!i,[`${y}-fill`]:s,[`${y}-justified`]:a}),...g})});u1.displayName="Nav";const ki=Object.assign(u1,{Item:o1,Link:l1}),c1=N.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ne(t,"navbar-brand");const s=n||(r.href?"a":"span");return q.jsx(s,{...r,ref:i,className:we(e,t)})});c1.displayName="NavbarBrand";const h1=N.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ne(e,"navbar-collapse");const i=N.useContext(da);return q.jsx(JC,{in:!!(i&&i.expanded),...n,children:q.jsx("div",{ref:r,className:e,children:t})})});h1.displayName="NavbarCollapse";const d1=N.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...a},l)=>{t=Ne(t,"navbar-toggler");const{onToggle:u,expanded:c}=N.useContext(da)||{},h=$c(g=>{s&&s(g),u&&u()});return i==="button"&&(a.type="button"),q.jsx(i,{...a,ref:l,onClick:h,"aria-label":r,className:we(e,t,!c&&"collapsed"),children:n||q.jsx("span",{className:`${t}-icon`})})});d1.displayName="NavbarToggle";const _f=new WeakMap,Iv=(t,e)=>{if(!t||!e)return;const n=_f.get(e)||new Map;_f.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function rN(t,e=typeof window>"u"?void 0:window){const n=Iv(t,e),[r,i]=N.useState(()=>n?n.matches:!1);return k2(()=>{let s=Iv(t,e);if(!s)return i(!1);let a=_f.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),r}function iN(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function a(l,u,c){let h;typeof l=="object"?(h=l,c=u,u=!0):(u=u||!0,h={[l]:u});let g=N.useMemo(()=>Object.entries(h).reduce((y,[C,I])=>((I==="up"||I===!0)&&(y=n(y,s(C))),(I==="down"||I===!0)&&(y=n(y,i(C))),y),""),[JSON.stringify(h)]);return rN(g,c)}return a}const sN=iN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),f1=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ne(e,"offcanvas-body"),q.jsx(n,{ref:i,className:we(t,e),...r})));f1.displayName="OffcanvasBody";const aN={[En]:"show",[Jn]:"show"},p1=N.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:a=!1,...l},u)=>(t=Ne(t,"offcanvas"),q.jsx(Zp,{ref:u,addEndListener:Jp,in:r,mountOnEnter:i,unmountOnExit:s,appear:a,...l,childRef:Vc(n),children:(c,h)=>N.cloneElement(n,{...h,className:we(e,n.props.className,(c===En||c===Oo)&&`${t}-toggling`,aN[c])})})));p1.displayName="OffcanvasToggling";const m1=N.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ne(t,"offcanvas-header"),q.jsx(nN,{ref:s,...i,className:we(e,t),closeLabel:n,closeButton:r})));m1.displayName="OffcanvasHeader";const oN=e2("h5"),g1=N.forwardRef(({className:t,bsPrefix:e,as:n=oN,...r},i)=>(e=Ne(e,"offcanvas-title"),q.jsx(n,{ref:i,className:we(t,e),...r})));g1.displayName="OffcanvasTitle";function lN(t){return q.jsx(p1,{...t})}function uN(t){return q.jsx(jE,{...t})}const y1=N.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:a=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:h,onShow:g,onHide:y,container:C,autoFocus:I=!0,enforceFocus:O=!0,restoreFocus:D=!0,restoreFocusOptions:S,onEntered:E,onExit:_,onExiting:F,onEnter:z,onEntering:V,onExited:T,backdropClassName:v,manager:k,renderStaticNode:A=!1,...P},M)=>{const R=N.useRef();t=Ne(t,"offcanvas");const[Te,Ye]=N.useState(!1),Ue=$c(y),Ee=sN(s||"xs","up");N.useEffect(()=>{Ye(s?a&&!Ee:a)},[a,s,Ee]);const H=N.useMemo(()=>({onHide:Ue}),[Ue]);function J(){return k||(c?(R.current||(R.current=new s1({handleContainerOverflow:!1})),R.current):tN())}const Z=(ee,...ue)=>{ee&&(ee.style.visibility="visible"),z==null||z(ee,...ue)},ce=(ee,...ue)=>{ee&&(ee.style.visibility=""),T==null||T(...ue)},ie=N.useCallback(ee=>q.jsx("div",{...ee,className:we(`${t}-backdrop`,v)}),[v,t]),se=ee=>q.jsx("div",{...ee,...P,className:we(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return q.jsxs(q.Fragment,{children:[!Te&&(s||A)&&se({}),q.jsx(a1.Provider,{value:H,children:q.jsx(X2,{show:Te,ref:M,backdrop:l,container:C,keyboard:u,autoFocus:I,enforceFocus:O&&!c,restoreFocus:D,restoreFocusOptions:S,onEscapeKeyDown:h,onShow:g,onHide:Ue,onEnter:Z,onEntering:V,onEntered:E,onExit:_,onExiting:F,onExited:ce,manager:J(),transition:lN,backdropTransition:uN,renderBackdrop:ie,renderDialog:se})})]})});y1.displayName="Offcanvas";const cN=Object.assign(y1,{Body:f1,Header:m1,Title:g1}),v1=N.forwardRef(({onHide:t,...e},n)=>{const r=N.useContext(da),i=$c(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return q.jsx(cN,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});v1.displayName="NavbarOffcanvas";const w1=N.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ne(e,"navbar-text"),q.jsx(n,{ref:i,className:we(t,e),...r})));w1.displayName="NavbarText";const b1=N.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:a,sticky:l,className:u,as:c="nav",expanded:h,onToggle:g,onSelect:y,collapseOnSelect:C=!1,...I}=RE(t,{expanded:"onToggle"}),O=Ne(n,"navbar"),D=N.useCallback((..._)=>{y==null||y(..._),C&&h&&(g==null||g(!1))},[y,C,h,g]);I.role===void 0&&c!=="nav"&&(I.role="navigation");let S=`${O}-expand`;typeof r=="string"&&(S=`${S}-${r}`);const E=N.useMemo(()=>({onToggle:()=>g==null?void 0:g(!h),bsPrefix:O,expanded:!!h,expand:r}),[O,h,r,g]);return q.jsx(da.Provider,{value:E,children:q.jsx(Zu.Provider,{value:D,children:q.jsx(c,{ref:e,...I,className:we(u,O,r&&S,i&&`${O}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,a&&`fixed-${a}`)})})})});b1.displayName="Navbar";const Kl=Object.assign(b1,{Brand:c1,Collapse:h1,Offcanvas:v1,Text:w1,Toggle:d1});function ns(t){this._maxSize=t,this.clear()}ns.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ns.prototype.get=function(t){return this._values[t]};ns.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var hN=/[^.^\]^[]+|(?=\[\]|\.\.)/g,E1=/^\d+$/,dN=/^\d/,fN=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,pN=/^\s*(['"]?)(.*?)(\1)\s*$/,um=512,Sv=new ns(um),Cv=new ns(um),Nv=new ns(um),Mi={Cache:ns,split:kf,normalizePath:od,setter:function(t){var e=od(t);return Cv.get(t)||Cv.set(t,function(n,r){for(var i=0,s=e.length,a=n;i<s-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;a=a[e[i++]]}a[e[i]]=r})},getter:function(t,e){var n=od(t);return Nv.get(t)||Nv.set(t,function(r){for(var i=0,s=n.length;i<s;)if(r!=null||!e)r=r[n[i++]];else return;return r})},join:function(t){return t.reduce(function(e,n){return e+(cm(n)||E1.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){mN(Array.isArray(t)?t:kf(t),e,n)}};function od(t){return Sv.get(t)||Sv.set(t,kf(t).map(function(e){return e.replace(pN,"$2")}))}function kf(t){return t.match(hN)||[""]}function mN(t,e,n){var r=t.length,i,s,a,l;for(s=0;s<r;s++)i=t[s],i&&(vN(i)&&(i='"'+i+'"'),l=cm(i),a=!l&&/^\d+$/.test(i),e.call(n,i,l,a,s,t))}function cm(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function gN(t){return t.match(dN)&&!t.match(E1)}function yN(t){return fN.test(t)}function vN(t){return!cm(t)&&(gN(t)||yN(t))}const wN=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Wc=t=>t.match(wN)||[],Gc=t=>t[0].toUpperCase()+t.slice(1),hm=(t,e)=>Wc(t).join(e).toLowerCase(),_1=t=>Wc(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),bN=t=>Gc(_1(t)),EN=t=>hm(t,"_"),_N=t=>hm(t,"-"),kN=t=>Gc(hm(t," ")),xN=t=>Wc(t).map(Gc).join(" ");var ld={words:Wc,upperFirst:Gc,camelCase:_1,pascalCase:bN,snakeCase:EN,kebabCase:_N,sentenceCase:kN,titleCase:xN},dm={exports:{}};dm.exports=function(t){return k1(TN(t),t)};dm.exports.array=k1;function k1(t,e){var n=t.length,r=new Array(n),i={},s=n,a=IN(e),l=SN(t);for(e.forEach(function(c){if(!l.has(c[0])||!l.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(c,h,g){if(g.has(c)){var y;try{y=", node was:"+JSON.stringify(c)}catch{y=""}throw new Error("Cyclic dependency"+y)}if(!l.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[h]){i[h]=!0;var C=a.get(c)||new Set;if(C=Array.from(C),h=C.length){g.add(c);do{var I=C[--h];u(I,l.get(I),g)}while(h);g.delete(c)}r[--n]=c}}}function TN(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function IN(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function SN(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var CN=dm.exports;const NN=Ho(CN),AN=Object.prototype.toString,RN=Error.prototype.toString,ON=RegExp.prototype.toString,PN=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",DN=/^Symbol\((.*)\)(.*)$/;function LN(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Av(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return LN(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return PN.call(t).replace(DN,"Symbol($1)");const r=AN.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+RN.call(t)+"]":r==="RegExp"?ON.call(t):null}function cr(t,e){let n=Av(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Av(this[r],e);return s!==null?s:i},2)}function x1(t){return t==null?[]:[].concat(t)}let T1,I1,S1,FN=/\$\{\s*(\w+)\s*\}/g;T1=Symbol.toStringTag;let Rv=class{constructor(t,e,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[T1]="Error",this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],x1(t).forEach(i=>{if(Mt.isError(i)){this.errors.push(...i.errors);const s=i.inner.length?i.inner:[i];this.inner.push(...s)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}};I1=Symbol.hasInstance;S1=Symbol.toStringTag;class Mt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(FN,(i,s)=>cr(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const a=new Rv(e,n,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[S1]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Mt)}static[I1](e){return Rv[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Fn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${cr(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${cr(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${cr(n,!0)}\``+i}},Lt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Fr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},xf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Tf={isValue:"${path} field must be ${value}"},pu={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},mu={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},MN={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${cr(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${cr(n,!0)}\``}return Mt.formatError(Fn.notType,t)}};Object.assign(Object.create(null),{mixed:Fn,string:Lt,number:Fr,date:xf,object:pu,array:mu,boolean:Tf,tuple:MN});const Qc=t=>t&&t.__isYupSchema__;let Ov=class C1{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,a=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new C1(e,(l,u)=>{var c;let h=a(...l)?i:s;return(c=h==null?void 0:h(u))!=null?c:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Qc(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}};const Wl={context:"$",value:"."};class rs{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Wl.context,this.isValue=this.key[0]===Wl.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Wl.context:this.isValue?Wl.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Mi.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}rs.prototype.__isYupRef=!0;const _n=t=>t==null;function ms(t){function e({value:n,path:r="",options:i,originalValue:s,schema:a},l,u){const{name:c,test:h,params:g,message:y,skipAbsent:C}=t;let{parent:I,context:O,abortEarly:D=a.spec.abortEarly,disableStackTrace:S=a.spec.disableStackTrace}=i;function E(A){return rs.isRef(A)?A.getValue(n,I,O):A}function _(A={}){const P=Object.assign({value:n,originalValue:s,label:a.spec.label,path:A.path||r,spec:a.spec,disableStackTrace:A.disableStackTrace||S},g,A.params);for(const R of Object.keys(P))P[R]=E(P[R]);const M=new Mt(Mt.formatError(A.message||y,P),n,P.path,A.type||c,P.disableStackTrace);return M.params=P,M}const F=D?l:u;let z={path:r,parent:I,type:c,from:i.from,createError:_,resolve:E,options:i,originalValue:s,schema:a};const V=A=>{Mt.isError(A)?F(A):A?u(null):F(_())},T=A=>{Mt.isError(A)?F(A):l(A)};if(C&&_n(n))return V(!0);let v;try{var k;if(v=h.call(z,n,z),typeof((k=v)==null?void 0:k.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${z.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(v).then(V,T)}}catch(A){T(A);return}V(v)}return e.OPTIONS=t,e}function UN(t,e,n,r=n){let i,s,a;return e?(Mi.forEach(e,(l,u,c)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:i,value:n});let g=t.type==="tuple",y=c?parseInt(h,10):0;if(t.innerType||g){if(g&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[y],t=g?t.spec.types[y]:t.innerType}if(!c){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}let Pv=class N1 extends Set{describe(){const e=[];for(const n of this.values())e.push(rs.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new N1(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}};function Ps(t,e=new Map){if(Qc(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ps(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ps(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ps(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ps(i,e)}else throw Error(`Unable to clone ${t}`);return n}let Zt=class{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Pv,this._blacklist=new Pv,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=Ps(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=e,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,n=t.clone();const r=Object.assign({},e.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},e.internalTests,n.internalTests),n._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),n.tests=e.tests,n.exclusiveTests=e.exclusiveTests,n.withMutation(i=>{t.tests.forEach(s=>{i.test(s.OPTIONS)})}),n.transforms=[...e.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let n=e.conditions;e=e.clone(),e.conditions=[],e=n.reduce((r,i)=>i.resolve(r,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,n,r,i;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,e={}){let n=this.resolve(Object.assign({value:t},e)),r=e.assert==="ignore-optionality",i=n._cast(t,e);if(e.assert!==!1&&!n.isType(i)){if(r&&_n(i))return i;let s=cr(t),a=cr(i);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return i}_cast(t,e){let n=t===void 0?t:this.transforms.reduce((r,i)=>i.call(this,r,t,this),t);return n===void 0&&(n=this.getDefault(e)),n}_validate(t,e={},n,r){let{path:i,originalValue:s=t,strict:a=this.spec.strict}=e,l=t;a||(l=this._cast(l,Object.assign({assert:!1},e)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:i,value:l,originalValue:s,options:e,tests:u},n,c=>{if(c.length)return r(c,l);this.runTests({path:i,value:l,originalValue:s,options:e,tests:this.tests},n,r)})}runTests(t,e,n){let r=!1,{tests:i,value:s,originalValue:a,path:l,options:u}=t,c=I=>{r||(r=!0,e(I,s))},h=I=>{r||(r=!0,n(I,s))},g=i.length,y=[];if(!g)return h([]);let C={value:s,originalValue:a,path:l,options:u,schema:this};for(let I=0;I<i.length;I++){const O=i[I];O(C,c,function(D){D&&(Array.isArray(D)?y.push(...D):y.push(D)),--g<=0&&h(y)})}}asNestedTest({key:t,index:e,parent:n,parentPath:r,originalParent:i,options:s}){const a=t??e;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const c=Object.assign({},s,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${r||""}[${l?a:`"${a}"`}]`:(r?`${r}.`:"")+t});return(h,g,y)=>this.resolve(c)._validate(u,c,g,y)}validate(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),i=(n=e==null?void 0:e.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((s,a)=>r._validate(t,e,(l,u)=>{Mt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Mt(l,u,void 0,void 0,i)):s(u)}))}validateSync(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),i,s=(n=e==null?void 0:e.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(t,Object.assign({},e,{sync:!0}),(a,l)=>{throw Mt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Mt(a,t,void 0,void 0,s);i=l}),i}isValid(t,e){return this.validate(t,e).then(()=>!0,n=>{if(Mt.isError(n))return!1;throw n})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(n){if(Mt.isError(n))return!1;throw n}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):Ps(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const n=this.clone({nullable:t});return n.internalTests.nullable=ms({message:e,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,e){const n=this.clone({optional:t});return n.internalTests.optionality=ms({message:e,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=Fn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Fn.notNull){return this.nullability(!1,t)}required(t=Fn.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=Fn.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=ms(e),i=e.exclusive||e.name&&n.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(n.exclusiveTests[e.name]=!!e.exclusive),n.tests=n.tests.filter(s=>!(s.OPTIONS.name===e.name&&(i||s.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let n=this.clone(),r=x1(t).map(i=>new rs(i));return r.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof e=="function"?new Ov(r,e):Ov.fromOptions(r,e)),n}typeError(t){let e=this.clone();return e.internalTests.typeError=ms({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=Fn.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=ms({message:e,name:"oneOf",skipAbsent:!0,test(r){let i=this.schema._whitelist,s=i.resolveAll(this.resolve);return s.includes(r)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:s}})}}),n}notOneOf(t,e=Fn.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=ms({message:e,name:"notOneOf",test(r){let i=this.schema._blacklist,s=i.resolveAll(this.resolve);return s.includes(r)?this.createError({params:{values:Array.from(i).join(", "),resolved:s}}):!0}}),n}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:i,nullable:s}=e.spec;return{meta:r,label:n,optional:i,nullable:s,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,l,u)=>u.findIndex(c=>c.name===a.name)===l)}}};Zt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Zt.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:a}=UN(this,e,n,r.context);return a[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Zt.prototype[t]=Zt.prototype.oneOf;for(const t of["not","nope"])Zt.prototype[t]=Zt.prototype.notOneOf;function A1(){return new R1}class R1 extends Zt{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Tf.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return _n(n)||n===!0}})}isFalse(e=Tf.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return _n(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}A1.prototype=R1.prototype;const jN=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function BN(t){const e=If(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function If(t){var e,n;const r=jN.exec(t);return r?{year:Qn(r[1]),month:Qn(r[2],1)-1,day:Qn(r[3],1),hour:Qn(r[4]),minute:Qn(r[5]),second:Qn(r[6]),millisecond:r[7]?Qn(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Qn(r[10]),minuteOffset:Qn(r[11])}:null}function Qn(t,e=0){return Number(t)||e}let VN=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zN=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,$N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,qN="^\\d{4}-\\d{2}-\\d{2}",HN="\\d{2}:\\d{2}:\\d{2}",KN="(([+-]\\d{2}(:?\\d{2})?)|Z)",WN=new RegExp(`${qN}T${HN}(\\.\\d+)?${KN}$`),GN=t=>_n(t)||t===t.trim(),QN={}.toString();function nt(){return new O1}let O1=class extends Zt{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===QN?t:r})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||Fn.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=Lt.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e=Lt.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e=Lt.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,e){let n=!1,r,i;return e&&(typeof e=="object"?{excludeEmptyString:n=!1,message:r,name:i}=e:r=e),this.test({name:i||"matches",message:r||Lt.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&n||s.search(t)!==-1})}email(t=Lt.email){return this.matches(VN,{name:"email",message:t,excludeEmptyString:!0})}url(t=Lt.url){return this.matches(zN,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Lt.uuid){return this.matches($N,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",n,r;return t&&(typeof t=="object"?{message:e="",allowOffset:n=!1,precision:r=void 0}=t:e=t),this.matches(WN,{name:"datetime",message:e||Lt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||Lt.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const s=If(i);return s?!!s.z:!1}}).test({name:"datetime_precision",message:e||Lt.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const s=If(i);return s?s.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Lt.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:GN})}lowercase(t=Lt.lowercase){return this.transform(e=>_n(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>_n(e)||e===e.toLowerCase()})}uppercase(t=Lt.uppercase){return this.transform(e=>_n(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>_n(e)||e===e.toUpperCase()})}};nt.prototype=O1.prototype;let YN=t=>t!=+t;function Oi(){return new P1}class P1 extends Zt{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!YN(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Fr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Fr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Fr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Fr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Fr.positive){return this.moreThan(0,e)}negative(e=Fr.negative){return this.lessThan(0,e)}integer(e=Fr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>_n(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>_n(i)?i:Math[e](i))}}Oi.prototype=P1.prototype;let D1=new Date(""),XN=t=>Object.prototype.toString.call(t)==="[object Date]";function Zs(){return new fm}let fm=class L1 extends Zt{constructor(){super({type:"date",check(e){return XN(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=BN(e),isNaN(e)?L1.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(rs.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=xf.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=xf.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}};fm.INVALID_DATE=D1;Zs.prototype=fm.prototype;Zs.INVALID_DATE=D1;function JN(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=Mi.split(a)[0];r.add(u),i.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];r.add(a),rs.isRef(l)&&l.isSibling?s(l.path,a):Qc(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return NN.array(Array.from(r),n).reverse()}function Dv(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function F1(t){return(e,n)=>Dv(t,e)-Dv(t,n)}const M1=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function gu(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=gu(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=gu(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(gu)}):"optional"in t?t.optional():t}const ZN=(t,e)=>{const n=[...Mi.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Mi.getter(Mi.join(n),!0)(t);return!!(i&&r in i)};let Lv=t=>Object.prototype.toString.call(t)==="[object Object]";function Fv(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const eA=F1([]);function Vs(t){return new U1(t)}let U1=class extends Zt{constructor(t){super({type:"object",check(e){return Lv(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=eA,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var n;let r=super._cast(t,e);if(r===void 0)return this.getDefault(e);if(!this._typeCheck(r))return r;let i=this.fields,s=(n=e.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},e,{parent:l,__validating:e.__validating||!1}),c=!1;for(const h of a){let g=i[h],y=h in r;if(g){let C,I=r[h];u.path=(e.path?`${e.path}.`:"")+h,g=g.resolve({value:I,context:e.context,parent:l});let O=g instanceof Zt?g.spec:void 0,D=O==null?void 0:O.strict;if(O!=null&&O.strip){c=c||h in r;continue}C=!e.__validating||!D?g.cast(r[h],u):r[h],C!==void 0&&(l[h]=C)}else y&&!s&&(l[h]=r[h]);(y!==h in l||l[h]!==r[h])&&(c=!0)}return c?l:r}_validate(t,e={},n,r){let{from:i=[],originalValue:s=t,recursive:a=this.spec.recursive}=e;e.from=[{schema:this,value:s},...i],e.__validating=!0,e.originalValue=s,super._validate(t,e,n,(l,u)=>{if(!a||!Lv(u)){r(l,u);return}s=s||u;let c=[];for(let h of this._nodes){let g=this.fields[h];!g||rs.isRef(g)||c.push(g.asNestedTest({options:e,key:h,parent:u,parentPath:e.path,originalParent:s}))}this.runTests({tests:c,value:u,originalValue:s,options:e},n,h=>{r(h.sort(this._sortErrors).concat(l),u)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),n=e.fields;for(let[r,i]of Object.entries(this.fields)){const s=n[r];n[r]=s===void 0?i:s}return e.withMutation(r=>r.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(n=>{var r;const i=this.fields[n];let s=t;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),e[n]=i&&"getDefault"in i?i.getDefault(s):void 0}),e}setFields(t,e){let n=this.clone();return n.fields=t,n._nodes=JN(t,e),n._sortErrors=F1(Object.keys(t)),e&&(n._excludedEdges=e),n}shape(t,e=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),r=[...n._excludedEdges,...e]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[e,n]of Object.entries(this.fields))t[e]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return gu(this)}pick(t){const e={};for(const n of t)this.fields[n]&&(e[n]=this.fields[n]);return this.setFields(e,this._excludedEdges.filter(([n,r])=>t.includes(n)&&t.includes(r)))}omit(t){const e=[];for(const n of Object.keys(this.fields))t.includes(n)||e.push(n);return this.pick(e)}from(t,e,n){let r=Mi.getter(t,!0);return this.transform(i=>{if(!i)return i;let s=i;return ZN(i,t)&&(s=Object.assign({},i),n||delete s[t],s[e]=r(i)),s})}json(){return this.transform(M1)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||pu.exact,test(e){if(e==null)return!0;const n=Fv(this.schema,e);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=pu.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:e,test(r){if(r==null)return!0;const i=Fv(this.schema,r);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,e=pu.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const n={};for(const r of Object.keys(e))n[t(r)]=e[r];return n})}camelCase(){return this.transformKeys(ld.camelCase)}snakeCase(){return this.transformKeys(ld.snakeCase)}constantCase(){return this.transformKeys(t=>ld.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[i,s]of Object.entries(e.fields)){var r;let a=t;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=s.describe(a)}return n}};Vs.prototype=U1.prototype;function nc(t){return new j1(t)}let j1=class extends Zt{constructor(t){super({type:"array",spec:{types:t},check(e){return Array.isArray(e)}}),this.innerType=void 0,this.innerType=t}_cast(t,e){const n=super._cast(t,e);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map((s,a)=>{const l=this.innerType.cast(s,Object.assign({},e,{path:`${e.path||""}[${a}]`}));return l!==s&&(r=!0),l});return r?i:n}_validate(t,e={},n,r){var i;let s=this.innerType,a=(i=e.recursive)!=null?i:this.spec.recursive;e.originalValue!=null&&e.originalValue,super._validate(t,e,n,(l,u)=>{var c;if(!a||!s||!this._typeCheck(u)){r(l,u);return}let h=new Array(u.length);for(let y=0;y<u.length;y++){var g;h[y]=s.asNestedTest({options:e,index:y,parent:u,parentPath:e.path,originalParent:(g=e.originalValue)!=null?g:t})}this.runTests({value:u,tests:h,originalValue:(c=e.originalValue)!=null?c:t,options:e},n,y=>r(y.concat(l),u))})}clone(t){const e=super.clone(t);return e.innerType=this.innerType,e}json(){return this.transform(M1)}concat(t){let e=super.concat(t);return e.innerType=this.innerType,t.innerType&&(e.innerType=e.innerType?e.innerType.concat(t.innerType):t.innerType),e}of(t){let e=this.clone();if(!Qc(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+cr(t));return e.innerType=t,e.spec=Object.assign({},e.spec,{types:t}),e}length(t,e=mu.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e){return e=e||mu.min,this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e){return e=e||mu.max,this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,e)=>this._typeCheck(t)?t:e==null?[]:[].concat(e))}compact(t){let e=t?(n,r,i)=>!t(n,r,i):n=>!!n;return this.transform(n=>n!=null?n.filter(e):n)}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);if(e.innerType){var r;let i=t;(r=i)!=null&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=e.innerType.describe(i)}return n}};nc.prototype=j1.prototype;function B1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=B1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=B1(t))&&(r&&(r+=" "),r+=e);return r}const Po=t=>typeof t=="number"&&!isNaN(t),Ui=t=>typeof t=="string",Qt=t=>typeof t=="function",yu=t=>Ui(t)||Qt(t)?t:null,Sf=t=>N.isValidElement(t)||Ui(t)||Qt(t)||Po(t);function tA(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Yc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:l,position:u,preventExitTransition:c,done:h,nodeRef:g,isIn:y,playToast:C}=a;const I=r?`${e}--${u}`:e,O=r?`${n}--${u}`:n,D=N.useRef(0);return N.useLayoutEffect(()=>{const S=g.current,E=I.split(" "),_=F=>{F.target===g.current&&(C(),S.removeEventListener("animationend",_),S.removeEventListener("animationcancel",_),D.current===0&&F.type!=="animationcancel"&&S.classList.remove(...E))};S.classList.add(...E),S.addEventListener("animationend",_),S.addEventListener("animationcancel",_)},[]),N.useEffect(()=>{const S=g.current,E=()=>{S.removeEventListener("animationend",E),i?tA(S,h,s):h()};y||(c?E():(D.current=1,S.className+=` ${O}`,S.addEventListener("animationend",E)))},[y]),de.createElement(de.Fragment,null,l)}}function Mv(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const At=new Map;let Do=[];const Cf=new Set,nA=t=>Cf.forEach(e=>e(t)),V1=()=>At.size>0;function z1(t,e){var n;if(e)return!((n=At.get(e))==null||!n.isToastActive(t));let r=!1;return At.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function $1(t,e){Sf(t)&&(V1()||Do.push({content:t,options:e}),At.forEach(n=>{n.buildToast(t,e)}))}function Uv(t,e){At.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function rA(t){const{subscribe:e,getSnapshot:n,setProps:r}=N.useRef(function(s){const a=s.containerId||1;return{subscribe(l){const u=function(h,g,y){let C=1,I=0,O=[],D=[],S=[],E=g;const _=new Map,F=new Set,z=()=>{S=Array.from(_.values()),F.forEach(v=>v())},V=v=>{D=v==null?[]:D.filter(k=>k!==v),z()},T=v=>{const{toastId:k,onOpen:A,updateId:P,children:M}=v.props,R=P==null;v.staleId&&_.delete(v.staleId),_.set(k,v),D=[...D,v.props.toastId].filter(Te=>Te!==v.staleId),z(),y(Mv(v,R?"added":"updated")),R&&Qt(A)&&A(N.isValidElement(M)&&M.props)};return{id:h,props:E,observe:v=>(F.add(v),()=>F.delete(v)),toggle:(v,k)=>{_.forEach(A=>{k!=null&&k!==A.props.toastId||Qt(A.toggle)&&A.toggle(v)})},removeToast:V,toasts:_,clearQueue:()=>{I-=O.length,O=[]},buildToast:(v,k)=>{if((ie=>{let{containerId:se,toastId:ee,updateId:ue}=ie;const $e=se?se!==h:h!==1,Xe=_.has(ee)&&ue==null;return $e||Xe})(k))return;const{toastId:A,updateId:P,data:M,staleId:R,delay:Te}=k,Ye=()=>{V(A)},Ue=P==null;Ue&&I++;const Ee={...E,style:E.toastStyle,key:C++,...Object.fromEntries(Object.entries(k).filter(ie=>{let[se,ee]=ie;return ee!=null})),toastId:A,updateId:P,data:M,closeToast:Ye,isIn:!1,className:yu(k.className||E.toastClassName),bodyClassName:yu(k.bodyClassName||E.bodyClassName),progressClassName:yu(k.progressClassName||E.progressClassName),autoClose:!k.isLoading&&(H=k.autoClose,J=E.autoClose,H===!1||Po(H)&&H>0?H:J),deleteToast(){const ie=_.get(A),{onClose:se,children:ee}=ie.props;Qt(se)&&se(N.isValidElement(ee)&&ee.props),y(Mv(ie,"removed")),_.delete(A),I--,I<0&&(I=0),O.length>0?T(O.shift()):z()}};var H,J;Ee.closeButton=E.closeButton,k.closeButton===!1||Sf(k.closeButton)?Ee.closeButton=k.closeButton:k.closeButton===!0&&(Ee.closeButton=!Sf(E.closeButton)||E.closeButton);let Z=v;N.isValidElement(v)&&!Ui(v.type)?Z=N.cloneElement(v,{closeToast:Ye,toastProps:Ee,data:M}):Qt(v)&&(Z=v({closeToast:Ye,toastProps:Ee,data:M}));const ce={content:Z,props:Ee,staleId:R};E.limit&&E.limit>0&&I>E.limit&&Ue?O.push(ce):Po(Te)?setTimeout(()=>{T(ce)},Te):T(ce)},setProps(v){E=v},setToggle:(v,k)=>{_.get(v).toggle=k},isToastActive:v=>D.some(k=>k===v),getSnapshot:()=>S}}(a,s,nA);At.set(a,u);const c=u.observe(l);return Do.forEach(h=>$1(h.content,h.options)),Do=[],()=>{c(),At.delete(a)}},setProps(l){var u;(u=At.get(a))==null||u.setProps(l)},getSnapshot(){var l;return(l=At.get(a))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const i=N.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return t.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:u}=l.props;a.has(u)||a.set(u,[]),a.get(u).push(l)}),Array.from(a,l=>s(l[0],l[1]))},isToastActive:z1,count:i==null?void 0:i.length}}function iA(t){const[e,n]=N.useState(!1),[r,i]=N.useState(!1),s=N.useRef(null),a=N.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:g}=t;var y,C;function I(){n(!0)}function O(){n(!1)}function D(_){const F=s.current;a.canDrag&&F&&(a.didMove=!0,e&&O(),a.delta=t.draggableDirection==="x"?_.clientX-a.start:_.clientY-a.start,a.start!==_.clientX&&(a.canCloseOnClick=!1),F.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,F.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function S(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",S);const _=s.current;if(a.canDrag&&a.didMove&&_){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(C=At.get((y={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||C.setToggle(y.id,y.fn),N.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||O(),window.addEventListener("focus",I),window.addEventListener("blur",O),()=>{window.removeEventListener("focus",I),window.removeEventListener("blur",O)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){a.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",S);const F=s.current;a.canCloseOnClick=!0,a.canDrag=!0,F.style.transition="none",t.draggableDirection==="x"?(a.start=_.clientX,a.removalDistance=F.offsetWidth*(t.draggablePercent/100)):(a.start=_.clientY,a.removalDistance=F.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:F,bottom:z,left:V,right:T}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=V&&_.clientX<=T&&_.clientY>=F&&_.clientY<=z?O():I()}};return l&&u&&(E.onMouseEnter=O,t.stacked||(E.onMouseLeave=I)),g&&(E.onClick=_=>{h&&h(_),a.canCloseOnClick&&c()}),{playToast:I,pauseToast:O,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:E}}function sA(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:l,controlledProgress:u,progress:c,rtl:h,isIn:g,theme:y}=t;const C=s||u&&c===0,I={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(I.transform=`scaleX(${c})`);const O=Gr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),D=Qt(a)?a({rtl:h,type:i,defaultClassName:O}):Gr(O,a),S={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{g&&r()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),de.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:D,style:I,...S}))}let aA=1;const q1=()=>""+aA++;function oA(t){return t&&(Ui(t.toastId)||Po(t.toastId))?t.toastId:q1()}function ao(t,e){return $1(t,e),e.toastId}function rc(t,e){return{...e,type:e&&e.type||t,toastId:oA(e)}}function Gl(t){return(e,n)=>ao(e,rc(t,n))}function Ce(t,e){return ao(t,rc("default",e))}Ce.loading=(t,e)=>ao(t,rc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ce.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=Ui(i)?Ce.loading(i,n):Ce.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,g,y)=>{if(g==null)return void Ce.dismiss(r);const C={type:h,...l,...n,data:y},I=Ui(g)?{render:g}:g;return r?Ce.update(r,{...C,...I}):Ce(I.render,{...C,...I}),y},c=Qt(t)?t():t;return c.then(h=>u("success",a,h)).catch(h=>u("error",s,h)),c},Ce.success=Gl("success"),Ce.info=Gl("info"),Ce.error=Gl("error"),Ce.warning=Gl("warning"),Ce.warn=Ce.warning,Ce.dark=(t,e)=>ao(t,rc("default",{theme:"dark",...e})),Ce.dismiss=function(t){(function(e){var n;if(V1()){if(e==null||Ui(n=e)||Po(n))At.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=At.get(e.containerId);r?r.removeToast(e.id):At.forEach(i=>{i.removeToast(e.id)})}}else Do=Do.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ce.clearWaitingQueue=function(t){t===void 0&&(t={}),At.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ce.isActive=z1,Ce.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=At.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:q1()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,ao(a,s)}},Ce.done=t=>{Ce.update(t,{progress:1})},Ce.onChange=function(t){return Cf.add(t),()=>{Cf.delete(t)}},Ce.play=t=>Uv(!0,t),Ce.pause=t=>Uv(!1,t);const lA=typeof window<"u"?N.useLayoutEffect:N.useEffect,Ql=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},ud={info:function(t){return de.createElement(Ql,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return de.createElement(Ql,{...t},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return de.createElement(Ql,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return de.createElement(Ql,{...t},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return de.createElement("div",{className:"Toastify__spinner"})}},uA=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=iA(t),{closeButton:a,children:l,autoClose:u,onClick:c,type:h,hideProgressBar:g,closeToast:y,transition:C,position:I,className:O,style:D,bodyClassName:S,bodyStyle:E,progressClassName:_,progressStyle:F,updateId:z,role:V,progress:T,rtl:v,toastId:k,deleteToast:A,isIn:P,isLoading:M,closeOnClick:R,theme:Te}=t,Ye=Gr("Toastify__toast",`Toastify__toast-theme--${Te}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":v},{"Toastify__toast--close-on-click":R}),Ue=Qt(O)?O({rtl:v,position:I,type:h,defaultClassName:Ye}):Gr(Ye,O),Ee=function(ce){let{theme:ie,type:se,isLoading:ee,icon:ue}=ce,$e=null;const Xe={theme:ie,type:se};return ue===!1||(Qt(ue)?$e=ue({...Xe,isLoading:ee}):N.isValidElement(ue)?$e=N.cloneElement(ue,Xe):ee?$e=ud.spinner():(Cr=>Cr in ud)(se)&&($e=ud[se](Xe))),$e}(t),H=!!T||!u,J={closeToast:y,type:h,theme:Te};let Z=null;return a===!1||(Z=Qt(a)?a(J):N.isValidElement(a)?N.cloneElement(a,J):function(ce){let{closeToast:ie,theme:se,ariaLabel:ee="close"}=ce;return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${se}`,type:"button",onClick:ue=>{ue.stopPropagation(),ie(ue)},"aria-label":ee},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(J)),de.createElement(C,{isIn:P,done:A,position:I,preventExitTransition:n,nodeRef:r,playToast:s},de.createElement("div",{id:k,onClick:c,"data-in":P,className:Ue,...i,style:D,ref:r},de.createElement("div",{...P&&{role:V},className:Qt(S)?S({type:h}):Gr("Toastify__toast-body",S),style:E},Ee!=null&&de.createElement("div",{className:Gr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Ee),de.createElement("div",null,l)),Z,de.createElement(sA,{...z&&!H?{key:`pb-${z}`}:{},rtl:v,theme:Te,delay:u,isRunning:e,isIn:P,closeToast:y,hide:g,type:h,style:F,className:_,controlledProgress:H,progress:T||0})))},Xc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},cA=Yc(Xc("bounce",!0));Yc(Xc("slide",!0));Yc(Xc("zoom"));Yc(Xc("flip"));const hA={position:"top-right",transition:cA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function dA(t){let e={...hA,...t};const n=t.stacked,[r,i]=N.useState(!0),s=N.useRef(null),{getToastToRender:a,isToastActive:l,count:u}=rA(e),{className:c,style:h,rtl:g,containerId:y}=e;function C(O){const D=Gr("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":g});return Qt(c)?c({position:O,rtl:g,defaultClassName:D}):Gr(D,yu(c))}function I(){n&&(i(!0),Ce.play())}return lA(()=>{if(n){var O;const D=s.current.querySelectorAll('[data-in="true"]'),S=12,E=(O=e.position)==null?void 0:O.includes("top");let _=0,F=0;Array.from(D).reverse().forEach((z,V)=>{const T=z;T.classList.add("Toastify__toast--stacked"),V>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=E?"top":"bot");const v=_*(r?.2:1)+(r?0:S*V);T.style.setProperty("--y",`${E?v:-1*v}px`),T.style.setProperty("--g",`${S}`),T.style.setProperty("--s",""+(1-(r?F:0))),_+=T.offsetHeight,F+=.025})}},[r,u,n]),de.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),Ce.pause())},onMouseLeave:I},a((O,D)=>{const S=D.length?{...h}:{...h,pointerEvents:"none"};return de.createElement("div",{className:C(O),style:S,key:`container-${O}`},D.map(E=>{let{content:_,props:F}=E;return de.createElement(uA,{...F,stacked:n,collapseAll:I,isIn:l(F.toastId,F.containerId),style:F.style,key:`toast-${F.key}`},_)}))}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var Nf={},jv=mE;Nf.createRoot=jv.createRoot,Nf.hydrateRoot=jv.hydrateRoot;const H1=N.createContext();function fA({children:t}){const[e,n]=N.useState([]),r=(i,s)=>{n(a=>a.find(l=>l.id===i.id)?a.map(l=>l.id===i.id?{...l,quantity:l.quantity+s}:l):[...a,{...i,quantity:s}])};return q.jsx(H1.Provider,{value:{cartItems:e,addToCart:r},children:t})}function pA(){return N.useContext(H1)}var Bv={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|c>>6,C=c&63;u||(C=64,a||(y=64)),r.push(n[h],n[g],n[y],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||u==null)throw new gA;const c=s<<2|a>>4;if(r.push(c),l!==64){const h=a<<4&240|l>>2;if(r.push(h),u!==64){const g=l<<6&192|u;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(t){const e=K1(t);return W1.encodeByteArray(e,!0)},ic=function(t){return yA(t).replace(/\./g,"")},G1=function(t){try{return W1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Yt<"u")return Yt;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wA=()=>vA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof Ox>"u"||typeof Bv>"u")return;const t=Bv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&G1(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return wA()||bA()||EA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q1=t=>{var e,n;return(n=(e=Jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_A=t=>{const e=Q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y1=()=>{var t;return(t=Jc())===null||t===void 0?void 0:t.config},X1=t=>{var e;return(e=Jc())===null||e===void 0?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ic(JSON.stringify(n)),ic(JSON.stringify(a)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function IA(){var t;const e=(t=Jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Yt.process)==="[object process]"}catch{return!1}}function SA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DA="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DA,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?LA(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Tr(i,l,r)}}function LA(t,e){return t.replace(FA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FA=/\{\$([^}]+)}/g;function MA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Vv(s)&&Vv(a)){if(!sc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vv(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UA(t,e){const n=new jA(t,e);return n.subscribe.bind(n)}class jA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cd),i.error===void 0&&(i.error=cd),i.complete===void 0&&(i.complete=cd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cd(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zt(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Si="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($A(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(t){return t===Si?void 0:t}function $A(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const HA={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},KA=me.INFO,WA={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},GA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pm{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const QA=(t,e)=>e.some(n=>t instanceof n);let zv,$v;function YA(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,Af=new WeakMap,Z1=new WeakMap,hd=new WeakMap,mm=new WeakMap;function JA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(si(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&J1.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function ZA(t){if(Af.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Af.set(t,e)}let Rf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eR(t){Rf=t(Rf)}function tR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dd(this),e,...n);return Z1.set(r,e.sort?e.sort():[e]),si(r)}:XA().includes(t)?function(...e){return t.apply(dd(this),e),si(J1.get(this))}:function(...e){return si(t.apply(dd(this),e))}}function nR(t){return typeof t=="function"?tR(t):(t instanceof IDBTransaction&&ZA(t),QA(t,YA())?new Proxy(t,Rf):t)}function si(t){if(t instanceof IDBRequest)return JA(t);if(hd.has(t))return hd.get(t);const e=nR(t);return e!==t&&(hd.set(t,e),mm.set(e,t)),e}const dd=t=>mm.get(t);function rR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=si(a);return r&&a.addEventListener("upgradeneeded",u=>{r(si(a.result),u.oldVersion,u.newVersion,si(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const iR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],fd=new Map;function qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return fd.set(e,s),s}eR(t=>({...t,get:(e,n,r)=>qv(e,n)||t.get(e,n,r),has:(e,n)=>!!qv(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(oR(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function oR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",Hv="0.10.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vr=new pm("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",dR="@firebase/app-check",fR="@firebase/auth",pR="@firebase/auth-compat",mR="@firebase/database",gR="@firebase/data-connect",yR="@firebase/database-compat",vR="@firebase/functions",wR="@firebase/functions-compat",bR="@firebase/installations",ER="@firebase/installations-compat",_R="@firebase/messaging",kR="@firebase/messaging-compat",xR="@firebase/performance",TR="@firebase/performance-compat",IR="@firebase/remote-config",SR="@firebase/remote-config-compat",CR="@firebase/storage",NR="@firebase/storage-compat",AR="@firebase/firestore",RR="@firebase/vertexai-preview",OR="@firebase/firestore-compat",PR="firebase",DR="10.14.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pf="[DEFAULT]",LR={[Of]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[dR]:"fire-app-check",[hR]:"fire-app-check-compat",[fR]:"fire-auth",[pR]:"fire-auth-compat",[mR]:"fire-rtdb",[gR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[vR]:"fire-fn",[wR]:"fire-fn-compat",[bR]:"fire-iid",[ER]:"fire-iid-compat",[_R]:"fire-fcm",[kR]:"fire-fcm-compat",[xR]:"fire-perf",[TR]:"fire-perf-compat",[IR]:"fire-rc",[SR]:"fire-rc-compat",[CR]:"fire-gcs",[NR]:"fire-gcs-compat",[AR]:"fire-fst",[OR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ac=new Map,FR=new Map,Df=new Map;function Kv(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(Df.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of ac.values())Kv(n,t);for(const n of FR.values())Kv(n,t);return!0}function gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Jo("app","Firebase",MR);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fa=DR;function e_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=Y1()),!n)throw ai.create("no-options");const s=ac.get(i);if(s){if(sc(n,s.options)&&sc(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const a=new qA(i);for(const u of Df.values())a.addComponent(u);const l=new UR(n,r,a);return ac.set(i,l),l}function t_(t=Pf){const e=ac.get(t);if(!e&&t===Pf&&Y1())return e_();if(!e)throw ai.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let i=(r=LR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(l.join(" "));return}ea(new Hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jR="firebase-heartbeat-database",BR=1,Lo="firebase-heartbeat-store";let pd=null;function n_(){return pd||(pd=rR(jR,BR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),pd}async function VR(t){try{const e=(await n_()).transaction(Lo),n=await e.objectStore(Lo).get(r_(t));return await e.done,n}catch(e){if(e instanceof Tr)vr.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function Wv(t,e){try{const n=(await n_()).transaction(Lo,"readwrite");await n.objectStore(Lo).put(e,r_(t)),await n.done}catch(n){if(n instanceof Tr)vr.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(r.message)}}}function r_(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zR=1024,$R=30*24*60*60*1e3;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=$R}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:r,unsentEntries:i}=HR(this._heartbeatsCache.heartbeats),s=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vr.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function HR(t,e=zR){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Qv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await VR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qv(t){return ic(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WR(t){ea(new Hi("platform-logger",e=>new aR(e),"PRIVATE")),ea(new Hi("heartbeat",e=>new qR(e),"PRIVATE")),oi(Of,Hv,t),oi(Of,Hv,"esm2017"),oi("fire-js","")}WR("");function ym(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GR=i_,s_=new Jo("auth","Firebase",i_());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oc=new pm("@firebase/auth");function QR(t,...e){oc.logLevel<=me.WARN&&oc.warn(`Auth (${fa}): ${t}`,...e)}function vu(t,...e){oc.logLevel<=me.ERROR&&oc.error(`Auth (${fa}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fn(t,...e){throw wm(t,...e)}function Sn(t,...e){return wm(t,...e)}function vm(t,e,n){const r=Object.assign(Object.assign({},GR()),{[e]:n});return new Jo("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return vm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(t,"argument-error"),vm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s_.create(t,...e)}function re(t,e,...n){if(!t)throw wm(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function wr(t,e){t||ir(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XR(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||CA()||"connection"in navigator)?navigator.onLine:!0}function ZR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class el{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=TA()||NA()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bm(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tO=new el(3e4,6e4);function Ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kn(t,e,n,r,i={}){return o_(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Zo(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return SA()||(c.referrerPolicy="no-referrer"),a_.fetch()(l_(t,t.config.apiHost,n,l),c)})}async function o_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eO),e);try{const i=new rO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Yl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Yl(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vm(t,h,c);fn(t,h)}}catch(i){if(i instanceof Tr)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function tl(t,e,n,r,i={}){const s=await Kn(t,e,n,r,i);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function l_(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bm(t.config,i):`${t.config.apiScheme}://${i}`}function nO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),tO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sn(t,e,r);return i.customData._tokenResponse=n,i}function Xv(t){return t!==void 0&&t.enterprise!==void 0}class iO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function sO(t,e){return Kn(t,"GET","/v2/recaptchaConfig",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aO(t,e){return Kn(t,"POST","/v1/accounts:delete",e)}async function u_(t,e){return Kn(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oO(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=Em(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:oo(md(i.auth_time)),issuedAtTime:oo(md(i.iat)),expirationTime:oo(md(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function md(t){return Number(t)*1e3}function Em(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=G1(n);return i?JSON.parse(i):(vu("Failed to decode base64 JWT payload"),null)}catch(i){return vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jv(t){const e=Em(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ta(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&lO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ff{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ta(t,u_(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?c_(s.providerUserInfo):[],l=hO(t.providerData,a),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ff(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function cO(t){const e=zt(t);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function c_(t){return t.map(e=>{var{providerId:n}=e,r=ym(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function dO(t,e){const n=await o_(t,{},async()=>{const r=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=l_(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",a_.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fO(t,e){return Kn(t,"POST","/v2/accounts:revokeToken",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new zs;return r&&(re(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ff(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ta(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oO(this,e)}reload(){return cO(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await ta(this,aO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,c,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:F,isAnonymous:z,providerData:V,stsTokenManager:T}=n;re(_&&T,e,"internal-error");const v=zs.fromJSON(this.name,T);re(typeof _=="string",e,"internal-error"),Lr(g,e.name),Lr(y,e.name),re(typeof F=="boolean",e,"internal-error"),re(typeof z=="boolean",e,"internal-error"),Lr(C,e.name),Lr(I,e.name),Lr(O,e.name),Lr(D,e.name),Lr(S,e.name),Lr(E,e.name);const k=new sr({uid:_,auth:e,email:y,emailVerified:F,displayName:g,isAnonymous:z,photoURL:I,phoneNumber:C,tenantId:O,stsTokenManager:v,createdAt:S,lastLoginAt:E});return V&&Array.isArray(V)&&(k.providerData=V.map(A=>Object.assign({},A))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const s=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?c_(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zs;l.updateFromIdToken(r);const u=new sr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ff(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zv=new Map;function ar(t){wr(t instanceof Function,"Expected a class definition");let e=Zv.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zv.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h_.type="NONE";const ew=h_;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wu(this.userKey,i.apiKey,s),this.fullPersistenceKey=wu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $s(ar(ew),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ar(ew);const a=wu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(a);if(h){const g=sr._fromJSON(e,h);c!==s&&(l=g),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new $s(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new $s(s,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y_(e))return"Blackberry";if(v_(e))return"Webos";if(f_(e))return"Safari";if((e.includes("chrome/")||p_(e))&&!e.includes("edge/"))return"Chrome";if(g_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d_(t=St()){return/firefox\//i.test(t)}function f_(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p_(t=St()){return/crios\//i.test(t)}function m_(t=St()){return/iemobile/i.test(t)}function g_(t=St()){return/android/i.test(t)}function y_(t=St()){return/blackberry/i.test(t)}function v_(t=St()){return/webos/i.test(t)}function _m(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pO(t=St()){var e;return _m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mO(){return AA()&&document.documentMode===10}function w_(t=St()){return _m(t)||g_(t)||v_(t)||y_(t)||/windows phone/i.test(t)||m_(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function b_(t,e=[]){let n;switch(t){case"Browser":n=tw(St());break;case"Worker":n=`${tw(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yO(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",Ir(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vO=6;class wO{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:vO,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nw(this),this.idTokenSubscription=new nw(this),this.beforeStateQueue=new gO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await u_(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u!=null&&u.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(hr(this));const n=e?zt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yO(this),n=new wO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sr(t){return zt(t)}class nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=UA(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EO(t){Zc=t}function E_(t){return Zc.loadJS(t)}function _O(){return Zc.recaptchaEnterpriseScript}function kO(){return Zc.gapiScript}function xO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TO="recaptcha-enterprise",IO="NO_RECAPTCHA";class SO{constructor(e){this.type=TO,this.auth=Sr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{sO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new iO(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;Xv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(IO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&Xv(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_O();u.length!==0&&(u+=l),E_(u).then(()=>{i(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function rw(t,e,n,r=!1){const i=new SO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function uc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CO(t,e){const n=gm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(sc(i,e))return r;fn(r,"already-initialized")}return n.initialize({options:e})}function NO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AO(t,e,n){const r=Sr(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=__(e),{host:a,port:l}=RO(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),OO()}function __(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RO(t){const e=__(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:iw(a)}}}function iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function PO(t,e){return Kn(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function DO(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",Ir(t,e))}async function LO(t,e){return Kn(t,"POST","/v1/accounts:sendOobCode",Ir(t,e))}async function FO(t,e){return LO(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function MO(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}async function UO(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fo extends km{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uc(e,n,"signInWithPassword",DO);case"emailLink":return MO(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uc(e,r,"signUpPassword",PO);case"emailLink":return UO(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qs(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jO="http://localhost";class Ki extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ym(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ki(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:jO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zo(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VO(t){const e=Ka(Wa(t)).link,n=e?Ka(Wa(e)).deep_link_id:null,r=Ka(Wa(t)).deep_link_id;return(r?Ka(Wa(r)).link:null)||r||n||e||t}class xm{constructor(e){var n,r,i,s,a,l;const u=Ka(Wa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,g=BO((i=u.mode)!==null&&i!==void 0?i:null);re(c&&h&&g,"argument-error"),this.apiKey=c,this.operation=g,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=VO(e);try{return new xm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xm.parseLink(n);return re(r,"argument-error"),Fo._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nl extends Tm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zr extends nl{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class er extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $r extends nl{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qr extends nl{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zO(t,e){return tl(t,"POST","/v1/accounts:signUp",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sr._fromIdTokenResponse(e,r,i),a=sw(r);return new Wi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sw(r);return new Wi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cc extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cc(e,n,r,i)}}function k_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(t,i,e,r):i})}async function $O(t,e,n=!1){const r=await ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qO(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(hr(r));const i="reauthenticate";try{const s=await ta(t,k_(r,i,e,t),n);re(s.idToken,r,"internal-error");const a=Em(s.idToken);re(a,r,"internal-error");const{sub:l}=a;return re(t.uid===l,r,"user-mismatch"),Wi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(r,"user-mismatch"),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function x_(t,e,n=!1){if(kn(t.app))return Promise.reject(hr(t));const r="signIn",i=await k_(t,r,e),s=await Wi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function HO(t,e){return x_(Sr(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function T_(t){const e=Sr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KO(t,e,n){const r=Sr(t);await uc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",FO)}async function WO(t,e,n){if(kn(t.app))return Promise.reject(hr(t));const r=Sr(t),i=await uc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zO).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&T_(t),a}),s=await Wi._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function GO(t,e,n){return kn(t.app)?Promise.reject(hr(t)):HO(zt(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&T_(t),r})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QO(t,e){return Kn(t,"POST","/v1/accounts:update",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ta(r,QO(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function XO(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function JO(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function ZO(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function eP(t){return zt(t).signOut()}const hc="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tP=1e3,nP=10;class S_ extends I_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);mO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}S_.type="LOCAL";const rP=S_;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C_ extends I_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C_.type="SESSION";const N_=C_;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await iP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Im(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Im("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vn(){return window}function aP(t){Vn().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A_(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function oP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uP(){return A_()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R_="firebaseLocalStorageDb",cP=1,dc="firebaseLocalStorage",O_="fbase_key";class rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(t,e){return t.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function hP(){const t=indexedDB.deleteDatabase(R_);return new rl(t).toPromise()}function Mf(){const t=indexedDB.open(R_,cP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dc,{keyPath:O_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dc)?e(r):(r.close(),await hP(),e(await Mf()))})})}async function aw(t,e,n){const r=th(t,!0).put({[O_]:e,value:n});return new rl(r).toPromise()}async function dP(t,e){const n=th(t,!1).get(e),r=await new rl(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=th(t,!0).delete(e);return new rl(n).toPromise()}const fP=800,pP=3;class P_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(uP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oP(),!this.activeServiceWorker)return;this.sender=new sP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await aw(e,hc,"1"),await ow(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=th(i,!1).getAll();return new rl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P_.type="LOCAL";const mP=P_;new el(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function D_(t,e){return e?ar(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm extends km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gP(t){return x_(t.auth,new Sm(t),t.bypassAuthState)}function yP(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),qO(n,new Sm(t),t.bypassAuthState)}async function vP(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),$O(n,new Sm(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gP;case"linkViaPopup":case"linkViaRedirect":return vP;case"reauthViaPopup":case"reauthViaRedirect":return yP;default:fn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wP=new el(2e3,1e4);async function bP(t,e,n){if(kn(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=Sr(t);YR(t,e,Tm);const i=D_(r,n);return new Pi(r,"signInViaPopup",e,i).executeNotNull()}class Pi extends L_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wP.get())};e()}}Pi.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EP="pendingRedirect",bu=new Map;class _P extends L_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bu.get(this.auth._key());if(!e){try{const n=await kP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}bu.set(this.auth._key(),e)}return this.bypassAuthState||bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kP(t,e){const n=IP(e),r=TP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xP(t,e){bu.set(t._key(),e)}function TP(t){return ar(t._redirectPersistence)}function IP(t){return wu(EP,t.config.apiKey,t.name)}async function SP(t,e,n=!1){if(kn(t.app))return Promise.reject(hr(t));const r=Sr(t),i=D_(r,e),s=await new _P(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CP=10*60*1e3;class NP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CP&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F_(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function RP(t,e={}){return Kn(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PP=/^https?/;async function DP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RP(t);for(const n of e)try{if(LP(n))return}catch{}fn(t,"unauthorized-domain")}function LP(t){const e=Lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!PP.test(n))return!1;if(OP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FP=new el(3e4,6e4);function uw(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MP(t){return new Promise((e,n)=>{var r,i,s;function a(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Sn(t,"network-request-failed"))},timeout:FP.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)a();else{const l=xO("iframefcb");return Vn()[l]=()=>{gapi.load?a():n(Sn(t,"network-request-failed"))},E_(`${kO()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Eu=null,e})}let Eu=null;function UP(t){return Eu=Eu||MP(t),Eu}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jP=new el(5e3,15e3),BP="__/auth/iframe",VP="emulator/auth/iframe",zP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qP(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bm(e,VP):`https://${t.config.authDomain}/${BP}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=$P.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zo(r).slice(1)}`}async function HP(t){const e=await UP(t),n=Vn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:qP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Sn(t,"network-request-failed"),l=Vn().setTimeout(()=>{s(a)},jP.get());function u(){Vn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WP=500,GP=600,QP="_blank",YP="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XP(t,e,n,r=WP,i=GP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},KP),{width:r.toString(),height:i.toString(),top:s,left:a}),c=St().toLowerCase();n&&(l=p_(c)?QP:n),d_(c)&&(e=e||YP,u.scrollbars="yes");const h=Object.entries(u).reduce((y,[C,I])=>`${y}${C}=${I},`,"");if(pO(c)&&l!=="_self")return JP(e||"",l),new cw(null);const g=window.open(e||"",l,h);re(g,t,"popup-blocked");try{g.focus()}catch{}return new cw(g)}function JP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZP="__/auth/handler",eD="emulator/auth/handler",tD=encodeURIComponent("fac");async function hw(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof Tm){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",MA(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))a[h]=g}if(e instanceof nl){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${tD}=${encodeURIComponent(u)}`:"";return`${nD(t)}?${Zo(l).slice(1)}${c}`}function nD({config:t}){return t.emulator?bm(t,eD):`https://${t.authDomain}/${ZP}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gd="webStorageSupport";class rD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N_,this._completeRedirectFn=SP,this._overrideRedirectResult=xP}async _openPopup(e,n,r,i){var s;wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await hw(e,n,r,Lf(),i);return XP(e,a,Im())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hw(e,n,r,Lf(),i);return aP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HP(e),r=new NP(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gd,{type:gd},r=>{var i;const s=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[gd];s!==void 0&&n(!!s),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w_()||f_()||_m()}}const iD=rD;var dw="@firebase/auth",fw="1.7.9";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oD(t){ea(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;re(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b_(t)},c=new bO(r,i,s,u);return NO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ea(new Hi("auth-internal",e=>{const n=Sr(e.getProvider("auth").getImmediate());return(r=>new sD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(dw,fw,aD(t)),oi(dw,fw,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lD=5*60,uD=X1("authIdTokenMaxAge")||lD;let pw=null;const cD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uD)return;const i=n==null?void 0:n.token;pw!==i&&(pw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hD(t=t_()){const e=gm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CO(t,{popupRedirectResolver:iD,persistence:[mP,rP,N_]}),r=X1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=cD(s.toString());JO(n,a,()=>a(n.currentUser)),XO(n,l=>a(l))}}const i=Q1("auth");return i&&AO(n,`http://${i}`),n}function dD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oD("Browser");var fD="firebase",pD="10.14.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/oi(fD,pD,"app");var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Yt<"u"?Yt:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,M_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function k(){}k.prototype=v.prototype,T.D=v.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(A,P,M){for(var R=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)R[Te-2]=arguments[Te];return v.prototype[P].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,k){k||(k=0);var A=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)A[P]=v.charCodeAt(k++)|v.charCodeAt(k++)<<8|v.charCodeAt(k++)<<16|v.charCodeAt(k++)<<24;else for(P=0;16>P;++P)A[P]=v[k++]|v[k++]<<8|v[k++]<<16|v[k++]<<24;v=T.g[0],k=T.g[1],P=T.g[2];var M=T.g[3],R=v+(M^k&(P^M))+A[0]+3614090360&4294967295;v=k+(R<<7&4294967295|R>>>25),R=M+(P^v&(k^P))+A[1]+3905402710&4294967295,M=v+(R<<12&4294967295|R>>>20),R=P+(k^M&(v^k))+A[2]+606105819&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(v^P&(M^v))+A[3]+3250441966&4294967295,k=P+(R<<22&4294967295|R>>>10),R=v+(M^k&(P^M))+A[4]+4118548399&4294967295,v=k+(R<<7&4294967295|R>>>25),R=M+(P^v&(k^P))+A[5]+1200080426&4294967295,M=v+(R<<12&4294967295|R>>>20),R=P+(k^M&(v^k))+A[6]+2821735955&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(v^P&(M^v))+A[7]+4249261313&4294967295,k=P+(R<<22&4294967295|R>>>10),R=v+(M^k&(P^M))+A[8]+1770035416&4294967295,v=k+(R<<7&4294967295|R>>>25),R=M+(P^v&(k^P))+A[9]+2336552879&4294967295,M=v+(R<<12&4294967295|R>>>20),R=P+(k^M&(v^k))+A[10]+4294925233&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(v^P&(M^v))+A[11]+2304563134&4294967295,k=P+(R<<22&4294967295|R>>>10),R=v+(M^k&(P^M))+A[12]+1804603682&4294967295,v=k+(R<<7&4294967295|R>>>25),R=M+(P^v&(k^P))+A[13]+4254626195&4294967295,M=v+(R<<12&4294967295|R>>>20),R=P+(k^M&(v^k))+A[14]+2792965006&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(v^P&(M^v))+A[15]+1236535329&4294967295,k=P+(R<<22&4294967295|R>>>10),R=v+(P^M&(k^P))+A[1]+4129170786&4294967295,v=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(v^k))+A[6]+3225465664&4294967295,M=v+(R<<9&4294967295|R>>>23),R=P+(v^k&(M^v))+A[11]+643717713&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^v&(P^M))+A[0]+3921069994&4294967295,k=P+(R<<20&4294967295|R>>>12),R=v+(P^M&(k^P))+A[5]+3593408605&4294967295,v=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(v^k))+A[10]+38016083&4294967295,M=v+(R<<9&4294967295|R>>>23),R=P+(v^k&(M^v))+A[15]+3634488961&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^v&(P^M))+A[4]+3889429448&4294967295,k=P+(R<<20&4294967295|R>>>12),R=v+(P^M&(k^P))+A[9]+568446438&4294967295,v=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(v^k))+A[14]+3275163606&4294967295,M=v+(R<<9&4294967295|R>>>23),R=P+(v^k&(M^v))+A[3]+4107603335&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^v&(P^M))+A[8]+1163531501&4294967295,k=P+(R<<20&4294967295|R>>>12),R=v+(P^M&(k^P))+A[13]+2850285829&4294967295,v=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(v^k))+A[2]+4243563512&4294967295,M=v+(R<<9&4294967295|R>>>23),R=P+(v^k&(M^v))+A[7]+1735328473&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^v&(P^M))+A[12]+2368359562&4294967295,k=P+(R<<20&4294967295|R>>>12),R=v+(k^P^M)+A[5]+4294588738&4294967295,v=k+(R<<4&4294967295|R>>>28),R=M+(v^k^P)+A[8]+2272392833&4294967295,M=v+(R<<11&4294967295|R>>>21),R=P+(M^v^k)+A[11]+1839030562&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^v)+A[14]+4259657740&4294967295,k=P+(R<<23&4294967295|R>>>9),R=v+(k^P^M)+A[1]+2763975236&4294967295,v=k+(R<<4&4294967295|R>>>28),R=M+(v^k^P)+A[4]+1272893353&4294967295,M=v+(R<<11&4294967295|R>>>21),R=P+(M^v^k)+A[7]+4139469664&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^v)+A[10]+3200236656&4294967295,k=P+(R<<23&4294967295|R>>>9),R=v+(k^P^M)+A[13]+681279174&4294967295,v=k+(R<<4&4294967295|R>>>28),R=M+(v^k^P)+A[0]+3936430074&4294967295,M=v+(R<<11&4294967295|R>>>21),R=P+(M^v^k)+A[3]+3572445317&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^v)+A[6]+76029189&4294967295,k=P+(R<<23&4294967295|R>>>9),R=v+(k^P^M)+A[9]+3654602809&4294967295,v=k+(R<<4&4294967295|R>>>28),R=M+(v^k^P)+A[12]+3873151461&4294967295,M=v+(R<<11&4294967295|R>>>21),R=P+(M^v^k)+A[15]+530742520&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^v)+A[2]+3299628645&4294967295,k=P+(R<<23&4294967295|R>>>9),R=v+(P^(k|~M))+A[0]+4096336452&4294967295,v=k+(R<<6&4294967295|R>>>26),R=M+(k^(v|~P))+A[7]+1126891415&4294967295,M=v+(R<<10&4294967295|R>>>22),R=P+(v^(M|~k))+A[14]+2878612391&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~v))+A[5]+4237533241&4294967295,k=P+(R<<21&4294967295|R>>>11),R=v+(P^(k|~M))+A[12]+1700485571&4294967295,v=k+(R<<6&4294967295|R>>>26),R=M+(k^(v|~P))+A[3]+2399980690&4294967295,M=v+(R<<10&4294967295|R>>>22),R=P+(v^(M|~k))+A[10]+4293915773&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~v))+A[1]+2240044497&4294967295,k=P+(R<<21&4294967295|R>>>11),R=v+(P^(k|~M))+A[8]+1873313359&4294967295,v=k+(R<<6&4294967295|R>>>26),R=M+(k^(v|~P))+A[15]+4264355552&4294967295,M=v+(R<<10&4294967295|R>>>22),R=P+(v^(M|~k))+A[6]+2734768916&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~v))+A[13]+1309151649&4294967295,k=P+(R<<21&4294967295|R>>>11),R=v+(P^(k|~M))+A[4]+4149444226&4294967295,v=k+(R<<6&4294967295|R>>>26),R=M+(k^(v|~P))+A[11]+3174756917&4294967295,M=v+(R<<10&4294967295|R>>>22),R=P+(v^(M|~k))+A[2]+718787259&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~v))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var k=v-this.blockSize,A=this.B,P=this.h,M=0;M<v;){if(P==0)for(;M<=k;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<v;)if(A[P++]=T.charCodeAt(M++),P==this.blockSize){i(this,A),P=0;break}}else for(;M<v;)if(A[P++]=T[M++],P==this.blockSize){i(this,A),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var k=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=k&255,k/=256;for(this.u(T),T=Array(16),v=k=0;4>v;++v)for(var A=0;32>A;A+=8)T[k++]=this.g[v]>>>A&255;return T};function s(T,v){var k=l;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=v(T)}function a(T,v){this.h=v;for(var k=[],A=!0,P=T.length-1;0<=P;P--){var M=T[P]|0;A&&M==v||(k[P]=M,A=!1)}this.g=k}var l={};function u(T){return-128<=T&&128>T?s(T,function(v){return new a([v|0],0>v?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return D(c(-T));for(var v=[],k=1,A=0;T>=k;A++)v[A]=T/k|0,k*=4294967296;return new a(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return D(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(v,8)),A=g,P=0;P<T.length;P+=8){var M=Math.min(8,T.length-P),R=parseInt(T.substring(P,P+M),v);8>M?(M=c(Math.pow(v,M)),A=A.j(M).add(c(R))):(A=A.j(k),A=A.add(c(R)))}return A}var g=u(0),y=u(1),C=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-D(this).m();for(var T=0,v=1,k=0;k<this.g.length;k++){var A=this.i(k);T+=(0<=A?A:4294967296+A)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(O(this))return"-"+D(this).toString(T);for(var v=c(Math.pow(T,6)),k=this,A="";;){var P=F(k,v).g;k=S(k,P.j(v));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=P,I(k))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=S(this,T),O(T)?-1:I(T)?0:1};function D(T){for(var v=T.g.length,k=[],A=0;A<v;A++)k[A]=~T.g[A];return new a(k,~T.h).add(y)}t.abs=function(){return O(this)?D(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),k=[],A=0,P=0;P<=v;P++){var M=A+(this.i(P)&65535)+(T.i(P)&65535),R=(M>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);A=R>>>16,M&=65535,R&=65535,k[P]=R<<16|M}return new a(k,k[k.length-1]&-2147483648?-1:0)};function S(T,v){return T.add(D(v))}t.j=function(T){if(I(this)||I(T))return g;if(O(this))return O(T)?D(this).j(D(T)):D(D(this).j(T));if(O(T))return D(this.j(D(T)));if(0>this.l(C)&&0>T.l(C))return c(this.m()*T.m());for(var v=this.g.length+T.g.length,k=[],A=0;A<2*v;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<T.g.length;P++){var M=this.i(A)>>>16,R=this.i(A)&65535,Te=T.i(P)>>>16,Ye=T.i(P)&65535;k[2*A+2*P]+=R*Ye,E(k,2*A+2*P),k[2*A+2*P+1]+=M*Ye,E(k,2*A+2*P+1),k[2*A+2*P+1]+=R*Te,E(k,2*A+2*P+1),k[2*A+2*P+2]+=M*Te,E(k,2*A+2*P+2)}for(A=0;A<v;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=v;A<2*v;A++)k[A]=0;return new a(k,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function _(T,v){this.g=T,this.h=v}function F(T,v){if(I(v))throw Error("division by zero");if(I(T))return new _(g,g);if(O(T))return v=F(D(T),v),new _(D(v.g),D(v.h));if(O(v))return v=F(T,D(v)),new _(D(v.g),v.h);if(30<T.g.length){if(O(T)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var k=y,A=v;0>=A.l(T);)k=z(k),A=z(A);var P=V(k,1),M=V(A,1);for(A=V(A,2),k=V(k,2);!I(A);){var R=M.add(A);0>=R.l(T)&&(P=P.add(k),M=R),A=V(A,1),k=V(k,1)}return v=S(T,P.j(v)),new _(P,v)}for(P=g;0<=T.l(v);){for(k=Math.max(1,Math.floor(T.m()/v.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=c(k),R=M.j(v);O(R)||0<R.l(T);)k-=A,M=c(k),R=M.j(v);I(M)&&(M=y),P=P.add(M),T=S(T,R)}return new _(P,T)}t.A=function(T){return F(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),k=[],A=0;A<v;A++)k[A]=this.i(A)&T.i(A);return new a(k,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),k=[],A=0;A<v;A++)k[A]=this.i(A)|T.i(A);return new a(k,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),k=[],A=0;A<v;A++)k[A]=this.i(A)^T.i(A);return new a(k,this.h^T.h)};function z(T){for(var v=T.g.length+1,k=[],A=0;A<v;A++)k[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(k,T.h)}function V(T,v){var k=v>>5;v%=32;for(var A=T.g.length-k,P=[],M=0;M<A;M++)P[M]=0<v?T.i(M+k)>>>v|T.i(M+k+1)<<32-v:T.i(M+k);return new a(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,ji=a}).apply(typeof mw<"u"?mw:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Yt<"u"?Yt:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U_,Ga,j_,_u,Uf,B_,V_,z_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,m){return o==Array.prototype||o==Object.prototype||(o[d]=m.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var d=0;d<o.length;++d){var m=o[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(o,d){if(d)e:{var m=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var U=o[b];if(!(U in m))break e;m=m[U]}o=o[o.length-1],b=m[o],d=d(b),d!=b&&d!=null&&e(m,o,{configurable:!0,writable:!0,value:d})}}function s(o,d){o instanceof String&&(o+="");var m=0,b=!1,U={next:function(){if(!b&&m<o.length){var B=m++;return{value:d(B,o[B]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(o){return o||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function c(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function h(o,d,m){return o.call.apply(o.bind,arguments)}function g(o,d,m){if(!o)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),o.apply(d,U)}}return function(){return o.apply(d,arguments)}}function y(o,d,m){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,y.apply(null,arguments)}function C(o,d){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function I(o,d){function m(){}m.prototype=d.prototype,o.aa=d.prototype,o.prototype=new m,o.prototype.constructor=o,o.Qb=function(b,U,B){for(var Q=Array(arguments.length-2),De=2;De<arguments.length;De++)Q[De-2]=arguments[De];return d.prototype[U].apply(b,Q)}}function O(o){const d=o.length;if(0<d){const m=Array(d);for(let b=0;b<d;b++)m[b]=o[b];return m}return[]}function D(o,d){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(u(b)){const U=o.length||0,B=b.length||0;o.length=U+B;for(let Q=0;Q<B;Q++)o[U+Q]=b[Q]}else o.push(b)}}class S{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function E(o){return/^[\s\xa0]*$/.test(o)}function _(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function F(o){return F[" "](o),o}F[" "]=function(){};var z=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function V(o,d,m){for(const b in o)d.call(m,o[b],b,o)}function T(o,d){for(const m in o)d.call(void 0,o[m],m,o)}function v(o){const d={};for(const m in o)d[m]=o[m];return d}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,d){let m,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(m in b)o[m]=b[m];for(let B=0;B<k.length;B++)m=k[B],Object.prototype.hasOwnProperty.call(b,m)&&(o[m]=b[m])}}function P(o){var d=1;o=o.split(":");const m=[];for(;0<d&&o.length;)m.push(o.shift()),d--;return o.length&&m.push(o.join(":")),m}function M(o){l.setTimeout(()=>{throw o},0)}function R(){var o=J;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class Te{constructor(){this.h=this.g=null}add(d,m){const b=Ye.get();b.set(d,m),this.h?this.h.next=b:this.g=b,this.h=b}}var Ye=new S(()=>new Ue,o=>o.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,H=!1,J=new Te,Z=()=>{const o=l.Promise.resolve(void 0);Ee=()=>{o.then(ce)}};var ce=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(m){M(m)}var d=Ye;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}H=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return o}();function ue(o,d){if(se.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var m=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(z){e:{try{F(d.nodeName);var U=!0;break e}catch{}U=!1}U||(d=null)}}else m=="mouseover"?d=o.fromElement:m=="mouseout"&&(d=o.toElement);this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$e[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ue.aa.h.call(this)}}I(ue,se);var $e={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Cr=0;function Nr(o,d,m,b,U){this.listener=o,this.proxy=null,this.src=d,this.type=m,this.capture=!!b,this.ha=U,this.key=++Cr,this.da=this.fa=!1}function pn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function $t(o){this.src=o,this.g={},this.h=0}$t.prototype.add=function(o,d,m,b,U){var B=o.toString();o=this.g[B],o||(o=this.g[B]=[],this.h++);var Q=An(o,d,b,U);return-1<Q?(d=o[Q],m||(d.fa=!1)):(d=new Nr(d,this.src,B,!!b,U),d.fa=m,o.push(d)),d};function Nn(o,d){var m=d.type;if(m in o.g){var b=o.g[m],U=Array.prototype.indexOf.call(b,d,void 0),B;(B=0<=U)&&Array.prototype.splice.call(b,U,1),B&&(pn(d),o.g[m].length==0&&(delete o.g[m],o.h--))}}function An(o,d,m,b){for(var U=0;U<o.length;++U){var B=o[U];if(!B.da&&B.listener==d&&B.capture==!!m&&B.ha==b)return U}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),Ie={};function nn(o,d,m,b,U){if(Array.isArray(d)){for(var B=0;B<d.length;B++)nn(o,d[B],m,b,U);return null}return m=qt(m),o&&o[Xe]?o.K(d,m,c(b)?!!b.capture:!1,U):mn(o,d,m,!1,b,U)}function mn(o,d,m,b,U,B){if(!d)throw Error("Invalid event type");var Q=c(U)?!!U.capture:!!U,De=as(o);if(De||(o[Rn]=De=new $t(o)),m=De.add(d,m,b,Q,B),m.proxy)return m;if(b=dh(),m.proxy=b,b.src=o,b.listener=m,o.addEventListener)ee||(U=Q),U===void 0&&(U=!1),o.addEventListener(d.toString(),b,U);else if(o.attachEvent)o.attachEvent(hl(d.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function dh(){function o(m){return d.call(o.src,o.listener,m)}const d=fh;return o}function cl(o,d,m,b,U){if(Array.isArray(d))for(var B=0;B<d.length;B++)cl(o,d[B],m,b,U);else b=c(b)?!!b.capture:!!b,m=qt(m),o&&o[Xe]?(o=o.i,d=String(d).toString(),d in o.g&&(B=o.g[d],m=An(B,m,b,U),-1<m&&(pn(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete o.g[d],o.h--)))):o&&(o=as(o))&&(d=o.g[d.toString()],o=-1,d&&(o=An(d,m,b,U)),(m=-1<o?d[o]:null)&&yi(m))}function yi(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[Xe])Nn(d.i,o);else{var m=o.type,b=o.proxy;d.removeEventListener?d.removeEventListener(m,b,o.capture):d.detachEvent?d.detachEvent(hl(m),b):d.addListener&&d.removeListener&&d.removeListener(b),(m=as(d))?(Nn(m,o),m.h==0&&(m.src=null,d[Rn]=null)):pn(o)}}}function hl(o){return o in Ie?Ie[o]:Ie[o]="on"+o}function fh(o,d){if(o.da)o=!0;else{d=new ue(d,this);var m=o.listener,b=o.ha||o.src;o.fa&&yi(o),o=m.call(b,d)}return o}function as(o){return o=o[Rn],o instanceof $t?o:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(o){return typeof o=="function"?o:(o[Ar]||(o[Ar]=function(d){return o.handleEvent(d)}),o[Ar])}function Je(){ie.call(this),this.i=new $t(this),this.M=this,this.F=null}I(Je,ie),Je.prototype[Xe]=!0,Je.prototype.removeEventListener=function(o,d,m,b){cl(this,o,d,m,b)};function ct(o,d){var m,b=o.F;if(b)for(m=[];b;b=b.F)m.push(b);if(o=o.M,b=d.type||d,typeof d=="string")d=new se(d,o);else if(d instanceof se)d.target=d.target||o;else{var U=d;d=new se(b,o),A(d,U)}if(U=!0,m)for(var B=m.length-1;0<=B;B--){var Q=d.g=m[B];U=Ht(Q,b,!0,d)&&U}if(Q=d.g=o,U=Ht(Q,b,!0,d)&&U,U=Ht(Q,b,!1,d)&&U,m)for(B=0;B<m.length;B++)Q=d.g=m[B],U=Ht(Q,b,!1,d)&&U}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var m=o.g[d],b=0;b<m.length;b++)pn(m[b]);delete o.g[d],o.h--}}this.F=null},Je.prototype.K=function(o,d,m,b){return this.i.add(String(o),d,!1,m,b)},Je.prototype.L=function(o,d,m,b){return this.i.add(String(o),d,!0,m,b)};function Ht(o,d,m,b){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,B=0;B<d.length;++B){var Q=d[B];if(Q&&!Q.da&&Q.capture==m){var De=Q.listener,ht=Q.ha||Q.src;Q.fa&&Nn(o.i,Q),U=De.call(ht,b)!==!1&&U}}return U&&!b.defaultPrevented}function dl(o,d,m){if(typeof o=="function")m&&(o=y(o,m));else if(o&&typeof o.handleEvent=="function")o=y(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(o,d||0)}function w(o){o.g=dl(()=>{o.g=null,o.i&&(o.i=!1,w(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class f extends ie{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:w(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function p(o){ie.call(this),this.h=o,this.g={}}I(p,ie);var x=[];function L(o){V(o.g,function(d,m){this.g.hasOwnProperty(m)&&yi(d)},o),o.g={}}p.prototype.N=function(){p.aa.N.call(this),L(this)},p.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var j=l.JSON.stringify,$=l.JSON.parse,he=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ae(){}Ae.prototype.h=null;function Se(o){return o.h||(o.h=o.i())}function Oe(){}var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ph(){se.call(this,"d")}I(ph,se);function mh(){se.call(this,"c")}I(mh,se);var vi={},og=null;function fl(){return og=og||new Je}vi.La="serverreachability";function lg(o){se.call(this,vi.La,o)}I(lg,se);function wa(o){const d=fl();ct(d,new lg(d))}vi.STAT_EVENT="statevent";function ug(o,d){se.call(this,vi.STAT_EVENT,o),this.stat=d}I(ug,se);function Ct(o){const d=fl();ct(d,new ug(d,o))}vi.Ma="timingevent";function cg(o,d){se.call(this,vi.Ma,o),this.size=d}I(cg,se);function ba(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},d)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function sx(o,d,m,b,U,B){o.info(function(){if(o.g)if(B)for(var Q="",De=B.split("&"),ht=0;ht<De.length;ht++){var _e=De[ht].split("=");if(1<_e.length){var wt=_e[0];_e=_e[1];var Dt=wt.split("_");Q=2<=Dt.length&&Dt[1]=="type"?Q+(wt+"="+_e+"&"):Q+(wt+"=redacted&")}}else Q=null;else Q=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+d+`
`+m+`
`+Q})}function ax(o,d,m,b,U,B,Q){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+d+`
`+m+`
`+B+" "+Q})}function os(o,d,m,b){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+lx(o,m)+(b?" "+b:"")})}function ox(o,d){o.info(function(){return"TIMEOUT: "+d})}Ea.prototype.info=function(){};function lx(o,d){if(!o.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(o=0;o<m.length;o++)if(Array.isArray(m[o])){var b=m[o];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Q=1;Q<U.length;Q++)U[Q]=""}}}}return j(m)}catch{return d}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gh;function ml(){}I(ml,Ae),ml.prototype.g=function(){return new XMLHttpRequest},ml.prototype.i=function(){return{}},gh=new ml;function Rr(o,d,m,b){this.j=o,this.i=d,this.l=m,this.R=b||1,this.U=new p(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dg}function dg(){this.i=null,this.g="",this.h=!1}var fg={},yh={};function vh(o,d,m){o.L=1,o.v=wl(Wn(d)),o.m=m,o.P=!0,pg(o,null)}function pg(o,d){o.F=Date.now(),gl(o),o.A=Wn(o.v);var m=o.A,b=o.R;Array.isArray(b)||(b=[String(b)]),Cg(m.i,"t",b),o.C=0,m=o.j.J,o.h=new dg,o.g=Kg(o.j,m?d:null,!o.m),0<o.O&&(o.M=new f(y(o.Y,o,o.g),o.O)),d=o.U,m=o.g,b=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(x[0]=U.toString()),U=x);for(var B=0;B<U.length;B++){var Q=nn(m,U[B],b||d.handleEvent,!1,d.h||d);if(!Q)break;d.g[Q.key]=Q}d=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),wa(),sx(o.i,o.u,o.A,o.l,o.R,o.m)}Rr.prototype.ca=function(o){o=o.target;const d=this.M;d&&Gn(o)==3?d.j():this.Y(o)},Rr.prototype.Y=function(o){try{if(o==this.g)e:{const Dt=Gn(this.g);var d=this.g.Ba();const cs=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Lg(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=cs?wa(3):wa(2)),wh(this);var m=this.g.Z();this.X=m;t:if(mg(this)){var b=Lg(this.g);o="";var U=b.length,B=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),_a(this);var Q="";break t}this.h.i=new l.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,o+=this.h.i.decode(b[d],{stream:!(B&&d==U-1)});b.length=0,this.h.g+=o,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=m==200,ax(this.i,this.u,this.A,this.l,this.R,Dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ht=this.g;if((De=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(De)){var _e=De;break t}}_e=null}if(m=_e)os(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bh(this,m);else{this.o=!1,this.s=3,Ct(12),wi(this),_a(this);break e}}if(this.P){m=!0;let gn;for(;!this.J&&this.C<Q.length;)if(gn=ux(this,Q),gn==yh){Dt==4&&(this.s=4,Ct(14),m=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==fg){this.s=4,Ct(15),os(this.i,this.l,Q,"[Invalid Chunk]"),m=!1;break}else os(this.i,this.l,gn,null),bh(this,gn);if(mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Q.length!=0||this.h.h||(this.s=1,Ct(16),m=!1),this.o=this.o&&m,!m)os(this.i,this.l,Q,"[Invalid Chunked Response]"),wi(this),_a(this);else if(0<Q.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ih(wt),wt.M=!0,Ct(11))}}else os(this.i,this.l,Q,null),bh(this,Q);Dt==4&&wi(this),this.o&&!this.J&&(Dt==4?zg(this.j,this):(this.o=!1,gl(this)))}else Ix(this.g),m==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),wi(this),_a(this)}}}catch{}finally{}};function mg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ux(o,d){var m=o.C,b=d.indexOf(`
`,m);return b==-1?yh:(m=Number(d.substring(m,b)),isNaN(m)?fg:(b+=1,b+m>d.length?yh:(d=d.slice(b,b+m),o.C=b+m,d)))}Rr.prototype.cancel=function(){this.J=!0,wi(this)};function gl(o){o.S=Date.now()+o.I,gg(o,o.I)}function gg(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ba(y(o.ba,o),d)}function wh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Rr.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ox(this.i,this.A),this.L!=2&&(wa(),Ct(17)),wi(this),this.s=2,_a(this)):gg(this,this.S-o)};function _a(o){o.j.G==0||o.J||zg(o.j,o)}function wi(o){wh(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,L(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function bh(o,d){try{var m=o.j;if(m.G!=0&&(m.g==o||Eh(m.h,o))){if(!o.K&&Eh(m.h,o)&&m.G==3){try{var b=m.Da.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<o.F)Tl(m),kl(m);else break e;Th(m),Ct(18)}}else m.za=U[1],0<m.za-m.T&&37500>U[2]&&m.F&&m.v==0&&!m.C&&(m.C=ba(y(m.Za,m),6e3));if(1>=wg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ei(m,11)}else if((o.K||m.g==o)&&Tl(m),!E(d))for(U=m.Da.g.parse(d),d=0;d<U.length;d++){let _e=U[d];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];const wt=_e[3];wt!=null&&(m.la=wt,m.j.info("VER="+m.la));const Dt=_e[4];Dt!=null&&(m.Aa=Dt,m.j.info("SVER="+m.Aa));const cs=_e[5];cs!=null&&typeof cs=="number"&&0<cs&&(b=1.5*cs,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const gn=o.g;if(gn){const Sl=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var B=b.h;B.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_h(B,B.h),B.h=null))}if(b.D){const Sh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(b.ya=Sh,Pe(b.I,b.D,Sh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-o.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var Q=o;if(b.qa=Hg(b,b.J?b.ia:null,b.W),Q.K){bg(b.h,Q);var De=Q,ht=b.L;ht&&(De.I=ht),De.B&&(wh(De),gl(De)),b.g=Q}else Bg(b);0<m.i.length&&xl(m)}else _e[0]!="stop"&&_e[0]!="close"||Ei(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ei(m,7):xh(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}wa(4)}catch{}}var cx=class{constructor(o,d){this.g=o,this.map=d}};function yg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wg(o){return o.h?1:o.g?o.g.size:0}function Eh(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function _h(o,d){o.g?o.g.add(d):o.h=d}function bg(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}yg.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Eg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const m of o.g.values())d=d.concat(m.D);return d}return O(o.i)}function hx(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var d=[],m=o.length,b=0;b<m;b++)d.push(o[b]);return d}d=[],m=0;for(b in o)d[m++]=o[b];return d}function dx(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var d=[];o=o.length;for(var m=0;m<o;m++)d.push(m);return d}d=[],m=0;for(const b in o)d[m++]=b;return d}}}function _g(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var m=dx(o),b=hx(o),U=b.length,B=0;B<U;B++)d.call(void 0,b[B],m&&m[B],o)}var kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fx(o,d){if(o){o=o.split("&");for(var m=0;m<o.length;m++){var b=o[m].indexOf("="),U=null;if(0<=b){var B=o[m].substring(0,b);U=o[m].substring(b+1)}else B=o[m];d(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function bi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof bi){this.h=o.h,yl(this,o.j),this.o=o.o,this.g=o.g,vl(this,o.s),this.l=o.l;var d=o.i,m=new Ta;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),xg(this,m),this.m=o.m}else o&&(d=String(o).match(kg))?(this.h=!1,yl(this,d[1]||"",!0),this.o=ka(d[2]||""),this.g=ka(d[3]||"",!0),vl(this,d[4]),this.l=ka(d[5]||"",!0),xg(this,d[6]||"",!0),this.m=ka(d[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}bi.prototype.toString=function(){var o=[],d=this.j;d&&o.push(xa(d,Tg,!0),":");var m=this.g;return(m||d=="file")&&(o.push("//"),(d=this.o)&&o.push(xa(d,Tg,!0),"@"),o.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&o.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(xa(m,m.charAt(0)=="/"?gx:mx,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",xa(m,vx)),o.join("")};function Wn(o){return new bi(o)}function yl(o,d,m){o.j=m?ka(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function vl(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function xg(o,d,m){d instanceof Ta?(o.i=d,wx(o.i,o.h)):(m||(d=xa(d,yx)),o.i=new Ta(d,o.h))}function Pe(o,d,m){o.i.set(d,m)}function wl(o){return Pe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ka(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xa(o,d,m){return typeof o=="string"?(o=encodeURI(o).replace(d,px),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function px(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Tg=/[#\/\?@]/g,mx=/[#\?:]/g,gx=/[#\?]/g,yx=/[#\?@]/g,vx=/#/g;function Ta(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function Or(o){o.g||(o.g=new Map,o.h=0,o.i&&fx(o.i,function(d,m){o.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Ta.prototype,t.add=function(o,d){Or(this),this.i=null,o=ls(this,o);var m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(d),this.h+=1,this};function Ig(o,d){Or(o),d=ls(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function Sg(o,d){return Or(o),d=ls(o,d),o.g.has(d)}t.forEach=function(o,d){Or(this),this.g.forEach(function(m,b){m.forEach(function(U){o.call(d,U,b,this)},this)},this)},t.na=function(){Or(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let b=0;b<d.length;b++){const U=o[b];for(let B=0;B<U.length;B++)m.push(d[b])}return m},t.V=function(o){Or(this);let d=[];if(typeof o=="string")Sg(this,o)&&(d=d.concat(this.g.get(ls(this,o))));else{o=Array.from(this.g.values());for(let m=0;m<o.length;m++)d=d.concat(o[m])}return d},t.set=function(o,d){return Or(this),this.i=null,o=ls(this,o),Sg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function Cg(o,d,m){Ig(o,d),0<m.length&&(o.i=null,o.g.set(ls(o,d),O(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var b=d[m];const B=encodeURIComponent(String(b)),Q=this.V(b);for(b=0;b<Q.length;b++){var U=B;Q[b]!==""&&(U+="="+encodeURIComponent(String(Q[b]))),o.push(U)}}return this.i=o.join("&")};function ls(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function wx(o,d){d&&!o.j&&(Or(o),o.i=null,o.g.forEach(function(m,b){var U=b.toLowerCase();b!=U&&(Ig(this,b),Cg(this,U,m))},o)),o.j=d}function bx(o,d){const m=new Ea;if(l.Image){const b=new Image;b.onload=C(Pr,m,"TestLoadImage: loaded",!0,d,b),b.onerror=C(Pr,m,"TestLoadImage: error",!1,d,b),b.onabort=C(Pr,m,"TestLoadImage: abort",!1,d,b),b.ontimeout=C(Pr,m,"TestLoadImage: timeout",!1,d,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else d(!1)}function Ex(o,d){const m=new Ea,b=new AbortController,U=setTimeout(()=>{b.abort(),Pr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Pr(m,"TestPingServer: ok",!0,d):Pr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),Pr(m,"TestPingServer: error",!1,d)})}function Pr(o,d,m,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(m)}catch{}}function _x(){this.g=new he}function kx(o,d,m){const b=m||"";try{_g(o,function(U,B){let Q=U;c(U)&&(Q=j(U)),d.push(b+B+"="+encodeURIComponent(Q))})}catch(U){throw d.push(b+"type="+encodeURIComponent("_badmap")),U}}function bl(o){this.l=o.Ub||null,this.j=o.eb||!1}I(bl,Ae),bl.prototype.g=function(){return new El(this.l,this.j)},bl.prototype.i=function(o){return function(){return o}}({});function El(o,d){Je.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(El,Je),t=El.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,Sa(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ng(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ng(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Ia(this):Sa(this),this.readyState==3&&Ng(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Ia(this))},t.Qa=function(o){this.g&&(this.response=o,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Sa(o)}t.setRequestHeader=function(o,d){this.u.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=d.next();return o.join(`\r
`)};function Sa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ag(o){let d="";return V(o,function(m,b){d+=b,d+=":",d+=m,d+=`\r
`}),d}function kh(o,d,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=Ag(m),typeof o=="string"?m!=null&&encodeURIComponent(String(m)):Pe(o,d,m))}function qe(o){Je.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(qe,Je);var xx=/^https?$/i,Tx=["POST","PUT"];t=qe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,d,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gh.g(),this.v=this.o?Se(this.o):Se(gh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(B){Rg(this,B);return}if(o=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)m.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())m.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),U=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Tx,d,void 0))||b||U||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Q]of m)this.g.setRequestHeader(B,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dg(this),this.u=!0,this.g.send(o),this.u=!1}catch(B){Rg(this,B)}};function Rg(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,Og(o),_l(o)}function Og(o){o.A||(o.A=!0,ct(o,"complete"),ct(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ct(this,"complete"),ct(this,"abort"),_l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pg(this):this.bb())},t.bb=function(){Pg(this)};function Pg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Gn(o)!=4||o.Z()!=2)){if(o.u&&Gn(o)==4)dl(o.Ea,0,o);else if(ct(o,"readystatechange"),Gn(o)==4){o.h=!1;try{const Q=o.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var b;if(b=Q===0){var U=String(o.D).match(kg)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),b=!xx.test(U?U.toLowerCase():"")}m=b}if(m)ct(o,"complete"),ct(o,"success");else{o.m=6;try{var B=2<Gn(o)?o.g.statusText:""}catch{B=""}o.l=B+" ["+o.Z()+"]",Og(o)}}finally{_l(o)}}}}function _l(o,d){if(o.g){Dg(o);const m=o.g,b=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||ct(o,"ready");try{m.onreadystatechange=b}catch{}}}function Dg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Gn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),$(d)}};function Lg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ix(o){const d={};o=(o.g&&2<=Gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(E(o[b]))continue;var m=P(o[b]);const U=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=d[U]||[];d[U]=B,B.push(m)}T(d,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(o,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||d}function Fg(o){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,o),this.cb=Ca("retryDelaySeedMs",1e4,o),this.Wa=Ca("forwardChannelMaxRetries",2,o),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new yg(o&&o.concurrentRequestLimit),this.Da=new _x,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fg.prototype,t.la=8,t.G=1,t.connect=function(o,d,m,b){Ct(0),this.W=o,this.H=d||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=Hg(this,null,this.W),xl(this)};function xh(o){if(Mg(o),o.G==3){var d=o.U++,m=Wn(o.I);if(Pe(m,"SID",o.K),Pe(m,"RID",d),Pe(m,"TYPE","terminate"),Na(o,m),d=new Rr(o,o.j,d),d.L=2,d.v=wl(Wn(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=Kg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gl(d)}qg(o)}function kl(o){o.g&&(Ih(o),o.g.cancel(),o.g=null)}function Mg(o){kl(o),o.u&&(l.clearTimeout(o.u),o.u=null),Tl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function xl(o){if(!vg(o.h)&&!o.s){o.s=!0;var d=o.Ga;Ee||Z(),H||(Ee(),H=!0),J.add(d,o),o.B=0}}function Sx(o,d){return wg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ba(y(o.Ga,o,d),$g(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new Rr(this,this.j,o);let B=this.o;if(this.S&&(B?(B=v(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=jg(this,U,d),m=Wn(this.I),Pe(m,"RID",o),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),Na(this,m),B&&(this.O?d="headers="+encodeURIComponent(String(Ag(B)))+"&"+d:this.m&&kh(m,this.m,B)),_h(this.h,U),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",d),Pe(m,"SID","null"),U.T=!0,vh(U,m,null)):vh(U,m,d),this.G=2}}else this.G==3&&(o?Ug(this,o):this.i.length==0||vg(this.h)||Ug(this))};function Ug(o,d){var m;d?m=d.l:m=o.U++;const b=Wn(o.I);Pe(b,"SID",o.K),Pe(b,"RID",m),Pe(b,"AID",o.T),Na(o,b),o.m&&o.o&&kh(b,o.m,o.o),m=new Rr(o,o.j,m,o.B+1),o.m===null&&(m.H=o.o),d&&(o.i=d.D.concat(o.i)),d=jg(o,m,1e3),m.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_h(o.h,m),vh(m,b,d)}function Na(o,d){o.H&&V(o.H,function(m,b){Pe(d,b,m)}),o.l&&_g({},function(m,b){Pe(d,b,m)})}function jg(o,d,m){m=Math.min(o.i.length,m);var b=o.l?y(o.l.Na,o.l,o):null;e:{var U=o.i;let B=-1;for(;;){const Q=["count="+m];B==-1?0<m?(B=U[0].g,Q.push("ofs="+B)):B=0:Q.push("ofs="+B);let De=!0;for(let ht=0;ht<m;ht++){let _e=U[ht].g;const wt=U[ht].map;if(_e-=B,0>_e)B=Math.max(0,U[ht].g-100),De=!1;else try{kx(wt,Q,"req"+_e+"_")}catch{b&&b(wt)}}if(De){b=Q.join("&");break e}}}return o=o.i.splice(0,m),d.D=o,b}function Bg(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;Ee||Z(),H||(Ee(),H=!0),J.add(d,o),o.v=0}}function Th(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ba(y(o.Fa,o),$g(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Vg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ba(y(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),kl(this),Vg(this))};function Ih(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Vg(o){o.g=new Rr(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=Wn(o.qa);Pe(d,"RID","rpc"),Pe(d,"SID",o.K),Pe(d,"AID",o.T),Pe(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Pe(d,"TO",o.ja),Pe(d,"TYPE","xmlhttp"),Na(o,d),o.m&&o.o&&kh(d,o.m,o.o),o.L&&(o.g.I=o.L);var m=o.g;o=o.ia,m.L=1,m.v=wl(Wn(d)),m.m=null,m.P=!0,pg(m,o)}t.Za=function(){this.C!=null&&(this.C=null,kl(this),Th(this),Ct(19))};function Tl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function zg(o,d){var m=null;if(o.g==d){Tl(o),Ih(o),o.g=null;var b=2}else if(Eh(o.h,d))m=d.D,bg(o.h,d),b=1;else return;if(o.G!=0){if(d.o)if(b==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var U=o.B;b=fl(),ct(b,new cg(b,m)),xl(o)}else Bg(o);else if(U=d.s,U==3||U==0&&0<d.X||!(b==1&&Sx(o,d)||b==2&&Th(o)))switch(m&&0<m.length&&(d=o.h,d.i=d.i.concat(m)),U){case 1:Ei(o,5);break;case 4:Ei(o,10);break;case 3:Ei(o,6);break;default:Ei(o,2)}}}function $g(o,d){let m=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(m*=2),m*d}function Ei(o,d){if(o.j.info("Error code "+d),d==2){var m=y(o.fb,o),b=o.Xa;const U=!b;b=new bi(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yl(b,"https"),wl(b),U?bx(b.toString(),m):Ex(b.toString(),m)}else Ct(2);o.G=0,o.l&&o.l.sa(d),qg(o),Mg(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function qg(o){if(o.G=0,o.ka=[],o.l){const d=Eg(o.h);(d.length!=0||o.i.length!=0)&&(D(o.ka,d),D(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function Hg(o,d,m){var b=m instanceof bi?Wn(m):new bi(m);if(b.g!="")d&&(b.g=d+"."+b.g),vl(b,b.s);else{var U=l.location;b=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var B=new bi(null);b&&yl(B,b),d&&(B.g=d),U&&vl(B,U),m&&(B.l=m),b=B}return m=o.D,d=o.ya,m&&d&&Pe(b,m,d),Pe(b,"VER",o.la),Na(o,b),b}function Kg(o,d,m){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new qe(new bl({eb:m})):new qe(o.pa),d.Ha(o.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wg(){}t=Wg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(o,d){return new Kt(o,d)};function Kt(o,d){Je.call(this),this.g=new Fg(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!E(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new us(this)}I(Kt,Je),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){xh(this.g)},Kt.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.u&&(m={},m.__data__=j(o),o=m);d.i.push(new cx(d.Ya++,o)),d.G==3&&xl(d)},Kt.prototype.N=function(){this.g.l=null,delete this.j,xh(this.g),delete this.g,Kt.aa.N.call(this)};function Gg(o){ph.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const m in d){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}I(Gg,ph);function Qg(){mh.call(this),this.status=1}I(Qg,mh);function us(o){this.g=o}I(us,Wg),us.prototype.ua=function(){ct(this.g,"a")},us.prototype.ta=function(o){ct(this.g,new Gg(o))},us.prototype.sa=function(o){ct(this.g,new Qg)},us.prototype.ra=function(){ct(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,z_=function(){return new Il},V_=function(){return fl()},B_=vi,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,_u=pl,hg.COMPLETE="complete",j_=hg,Oe.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Ga=Oe,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,U_=qe}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ma="10.14.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gi=new pm("@firebase/firestore");function ja(){return Gi.logLevel}function X(t,...e){if(Gi.logLevel<=me.DEBUG){const n=e.map(Cm);Gi.debug(`Firestore (${ma}): ${t}`,...n)}}function br(t,...e){if(Gi.logLevel<=me.ERROR){const n=e.map(Cm);Gi.error(`Firestore (${ma}): ${t}`,...n)}}function na(t,...e){if(Gi.logLevel<=me.WARN){const n=e.map(Cm);Gi.warn(`Firestore (${ma}): ${t}`,...n)}}function Cm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oe(t="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function xe(t,e){t||oe()}function le(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yD{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new $_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new kt(e)}}class vD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new bD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_D(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new at(0,0))}static max(){return new ae(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mo{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Mo{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Mo{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ke.fromString(e))}static fromName(e){return new ne(Ke.fromString(e).popFirst(5))}static empty(){return new ne(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ke(e.slice()))}}function xD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new hi(i,ne.empty(),e)}function TD(t){return new hi(t.readTime,t.key,-1)}class hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hi(ae.min(),ne.empty(),-1)}static max(){return new hi(ae.max(),ne.empty(),-1)}}function ID(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function il(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==SD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{a[c]=h,++l,l===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ND(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nm.oe=-1;function nh(t){return t==null}function fc(t){return t===0&&1/t==-1/0}function AD(t){return typeof t=="number"&&Number.isInteger(t)&&!fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ze{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vw(this.data.getIterator())}getIteratorFrom(e){return new vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new gt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new K_("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(xe(!!t),typeof t=="string"){let e=0;const n=RD.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Am(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rm(t){const e=t.mapValue.fields.__previous_value__;return Am(e)?Rm(e):e}function Uo(t){const e=di(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OD{constructor(e,n,r,i,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class jo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Am(t)?4:DD(t)?9007199254740991:PD(t)?10:11:oe()}function qn(t,e){if(t===e)return!0;const n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uo(t).isEqual(Uo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=di(r.timestampValue),a=di(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qi(r.bytesValue).isEqual(Qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return We(r.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(r.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return We(r.integerValue)===We(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=We(r.doubleValue),a=We(i.doubleValue);return s===a?fc(s)===fc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(yw(s)!==yw(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!qn(s[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Bo(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Yi(t),r=Yi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=We(i.integerValue||i.doubleValue),l=We(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ww(t.timestampValue,e.timestampValue);case 4:return ww(Uo(t),Uo(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Qi(i),l=Qi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=be(a[u],l[u]);if(c!==0)return c}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=be(We(i.latitude),We(s.latitude));return a!==0?a:be(We(i.longitude),We(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a,l,u,c;const h=i.fields||{},g=s.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,C=(l=g.value)===null||l===void 0?void 0:l.arrayValue,I=be(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=C==null?void 0:C.values)===null||c===void 0?void 0:c.length)||0);return I!==0?I:bw(y,C)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Zl.mapValue&&s===Zl.mapValue)return 0;if(i===Zl.mapValue)return 1;if(s===Zl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const g=be(l[h],c[h]);if(g!==0)return g;const y=ia(a[l[h]],u[c[h]]);if(y!==0)return y}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=di(t),r=di(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function bw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ia(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function sa(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const n=di(e);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Qi(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return ne.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let n="[",r=!0;for(const i of e.values||[])r?r=!1:n+=",",n+=jf(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const s of n)i?i=!1:r+=",",r+=`${s}:${jf(e.fields[s])}`;return r+"}"}(t.mapValue):oe()}function Bf(t){return!!t&&"integerValue"in t}function Om(t){return!!t&&"arrayValue"in t}function Ew(t){return!!t&&"nullValue"in t}function _w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ku(t){return!!t&&"mapValue"in t}function PD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function lo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=lo(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ku(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(lo(this.value))}}function W_(t){const e=[];return ga(t.fields,(n,r)=>{const i=new pt([n]);if(ku(r)){const s=W_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new xn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,ae.min(),ae.min(),ae.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,ae.min(),ae.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ae.min(),ae.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pc{constructor(e,n){this.position=e,this.inclusive=n}}function kw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=ia(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function LD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G_{}class it extends G_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MD(e,n,r):n==="array-contains"?new BD(e,r):n==="in"?new VD(e,r):n==="not-in"?new zD(e,r):n==="array-contains-any"?new $D(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UD(e,r):new jD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ia(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends G_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return Q_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Q_(t){return t.op==="and"}function Y_(t){return FD(t)&&Q_(t)}function FD(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Vf(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(Y_(t))return t.filters.map(e=>Vf(e)).join(",");{const e=t.filters.map(n=>Vf(n)).join(",");return`${t.op}(${e})`}}function X_(t,e){return t instanceof it?function(n,r){return r instanceof it&&n.op===r.op&&n.field.isEqual(r.field)&&qn(n.value,r.value)}(t,e):t instanceof Hn?function(n,r){return r instanceof Hn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,a)=>i&&X_(s,r.filters[a]),!0):!1}(t,e):void oe()}function J_(t){return t instanceof it?function(e){return`${e.field.canonicalString()} ${e.op} ${sa(e.value)}`}(t):t instanceof Hn?function(e){return e.op.toString()+" {"+e.getFilters().map(J_).join(" ,")+"}"}(t):"Filter"}class MD extends it{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class UD extends it{constructor(e,n){super(e,"in",n),this.keys=Z_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jD extends it{constructor(e,n){super(e,"not-in",n),this.keys=Z_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class BD extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Om(n)&&Bo(n.arrayValue,this.value)}}class VD extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bo(this.value.arrayValue,n)}}class zD extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bo(this.value.arrayValue,n)}}class $D extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bo(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qD{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function Tw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new qD(t,e,n,r,i,s,a)}function Pm(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.ue=n}return e.ue}function Dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xw(t.startAt,e.startAt)&&xw(t.endAt,e.endAt)}function zf(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HD(t,e,n,r,i,s,a,l){return new rh(t,e,n,r,i,s,a,l)}function Lm(t){return new rh(t)}function Iw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KD(t){return t.collectionGroup!==null}function uo(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let s=new gt(pt.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new mc(i,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new mc(pt.keyField(),r))}return e.ce}function zn(t){const e=le(t);return e.le||(e.le=WD(e,uo(t))),e.le}function WD(t,e){if(t.limitType==="F")return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new mc(i.field,s)});const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $f(t,e,n){return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ih(t,e){return Dm(zn(t),zn(e))&&t.limitType===e.limitType}function ek(t){return`${Pm(zn(t))}|lt:${t.limitType}`}function ys(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>J_(r)).join(", ")}]`),nh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),`Target(${n})`}(zn(t))}; limitType=${t.limitType})`}function sh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of uo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,a){const l=kw(i,s,a);return i.inclusive?l<=0:l<0}(n.startAt,uo(n),r)||n.endAt&&!function(i,s,a){const l=kw(i,s,a);return i.inclusive?l>=0:l>0}(n.endAt,uo(n),r))}(t,e)}function GD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tk(t){return(e,n)=>{let r=!1;for(const i of uo(t)){const s=QD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QD(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,s,a){const l=s.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ia(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YD=new ze(ne.comparator);function Er(){return YD}const nk=new ze(ne.comparator);function Qa(...t){let e=nk;for(const n of t)e=e.insert(n.key,n);return e}function rk(t){let e=nk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return co()}function ik(){return co()}function co(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const XD=new ze(ne.comparator),JD=new gt(ne.comparator);function pe(...t){let e=JD;for(const n of t)e=e.add(n);return e}const ZD=new gt(be);function eL(){return ZD}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function sk(t){return{integerValue:""+t}}function tL(t,e){return AD(e)?sk(e):Fm(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ah{constructor(){this._=void 0}}function nL(t,e,n){return t instanceof gc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Am(i)&&(i=Rm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Vo?ok(t,e):t instanceof zo?lk(t,e):function(r,i){const s=ak(r,i),a=Sw(s)+Sw(r.Pe);return Bf(s)&&Bf(r.Pe)?sk(a):Fm(r.serializer,a)}(t,e)}function rL(t,e,n){return t instanceof Vo?ok(t,e):t instanceof zo?lk(t,e):n}function ak(t,e){return t instanceof yc?function(n){return Bf(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class gc extends ah{}class Vo extends ah{constructor(e){super(),this.elements=e}}function ok(t,e){const n=uk(e);for(const r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends ah{constructor(e){super(),this.elements=e}}function lk(t,e){let n=uk(e);for(const r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}class yc extends ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Sw(t){return We(t.integerValue||t.doubleValue)}function uk(t){return Om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Vo&&r instanceof Vo||n instanceof zo&&r instanceof zo?ra(n.elements,r.elements,qn):n instanceof yc&&r instanceof yc?qn(n.Pe,r.Pe):n instanceof gc&&r instanceof gc}(t.transform,e.transform)}class sL{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oh{}function ck(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dk(t.key,dr.none()):new al(t.key,t.data,dr.none());{const n=t.data,r=on.empty();let i=new gt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new is(t.key,r,new xn(i.toArray()),dr.none())}}function aL(t,e,n){t instanceof al?function(r,i,s){const a=r.value.clone(),l=Nw(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!xu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=Nw(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(hk(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ho(t,e,n,r){return t instanceof al?function(i,s,a,l){if(!xu(i.precondition,s))return a;const u=i.value.clone(),c=Aw(i.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(i,s,a,l){if(!xu(i.precondition,s))return a;const u=Aw(i.fieldTransforms,l,s),c=s.data;return c.setAll(hk(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,a){return xu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function oL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ak(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ra(n,r,(i,s)=>iL(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nw(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,rL(a,l,n[i]))}return r}function Aw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,nL(s,a,e))}return r}class dk extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lL extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ho(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ho(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ik();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=ck(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class Mm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return XD}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Mm(e,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ze,ge;function dL(t){switch(t){default:return oe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function fk(t){if(t===void 0)return br("GRPC error has no .code"),W.UNKNOWN;switch(t){case Ze.OK:return W.OK;case Ze.CANCELLED:return W.CANCELLED;case Ze.UNKNOWN:return W.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return W.INTERNAL;case Ze.UNAVAILABLE:return W.UNAVAILABLE;case Ze.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ze.NOT_FOUND:return W.NOT_FOUND;case Ze.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ze.ABORTED:return W.ABORTED;case Ze.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ze.DATA_LOSS:return W.DATA_LOSS;default:return oe()}}(ge=Ze||(Ze={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fL(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pL=new ji([4294967295,4294967295],0);function Rw(t){const e=fL().encode(t),n=new M_;return n.update(e),new Uint8Array(n.digest())}function Ow(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,s],0)]}class Um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(r<0)throw new Ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(pL)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Rw(e),[r,i]=Ow(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Um(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Rw(e),[r,i]=Ow(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lh(ae.min(),i,new ze(be),Er(),pe())}}class ol{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ol(r,n,pe(),pe(),pe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pk{constructor(e,n){this.targetId=e,this.me=n}}class mk{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pw{constructor(){this.fe=0,this.ge=Lw(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new ol(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Lw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=Dw(),this.Qe=new ze(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zf(s))if(r===0){const a=new ne(s.path);this.Ue(n,a,Tt.newNoDocument(a,ae.min()))}else xe(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Qi(r).toUint8Array()}catch(u){if(u instanceof K_)return na("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Um(a,i,s)}catch(u){return na(u instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&zf(l.target)){const u=new ne(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Tt.newNoDocument(u,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new lh(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=Dw(),this.Qe=new ze(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Pw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Dw(){return new ze(ne.comparator)}function Lw(){return new ze(ne.comparator)}const gL={asc:"ASCENDING",desc:"DESCENDING"},yL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vL={and:"AND",or:"OR"};class wL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qf(t,e){return t.useProto3Json||nh(e)?e:{value:e}}function vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bL(t,e){return vc(t,e.toTimestamp())}function $n(t){return xe(!!t),ae.fromTimestamp(function(e){const n=di(e);return new at(n.seconds,n.nanos)}(t))}function jm(t,e){return Hf(t,e).canonicalString()}function Hf(t,e){const n=function(r){return new Ke(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yk(t){const e=Ke.fromString(t);return xe(_k(e)),e}function Kf(t,e){return jm(t.databaseId,e.path)}function yd(t,e){const n=yk(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(wk(n))}function vk(t,e){return jm(t.databaseId,e)}function EL(t){const e=yk(t);return e.length===4?Ke.emptyPath():wk(e)}function Wf(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wk(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fw(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function _L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(xe(c===void 0||typeof c=="string"),vt.fromBase64String(c||"")):(xe(c===void 0||c instanceof Vx||c instanceof Uint8Array),vt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const c=u.code===void 0?W.UNKNOWN:fk(u.code);return new te(c,u.message||"")}(a);n=new mk(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yd(t,r.document.name),s=$n(r.document.updateTime),a=r.document.createTime?$n(r.document.createTime):ae.min(),l=new on({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,a,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Tu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yd(t,r.document),s=r.readTime?$n(r.readTime):ae.min(),a=Tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Tu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yd(t,r.document),s=r.removedTargetIds||[];n=new Tu([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new hL(i,s),l=r.targetId;n=new pk(l,a)}}return n}function kL(t,e){let n;if(e instanceof al)n={update:Fw(t,e.key,e.value)};else if(e instanceof dk)n={delete:Kf(t,e.key)};else if(e instanceof is)n={update:Fw(t,e.key,e.data),updateMask:OL(e.fieldMask)};else{if(!(e instanceof lL))return oe();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof gc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:bL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function xL(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?$n(r.updateTime):$n(i);return s.isEqual(ae.min())&&(s=$n(i)),new sL(s,r.transformResults||[])}(n,e))):[]}function TL(t,e){return{documents:[vk(t,e.path)]}}function IL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vk(t,i);const s=function(u){if(u.length!==0)return Ek(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:vs(h.field),direction:NL(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=qf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function SL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const g=bk(h);return g instanceof Hn&&Y_(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(g=>function(y){return new mc(ws(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(h){let g;return g=typeof h=="object"?h.value:h,nh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(h){const g=!!h.before,y=h.values||[];return new pc(y,g)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const g=!h.before,y=h.values||[];return new pc(y,g)}(n.endAt)),HD(e,i,a,s,l,"F",u,c)}function CL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ws(e.unaryFilter.field);return it.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(e.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(e.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ws(e.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(e){return it.create(ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Hn.create(e.compositeFilter.filters.map(n=>bk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return oe()}}(e.compositeFilter.op))}(t):oe()}function NL(t){return gL[t]}function AL(t){return yL[t]}function RL(t){return vL[t]}function vs(t){return{fieldPath:t.canonicalString()}}function ws(t){return pt.fromServerFormat(t.fieldPath)}function Ek(t){return t instanceof it?function(e){if(e.op==="=="){if(_w(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NAN"}};if(Ew(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_w(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NAN"}};if(Ew(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(e.field),op:AL(e.op),value:e.value}}}(t):t instanceof Hn?function(e){const n=e.getFilters().map(r=>Ek(r));return n.length===1?n[0]:{compositeFilter:{op:RL(e.op),filters:n}}}(t):oe()}function OL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qr{constructor(e,n,r,i,s=ae.min(),a=ae.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PL{constructor(e){this.ct=e}}function DL(t){const e=SL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LL{constructor(){this.un=new FL}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(hi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class FL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ke.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new aa(0)}static kn(){return new aa(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ML{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ho(r.mutation,i,xn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Qa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Er();const a=co(),l=function(){return co()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof is)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),ho(h.mutation,c,h.mutation.getFieldMask(),at.now())):a.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var g;return l.set(c,new UL(h,(g=a.get(c))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=co();let i=new ze((a,l)=>a-l),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||xn.empty();h=l.applyToLocalView(c,h),r.set(u,h);const g=(i.get(l.batchId)||pe()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,g=ik();h.forEach(y=>{if(!s.has(y)){const C=ck(n.get(y),r.get(y));C!==null&&g.set(y,C),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,g))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Di());let l=-1,u=s;return a.next(c=>K.forEach(c,(h,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,pe())).next(h=>({batchId:l,changes:rk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Qa();return this.indexManager.getCollectionParents(e,s).next(l=>K.forEach(l,u=>{const c=function(h,g){return new rh(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Tt.newInvalidDocument(h)))});let l=Qa();return a.forEach((u,c)=>{const h=s.get(u);h!==void 0&&ho(h.mutation,c,xn.empty(),at.now()),sh(n,c)&&(l=l.insert(u,c))}),l})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:$n(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:DL(r.bundledQuery),readTime:$n(r.readTime)}}(n)),K.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VL{constructor(){this.overlays=new ze(ne.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Di(),s=n.length+1,a=new ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Di(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=Di(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=i)););return K.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cL(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zL{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bm{constructor(){this.Tr=new gt(ot.Er),this.dr=new gt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Ke([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Ke([])),r=new ot(n,e),i=new ot(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt(ot.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new uL(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(be);return n.forEach(i=>{const s=new ot(i,0),a=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const a=new ot(new ne(s),0);let l=new gt(be);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},a),K.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ot(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qL{constructor(e){this.Mr=e,this.docs=function(){return new ze(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Er();const a=n.path,l=new ne(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ID(TD(h),r)<=0||(i.has(h.key)||sh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HL(this)}getSize(e){return K.resolve(this.size)}}class HL extends ML{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KL{constructor(e){this.persistence=e,this.Nr=new ya(n=>Pm(n),Dm),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bm,this.targetCount=0,this.kr=aa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nm(0),this.Kr=!1,this.Kr=!0,this.$r=new zL,this.referenceDelegate=e(this),this.Ur=new KL(this),this.indexManager=new LL,this.remoteDocumentCache=function(r){return new qL(r)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PL(n),this.Gr=new BL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $L(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new GL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GL extends CD{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.Jr=new Bm,this.Yr=null}static Zr(e){return new Vm(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zm(e,n.fromCache,r,i)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RA()?8:ND(St())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new QL;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ja()<=me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ja()<=me.DEBUG&&X("QueryEngine","Query:",ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ja()<=me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):K.resolve())}Yi(e,n){if(Iw(n))return K.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$f(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=pe(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,a,u.readTime)?this.Yi(e,$f(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Iw(n)||i.isEqual(ae.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?K.resolve(null):(ja()<=me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(n)),this.rs(e,a,n,xD(i,-1)).next(l=>l))})}ts(e,n){let r=new gt(tk(e));return n.forEach((i,s)=>{sh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ja()<=me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ys(n)),this.Ji.getDocumentsMatchingQuery(e,n,hi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ze(be),this._s=new ya(s=>Pm(s),Dm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JL(t,e,n,r){return new XL(t,e,n,r)}async function kk(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=pe();for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:l}))})})}function ZL(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,g=h.keys();let y=K.resolve();return g.forEach(C=>{y=y.next(()=>c.getEntry(l,C)).next(I=>{const O=u.docVersions.get(C);xe(O!==null),I.version.compareTo(O)<0&&(h.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xk(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function eF(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((h,g)=>{const y=i.get(g);if(!y)return;l.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,g)));let C=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?C=C.withResumeToken(vt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,r)),i=i.insert(g,C),function(I,O,D){return I.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(y,C,h)&&l.push(n.Ur.updateTargetData(s,C))});let u=Er(),c=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(tF(s,a,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ae.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return K.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function tF(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Er();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function nF(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rF(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Qr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gf(t,e,n){const r=le(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!sl(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Mw(t,e,n){const r=le(t);let i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=le(l),g=h._s.get(c);return g!==void 0?K.resolve(h.os.get(g)):h.Ur.getTargetData(u,c)}(r,a,zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:ae.min(),n?s:pe())).next(l=>(iF(r,GD(e),l),{documents:l,Ts:s})))}function iF(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Uw{constructor(){this.activeTargetIds=eL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sF{constructor(){this.so=new Uw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Uw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aF{_o(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let eu=null;function vd(){return eu===null?eu=function(){return 268435456+Math.round(2147483648*Math.random())}():eu++,"0x"+eu.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _t="WebChannelConnection";class uF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${r}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get Fo(){return!1}Mo(e,n,r,i,s){const a=vd(),l=this.xo(e,n.toUriEncodedString());X("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(e,l,u,r).then(c=>(X("RestConnection",`Received RPC '${e}' ${a}: `,c),c),c=>{throw na("RestConnection",`RPC '${e}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(e,n,r,i,s,a){return this.Mo(e,n,r,i,s)}Oo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}xo(e,n){const r=oF[e];return`${this.Do}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=vd();return new Promise((a,l)=>{const u=new U_;u.setWithCredentials(!0),u.listenOnce(j_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _u.NO_ERROR:const h=u.getResponseJson();X(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case _u.TIMEOUT:X(_t,`RPC '${e}' ${s} timed out`),l(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const g=u.getStatus();if(X(_t,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const I=function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(D)>=0?D:W.UNKNOWN}(C.status);l(new te(I,C.message))}else l(new te(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(W.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{X(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=vd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=z_(),l=V_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");X(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=a.createWebChannel(h,u);let y=!1,C=!1;const I=new lF({Io:D=>{C?X(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(y||(X(_t,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),X(_t,`RPC '${e}' stream ${i} sending:`,D),g.send(D))},To:()=>g.close()}),O=(D,S,E)=>{D.listen(S,_=>{try{E(_)}catch(F){setTimeout(()=>{throw F},0)}})};return O(g,Ga.EventType.OPEN,()=>{C||(X(_t,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),O(g,Ga.EventType.CLOSE,()=>{C||(C=!0,X(_t,`RPC '${e}' stream ${i} transport closed`),I.So())}),O(g,Ga.EventType.ERROR,D=>{C||(C=!0,na(_t,`RPC '${e}' stream ${i} transport errored:`,D),I.So(new te(W.UNAVAILABLE,"The operation could not be completed")))}),O(g,Ga.EventType.MESSAGE,D=>{var S;if(!C){const E=D.data[0];xe(!!E);const _=E,F=_.error||((S=_[0])===null||S===void 0?void 0:S.error);if(F){X(_t,`RPC '${e}' stream ${i} received error:`,F);const z=F.status;let V=function(v){const k=Ze[v];if(k!==void 0)return fk(k)}(z),T=F.message;V===void 0&&(V=W.INTERNAL,T="Unknown error status: "+z+" with message "+F.message),C=!0,I.So(new te(V,T)),g.close()}else X(_t,`RPC '${e}' stream ${i} received:`,E),I.bo(E)}}),O(l,B_.STAT_EVENT,D=>{D.stat===Uf.PROXY?X(_t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Uf.NOPROXY&&X(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function wd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uh(t){return new wL(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e,n,r,i,s,a,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cF extends Ik{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_L(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?$n(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wf(this.serializer),n.addTarget=function(i,s){let a;const l=s.target;if(a=zf(l)?{documents:TL(i,l)}:{query:IL(i,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gk(i,s.resumeToken);const u=qf(i,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=vc(i,s.snapshotVersion.toTimestamp());const u=qf(i,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wf(this.serializer),n.removeTarget=e,this.a_(n)}}class hF extends Ik{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xL(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kL(this.serializer,r))};this.a_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Hf(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Hf(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(W.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{ss(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=le(l);u.L_.add(4),await ll(u),u.q_.set("Unknown"),u.L_.delete(4),await ch(u)}(this))})}),this.q_=new fF(r,i)}}async function ch(t){if(ss(t))for(const e of t.B_)await e(!0)}async function ll(t){for(const e of t.B_)await e(!1)}function Sk(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Km(n)?Hm(n):va(n).r_()&&qm(n,e))}function $m(t,e){const n=le(t),r=va(n);n.N_.delete(e),r.r_()&&Ck(n,e),n.N_.size===0&&(r.r_()?r.o_():ss(n)&&n.q_.set("Unknown"))}function qm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}va(t).A_(e)}function Ck(t,e){t.Q_.xe(e),va(t).R_(e)}function Hm(t){t.Q_=new mL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),va(t).start(),t.q_.v_()}function Km(t){return ss(t)&&!va(t).n_()&&t.N_.size>0}function ss(t){return le(t).L_.size===0}function Nk(t){t.Q_=void 0}async function mF(t){t.q_.set("Online")}async function gF(t){t.N_.forEach((e,n)=>{qm(t,e)})}async function yF(t,e){Nk(t),Km(t)?(t.q_.M_(e),Hm(t)):t.q_.set("Unknown")}async function vF(t,e,n){if(t.q_.set("Online"),e instanceof mk&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const a of i.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wc(t,r)}else if(e instanceof Tu?t.Q_.Ke(e):e instanceof pk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await xk(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.N_.get(u);c&&i.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=i.N_.get(l);if(!c)return;i.N_.set(l,c.withResumeToken(vt.EMPTY_BYTE_STRING,c.snapshotVersion)),Ck(i,l);const h=new Qr(c.target,l,u,c.sequenceNumber);qm(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await wc(t,r)}}async function wc(t,e,n){if(!sl(e))throw e;t.L_.add(1),await ll(t),t.q_.set("Offline"),n||(n=()=>xk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ch(t)})}function Ak(t,e){return e().catch(n=>wc(t,n,e))}async function hh(t){const e=le(t),n=fi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wF(e);)try{const i=await nF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,bF(e,i)}catch(i){await wc(e,i)}Rk(e)&&Ok(e)}function wF(t){return ss(t)&&t.O_.length<10}function bF(t,e){t.O_.push(e);const n=fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Rk(t){return ss(t)&&!fi(t).n_()&&t.O_.length>0}function Ok(t){fi(t).start()}async function EF(t){fi(t).p_()}async function _F(t){const e=fi(t);for(const n of t.O_)e.m_(n.mutations)}async function kF(t,e,n){const r=t.O_.shift(),i=Mm.from(r,e,n);await Ak(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hh(t)}async function xF(t,e){e&&fi(t).V_&&await async function(n,r){if(function(i){return dL(i)&&i!==W.ABORTED}(r.code)){const i=n.O_.shift();fi(n).s_(),await Ak(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await hh(n)}}(t,e),Rk(t)&&Ok(t)}async function Bw(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ss(n);n.L_.add(3),await ll(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ch(n)}async function TF(t,e){const n=le(t);e?(n.L_.delete(2),await ch(n)):e||(n.L_.add(2),await ll(n),n.q_.set("Unknown"))}function va(t){return t.K_||(t.K_=function(e,n,r){const i=le(e);return i.w_(),new cF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Eo:mF.bind(null,t),Ro:gF.bind(null,t),mo:yF.bind(null,t),d_:vF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Km(t)?Hm(t):t.q_.set("Unknown")):(await t.K_.stop(),Nk(t))})),t.K_}function fi(t){return t.U_||(t.U_=function(e,n,r){const i=le(e);return i.w_(),new hF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EF.bind(null,t),mo:xF.bind(null,t),f_:_F.bind(null,t),g_:kF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hh(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Wm(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(t,e){if(br("AsyncQueue",`${e}: ${t}`),sl(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vw{constructor(){this.W_=new ze(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,i,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new oa(e,n,Hs.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class SF{constructor(){this.queries=zw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const r=le(e),i=r.queries;r.queries=zw(),i.forEach((s,a)=>{for(const l of a.j_)l.onError(n)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function zw(){return new ya(t=>ek(t),ih)}async function CF(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new IF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Gm(a,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Qm(n)}async function NF(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AF(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&Qm(n)}function RF(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Qm(t){t.Y_.forEach(e=>{e.next()})}var Qf,$w;($w=Qf||(Qf={})).ea="default",$w.Cache="cache";class OF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qf.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pk{constructor(e){this.key=e}}class Dk{constructor(e){this.key=e}}class PF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=tk(e),this.Ra=new Hs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Vw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const y=i.get(h),C=sh(this.query,g)?g:null,I=!!y&&this.mutatedKeys.has(y.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;y&&C?y.data.isEqual(C.data)?I!==O&&(r.track({type:3,doc:C}),D=!0):this.ga(y,C)||(r.track({type:2,doc:C}),D=!0,(u&&this.Aa(C,u)>0||c&&this.Aa(C,c)<0)&&(l=!0)):!y&&C?(r.track({type:0,doc:C}),D=!0):y&&!C&&(r.track({type:1,doc:y}),D=!0,(u||c)&&(l=!0)),D&&(C?(a=a.add(C),s=O?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,g)=>function(y,C){const I=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return I(y)-I(C)}(h.type,g.type)||this.Aa(h.doc,g.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,a.length!==0||c?{snapshot:new oa(this.query,e.Ra,s,a,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Dk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Pk(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LF{constructor(e){this.key=e,this.va=!1}}class FF{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ya(l=>ek(l),ih),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(ne.comparator),this.Na=new Map,this.La=new Bm,this.Ba={},this.ka=new Map,this.qa=aa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MF(t,e,n=!0){const r=Bk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Lk(r,e,n,!0),i}async function UF(t,e){const n=Bk(t);await Lk(n,e,!0,!1)}async function Lk(t,e,n,r){const i=await rF(t.localStore,zn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await jF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Sk(t.remoteStore,i),l}async function jF(t,e,n,r,i){t.Ka=(g,y,C)=>async function(I,O,D,S){let E=O.view.ma(D);E.ns&&(E=await Mw(I.localStore,O.query,!1).then(({documents:V})=>O.view.ma(V,E)));const _=S&&S.targetChanges.get(O.targetId),F=S&&S.targetMismatches.get(O.targetId)!=null,z=O.view.applyChanges(E,I.isPrimaryClient,_,F);return Hw(I,O.targetId,z.wa),z.snapshot}(t,g,y,C);const s=await Mw(t.localStore,e,!0),a=new PF(e,s.Ts),l=a.ma(s.documents),u=ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(l,t.isPrimaryClient,u);Hw(t,n,c.wa);const h=new DF(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function BF(t,e,n){const r=le(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!ih(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$m(r.remoteStore,i.targetId),Yf(r,i.targetId)}).catch(il)):(Yf(r,i.targetId),await Gf(r.localStore,i.targetId,!0))}async function VF(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$m(n.remoteStore,r.targetId))}async function zF(t,e,n){const r=QF(t);try{const i=await function(s,a){const l=le(s),u=at.now(),c=a.reduce((y,C)=>y.add(C.key),pe());let h,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Er(),I=pe();return l.cs.getEntries(y,c).next(O=>{C=O,C.forEach((D,S)=>{S.isValidDocument()||(I=I.add(D))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,C)).next(O=>{h=O;const D=[];for(const S of a){const E=oL(S,h.get(S.key).overlayedDocument);E!=null&&D.push(new is(S.key,E,W_(E.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,D,a)}).next(O=>{g=O;const D=O.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(y,O.batchId,D)})}).then(()=>({batchId:g.batchId,changes:rk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new ze(be)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await ul(r,i.changes),await hh(r.remoteStore)}catch(i){const s=Gm(i,"Failed to persist write");n.reject(s)}}async function Fk(t,e){const n=le(t);try{const r=await eF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?xe(a.va):i.removedDocuments.size>0&&(xe(a.va),a.va=!1))}),await ul(n,r,e)}catch(r){await il(r)}}function qw(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,a){const l=le(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const g of h.j_)g.Z_(a)&&(u=!0)}),u&&Qm(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $F(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new ze(ne.comparator);a=a.insert(s,Tt.newNoDocument(s,ae.min()));const l=pe().add(s),u=new lh(ae.min(),new Map,new ze(be),a,l);await Fk(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ym(r)}else await Gf(r.localStore,e,!1).then(()=>Yf(r,e,n)).catch(il)}async function qF(t,e){const n=le(t),r=e.batch.batchId;try{const i=await ZL(n.localStore,e);Uk(n,r,null),Mk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ul(n,i)}catch(i){await il(i)}}async function HF(t,e,n){const r=le(t);try{const i=await function(s,a){const l=le(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(xe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Uk(r,e,n),Mk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ul(r,i)}catch(i){await il(i)}}function Mk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Uk(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jk(t,r)})}function jk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($m(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ym(t))}function Hw(t,e,n){for(const r of n)r instanceof Pk?(t.La.addReference(r.key,e),KF(t,r)):r instanceof Dk?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jk(t,r.key)):oe()}function KF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ym(t))}function Ym(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new LF(n)),t.Oa=t.Oa.insert(n,r),Sk(t.remoteStore,new Qr(zn(Lm(n.path)),r,"TargetPurposeLimboResolution",Nm.oe))}}async function ul(t,e,n){const r=le(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){i.push(c);const g=zm.Wi(u.targetId,c);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=le(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,g=>K.forEach(g.$i,y=>c.persistence.referenceDelegate.addReference(h,g.targetId,y)).next(()=>K.forEach(g.Ui,y=>c.persistence.referenceDelegate.removeReference(h,g.targetId,y)))))}catch(h){if(!sl(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const y=c.os.get(g),C=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(C);c.os=c.os.insert(g,I)}}}(r.localStore,s))}async function WF(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await kk(n.localStore,e);n.currentUser=e,function(i,s){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new te(W.CANCELLED,s))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ul(n,r.hs)}}function GF(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function Bk(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$F.bind(null,e),e.Ca.d_=AF.bind(null,e.eventManager),e.Ca.$a=RF.bind(null,e.eventManager),e}function QF(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HF.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JL(this.persistence,new YL,e.initialUser,this.serializer)}Ga(e){return new WL(Vm.Zr,this.serializer)}Wa(e){return new sF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class Xf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WF.bind(null,this.syncEngine),await TF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SF}()}createDatastore(e){const n=uh(e.databaseInfo.databaseId),r=function(i){return new uF(i)}(e.databaseInfo);return function(i,s,a,l){return new dF(i,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(n,r,i,s,a){return new pF(n,r,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return jw.D()?new jw:new aF}())}createSyncEngine(e,n){return function(r,i,s,a,l,u,c){const h=new FF(r,i,s,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=le(r);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ll(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xf.provider={build:()=>new Xf};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{X("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bd(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JF(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bw(e.remoteStore,i)),t._onlineComponents=e}async function JF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await bd(t,new bc)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await bd(t,new bc);return t._offlineComponents}async function Vk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Kw(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Kw(t,new Xf))),t._onlineComponents}function ZF(t){return Vk(t).then(e=>e.syncEngine)}async function e4(t){const e=await Vk(t),n=e.eventManager;return n.onListen=MF.bind(null,e.syncEngine),n.onUnlisten=BF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VF.bind(null,e.syncEngine),n}function t4(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,u){const c=new YF({next:g=>{c.Za(),s.enqueueAndForget(()=>NF(i,h));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new OF(Lm(a.path),c,{includeMetadataChanges:!0,_a:!0});return CF(i,h)}(await e4(t),t.asyncQueue,e,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ww=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n4(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gw(t){if(!ne.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function $o(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mD;switch(n.type){case"firstParty":return new wD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ww.get(e);n&&(X("ComponentProvider","Removing Datastore"),Ww.delete(e),n.terminate())}(this),Promise.resolve()}}function i4(t,e,n,r={}){var i;const s=(t=$o(t,Jm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=kt.MOCK_USER;else{l=xA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new gD(new $_(l,u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zm(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class qo extends Zm{constructor(e,n,r){super(e,n,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ne(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function eg(t,e,...n){if(t=zt(t),arguments.length===1&&(e=q_.newId()),n4("doc","path",e),t instanceof Jm){const r=Ke.fromString(e,...n);return Gw(r),new cn(t,null,new ne(r))}{if(!(t instanceof cn||t instanceof qo))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Gw(r),new cn(t.firestore,t instanceof qo?t.converter:null,new ne(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tk(this,"async_queue_retry"),this.Vu=()=>{const r=wd();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Wm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class tg extends Jm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yw(e),this._firestoreClient=void 0,await e}}}function s4(t,e){const n=typeof t=="object"?t:t_(),r=typeof t=="string"?t:"(default)",i=gm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_A("firestore");s&&i4(i,...s)}return i}function $k(t){if(t._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a4(t),t._firestoreClient}function a4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new OD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(vt.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qk{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ig{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o4=/^__.*__$/;class l4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}function Hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class sg{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ec(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Hk(this.Cu)&&o4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class u4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uh(e)}Qu(e,n,r,i=!1){return new sg({Cu:e,methodName:n,qu:r,path:pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c4(t){const e=t._freezeSettings(),n=uh(t._databaseId);return new u4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h4(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Qk("Data must be an object, but it was:",a,r);const l=Wk(r,a);let u,c;if(s.merge)u=new xn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const y=d4(e,g,n);if(!a.contains(y))throw new te(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p4(h,y)||h.push(y)}u=new xn(h),c=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=a.fieldTransforms;return new l4(new on(l),u,c)}function Kk(t,e){if(Gk(t=zt(t)))return Qk("Unsupported field value:",e,t),Wk(t,e);if(t instanceof qk)return function(n,r){if(!Hk(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let l=Kk(a,r.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:vc(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vc(r.serializer,i)}}if(n instanceof rg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof la)return{bytesValue:gk(r.serializer,n._byteString)};if(n instanceof cn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jm(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof ig)return function(i,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(a=>{if(typeof a!="number")throw s.Bu("VectorValues must only contain numeric values.");return Fm(s.serializer,a)})}}}}}}(n,r);throw r.Bu(`Unsupported field value: ${Xm(n)}`)}(t,e)}function Wk(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const s=Kk(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof rg||t instanceof la||t instanceof cn||t instanceof qk||t instanceof ig)}function Qk(t,e,n){if(!Gk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Xm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function d4(t,e,n){if((e=zt(e))instanceof ng)return e._internalPath;if(typeof e=="string")return Yk(t,e);throw Ec("Field path arguments must be of type string or ",t,!1,void 0,n)}const f4=new RegExp("[~\\*/\\[\\]]");function Yk(t,e,n){if(e.search(f4)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ng(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ec(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new te(W.INVALID_ARGUMENT,l+t+u)}function p4(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m4 extends Xk{data(){return super.data()}}function Jk(t,e){return typeof e=="string"?Yk(t,e):e instanceof ng?e._internalPath:e._delegate._internalPath}class g4{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>We(a.doubleValue));return new ig(s)}convertGeoPoint(e){return new rg(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const n=di(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);xe(_k(r));const i=new jo(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zk extends Xk{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new w4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class w4 extends Zk{data(e={}){return super.data(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function b4(t){t=$o(t,cn);const e=$o(t.firestore,tg);return t4($k(e),t._key).then(n=>k4(e,t,n))}class E4 extends g4{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function ex(t,e,n){t=$o(t,cn);const r=$o(t.firestore,tg),i=y4(t.converter,e);return _4(r,[h4(c4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function _4(t,e){return function(n,r){const i=new li;return n.asyncQueue.enqueueAndForget(async()=>zF(await ZF(n),r,i)),i.promise}($k(t),e)}function k4(t,e,n){const r=n.docs.get(e._key),i=new E4(t);return new Zk(t,i,e._key,r,new v4(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ma=n})(fa),ea(new Hi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new tg(new yD(n.getProvider("auth-internal")),new ED(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(l.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),oi(gw,"4.7.3",t),oi(gw,"4.7.3","esm2017")})();const x4={apiKey:"AIzaSyAD3V3YgDjN1ANBYfAfxegOwt6D8JqhDXY",authDomain:"shop-ad98d.firebaseapp.com",projectId:"shop-ad98d",storageBucket:"shop-ad98d.firebasestorage.app",messagingSenderId:"172119085311",appId:"1:172119085311:web:dbf1f64f95a30dce3bbcca",measurementId:"G-L51VV4QYSM"},tx=e_(x4),ag=s4(tx),gs=hD(tx),T4=new er;Vs().shape({name:nt().trim().required("Product name is required"),price:Oi().positive("Price must be positive").required("Price is required"),description:nt().trim().required("Description is required"),image:nt().url("Invalid image URL").required("Image URL is required"),category:nt().trim().required("Category is required"),ingredients:nc().of(nt().trim()),allergens:nc().of(nt().trim()),stock:Oi().integer().min(0,"Stock must be at least 0").required("Stock is required")});const I4=Vs().shape({email:nt().email("Invalid email").required("Email is required"),displayName:nt().trim(),isAdmin:A1(),createdAt:Zs().required("Creation date is required"),updatedAt:Zs()});Vs().shape({userId:nt().required("User ID is required"),userEmail:nt().email("Invalid email").required("User email is required"),items:nc().of(Vs().shape({productId:nt().required("Product ID is required"),quantity:Oi().integer().min(1,"Quantity must be at least 1").required("Quantity is required"),price:Oi().positive("Price must be positive").required("Price is required"),name:nt().trim().required("Product name is required")})).required("Items are required"),status:nt().oneOf(["pending","processing","shipped","delivered","cancelled"]).required("Status is required"),subtotal:Oi().positive("Subtotal must be positive").required("Subtotal is required"),total:Oi().positive("Total must be positive").required("Total is required"),createdAt:Zs().required("Creation date is required"),updatedAt:Zs(),shippingAddress:Vs().shape({street:nt().trim().required("Street is required"),city:nt().trim().required("City is required"),state:nt().trim().required("State is required"),postalCode:nt().trim().required("Postal code is required"),country:nt().trim().required("Country is required")})});const S4=async(t,e)=>{await I4.validate(e),await ex(eg(ag,"users",t),{...e,createdAt:new Date().toISOString()})},Xw=async(t,e)=>{await ex(eg(ag,"wishlists",t),{items:e,updatedAt:new Date().toISOString()})},C4=async t=>{const e=eg(ag,"wishlists",t),n=await b4(e);return n.exists()?n.data().items:[]},nx=N.createContext();function rx(){return N.useContext(nx)}function N4({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!0);async function s(y,C){try{const I=await WO(gs,y,C);return await S4(I.user.uid,{email:I.user.email,displayName:I.user.displayName||y.split("@")[0]}),console.log("Signup success:",I.user),I}catch(I){throw console.error("Signup error:",I),I}}async function a(y,C){try{const I=await GO(gs,y,C);return console.log("Login success:",I.user),I}catch(I){throw console.error("Login error:",I),I}}async function l(){try{const y=await bP(gs,T4);return console.log("Google sign in success:",y.user),y}catch(y){throw console.error("Google sign in error:",y),y}}async function u(y){try{await YO(e,y),n(C=>({...C,...y}))}catch(C){throw console.error("Profile update error:",C),C}}async function c(y){try{await KO(gs,y)}catch(C){throw console.error("Password reset error:",C),C}}function h(){return eP(gs)}N.useEffect(()=>ZO(gs,y=>{n(y),i(!1)}),[]);const g={currentUser:e,loading:r,signup:s,login:a,logout:h,signInWithGoogle:l,isAuthenticated:!!e,updateUserProfile:u,resetPassword:c};return q.jsx(nx.Provider,{value:g,children:!r&&t})}const Ba={success:t=>{Ce.success(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},error:t=>{Ce.error(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},ix=N.createContext();function A4({children:t}){const[e,n]=N.useState([]),{currentUser:r}=rx(),i=N.useCallback(async()=>{try{const l=await C4(r.uid);n(l)}catch(l){console.error("Failed to load wishlist:",l),Ba.error("Failed to load wishlist")}},[r]);N.useEffect(()=>{r?i():n([])},[r,i]);const s=async l=>{try{const u=[...e,l];await Xw(r.uid,u),n(u),Ba.success("Added to wishlist")}catch(u){console.error("Failed to add to wishlist:",u),Ba.error("Failed to add to wishlist")}},a=async l=>{try{const u=e.filter(c=>c.id!==l);await Xw(r.uid,u),n(u),Ba.success("Removed from wishlist")}catch(u){console.error("Failed to remove from wishlist:",u),Ba.error("Failed to remove from wishlist")}};return q.jsx(ix.Provider,{value:{items:e,addToWishlist:s,removeFromWishlist:a},children:t})}function R4(){return N.useContext(ix)}function O4({products:t}){const[e,n]=N.useState(""),r=kE(),i=s=>{s.preventDefault(),e.trim()&&(r(`/search?q=${encodeURIComponent(e.trim())}`),n(""))};return q.jsxs(wv,{className:"d-flex",onSubmit:i,children:[q.jsx(wv.Control,{type:"search",placeholder:"Search products...",className:"me-2","aria-label":"Search",value:e,onChange:s=>n(s.target.value)}),q.jsx(BE,{variant:"outline-success",type:"submit",children:"Search"})]})}function P4({products:t}){const{currentUser:e}=rx(),{cartItems:n}=pA(),{wishlistItems:r}=R4();return q.jsx(Kl,{bg:"light",expand:"lg",sticky:"top",children:q.jsxs($E,{children:[q.jsx(Kl.Brand,{as:_i,to:"/",children:"Deleen's Home Bake"}),q.jsx(Kl.Toggle,{"aria-controls":"basic-navbar-nav"}),q.jsxs(Kl.Collapse,{id:"basic-navbar-nav",children:[q.jsxs(ki,{className:"me-auto",children:[q.jsx(ki.Link,{as:_i,to:"/",children:"Home"}),q.jsxs(ki.Link,{as:_i,to:"/cart",children:["Cart (",n.length,")"]}),q.jsxs(ki.Link,{as:_i,to:"/wishlist",children:["Wishlist (",r.length,")"]}),e&&q.jsx(ki.Link,{as:_i,to:"/profile",children:"Profile"}),!e&&q.jsxs(q.Fragment,{children:[q.jsx(ki.Link,{as:_i,to:"/login",children:"Login"}),q.jsx(ki.Link,{as:_i,to:"/signup",children:"Sign Up"})]})]}),q.jsx(O4,{products:t})]})]})})}function D4(){const[t]=N.useState([{id:1,name:"Classic Chocolate Cake",price:29.99,image:"https://placehold.co/300x200/png?text=Chocolate+Cake",description:"Rich chocolate layers with ganache"}]);return q.jsx(N4,{children:q.jsx(fA,{children:q.jsx(A4,{children:q.jsx(aC,{children:q.jsxs("div",{className:"App",children:[q.jsx(P4,{products:t}),q.jsx("div",{className:"main-content",children:q.jsx(ZS,{})}),q.jsx(dA,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})})}Nf.createRoot(document.getElementById("root")).render(q.jsx(de.StrictMode,{children:q.jsx(D4,{})}));
//# sourceMappingURL=index-1bHNzZGS.js.map
