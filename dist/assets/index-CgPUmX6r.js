(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function iT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ob={exports:{}},re={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var wo=Symbol.for("react.element"),aT=Symbol.for("react.portal"),oT=Symbol.for("react.fragment"),lT=Symbol.for("react.strict_mode"),uT=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),hT=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),pT=Symbol.for("react.memo"),mT=Symbol.for("react.lazy"),Ig=Symbol.iterator;function gT(t){return t===null||typeof t!="object"?null:(t=Ig&&t[Ig]||t["@@iterator"],typeof t=="function"?t:null)}var Ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Pb={};function Ai(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||Ab}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Db(){}Db.prototype=Ai.prototype;function _f(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||Ab}var kf=_f.prototype=new Db;kf.constructor=_f;Rb(kf,Ai.prototype);kf.isPureReactComponent=!0;var Ng=Array.isArray,Lb=Object.prototype.hasOwnProperty,Tf={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Fb(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Lb.call(e,r)&&!Mb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:wo,type:t,key:i,ref:a,props:s,_owner:Tf.current}}function yT(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sf(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function vT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Og=/\/+/g;function td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vT(""+t.key):e.toString(36)}function xl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wo:case aT:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+td(a,0):r,Ng(s)?(n="",t!=null&&(n=t.replace(Og,"$&/")+"/"),xl(s,e,n,"",function(c){return c})):s!=null&&(Sf(s)&&(s=yT(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Og,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Ng(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+td(i,l);a+=xl(i,e,n,u,s)}else if(u=gT(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+td(i,l++),a+=xl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function el(t,e,n){if(t==null)return t;var r=[],s=0;return xl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Il={transition:null},wT={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:Tf};function Ub(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:el,forEach:function(t,e,n){el(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return el(t,function(){e++}),e},toArray:function(t){return el(t,function(e){return e})||[]},only:function(t){if(!Sf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Ai;re.Fragment=oT;re.Profiler=uT;re.PureComponent=_f;re.StrictMode=lT;re.Suspense=fT;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wT;re.act=Ub;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rb({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Tf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Lb.call(e,u)&&!Mb.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:wo,type:t.type,key:s,ref:i,props:r,_owner:a}};re.createContext=function(t){return t={$$typeof:dT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cT,_context:t},t.Consumer=t};re.createElement=Fb;re.createFactory=function(t){var e=Fb.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:hT,render:t}};re.isValidElement=Sf;re.lazy=function(t){return{$$typeof:mT,_payload:{_status:-1,_result:t},_init:bT}};re.memo=function(t,e){return{$$typeof:pT,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Il.transition;Il.transition={};try{t()}finally{Il.transition=e}};re.unstable_act=Ub;re.useCallback=function(t,e){return bt.current.useCallback(t,e)};re.useContext=function(t){return bt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};re.useEffect=function(t,e){return bt.current.useEffect(t,e)};re.useId=function(){return bt.current.useId()};re.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return bt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};re.useRef=function(t){return bt.current.useRef(t)};re.useState=function(t){return bt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return bt.current.useTransition()};re.version="18.3.1";Ob.exports=re;var k=Ob.exports;const te=bo(k),ET=iT({__proto__:null,default:te},[k]);var jb={exports:{}},Ft={},Vb={exports:{}},zb={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(j,H){var K=j.length;j.push(H);e:for(;0<K;){var ne=K-1>>>1,Z=j[ne];if(0<s(Z,H))j[ne]=H,j[K]=Z,K=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],K=j.pop();if(K!==H){j[0]=K;e:for(var ne=0,Z=j.length,ee=Z>>>1;ne<ee;){var ie=2*(ne+1)-1,pe=j[ie],je=ie+1,Qe=j[je];if(0>s(pe,K))je<Z&&0>s(Qe,pe)?(j[ne]=Qe,j[je]=K,ne=je):(j[ne]=pe,j[ie]=K,ne=ie);else if(je<Z&&0>s(Qe,K))j[ne]=Qe,j[je]=K,ne=je;else break e}}return H}function s(j,H){var K=j.sortIndex-H.sortIndex;return K!==0?K:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,p=null,m=3,C=!1,T=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function A(j){if(I=!1,b(j),!T)if(n(u)!==null)T=!0,Pe(M);else{var H=n(c);H!==null&&me(A,H.startTime-j)}}function M(j,H){T=!1,I&&(I=!1,_(g),g=-1),C=!0;var K=m;try{for(b(H),p=n(u);p!==null&&(!(p.expirationTime>H)||j&&!N());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var Z=ne(p.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(u)&&r(u),b(H)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var ie=n(c);ie!==null&&me(A,ie.startTime-H),ee=!1}return ee}finally{p=null,m=K,C=!1}}var L=!1,w=null,g=-1,E=5,S=-1;function N(){return!(t.unstable_now()-S<E)}function R(){if(w!==null){var j=t.unstable_now();S=j;var H=!0;try{H=w(!0,j)}finally{H?x():(L=!1,w=null)}}else L=!1}var x;if(typeof v=="function")x=function(){v(R)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,He=ve.port2;ve.port1.onmessage=R,x=function(){He.postMessage(null)}}else x=function(){O(R,0)};function Pe(j){w=j,L||(L=!0,x())}function me(j,H){g=O(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||C||(T=!0,Pe(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var K=m;m=H;try{return j()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return H()}finally{m=K}},t.unstable_scheduleCallback=function(j,H,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,j={id:h++,callback:H,priorityLevel:j,startTime:K,expirationTime:Z,sortIndex:-1},K>ne?(j.sortIndex=K,e(c,j),n(u)===null&&j===n(c)&&(I?(_(g),g=-1):I=!0,me(A,K-ne))):(j.sortIndex=Z,e(u,j),T||C||(T=!0,Pe(M))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var H=m;return function(){var K=m;m=H;try{return j.apply(this,arguments)}finally{m=K}}}})(zb);Vb.exports=zb;var _T=Vb.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kT=k,Lt=_T;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $b=new Set,Va={};function ws(t,e){pi(t,e),pi(t+"Capture",e)}function pi(t,e){for(Va[t]=e,t=0;t<e.length;t++)$b.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=Object.prototype.hasOwnProperty,TT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ag={},Rg={};function ST(t){return Wd.call(Rg,t)?!0:Wd.call(Ag,t)?!1:TT.test(t)?Rg[t]=!0:(Ag[t]=!0,!1)}function CT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xT(t,e,n,r){if(e===null||typeof e>"u"||CT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cf=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cf,xf);nt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cf,xf);nt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cf,xf);nt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function If(t,e,n,r){var s=nt.hasOwnProperty(e)?nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xT(e,n,s,r)&&(n=null),r||s===null?ST(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=kT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Gd=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),Af=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),Hb=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=Pg&&t[Pg]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,nd;function ma(t){if(nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var rd=!1;function sd(t,e){if(!t||rd)return"";rd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{rd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function IT(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=sd(t.type,!1),t;case 11:return t=sd(t.type.render,!1),t;case 1:return t=sd(t.type,!0),t;default:return""}}function Xd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case Bs:return"Portal";case Gd:return"Profiler";case Nf:return"StrictMode";case Qd:return"Suspense";case Yd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qb:return(t.displayName||"Context")+".Consumer";case Bb:return(t._context.displayName||"Context")+".Provider";case Of:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Af:return e=t.displayName||null,e!==null?e:Xd(t.type)||"Memo";case or:e=t._payload,t=t._init;try{return Xd(t(e))}catch{}}return null}function NT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xd(e);case 8:return e===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OT(t){var e=Kb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=OT(t))}function Wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jd(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gb(t,e){e=e.checked,e!=null&&If(t,"checked",e,!1)}function Zd(t,e){Gb(t,e);var n=Pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eh(t,e.type,n):e.hasOwnProperty("defaultValue")&&eh(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eh(t,e,n){(e!=="number"||Xl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ga=Array.isArray;function ri(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ga(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pr(n)}}function Qb(t,e){var n=Pr(e.value),r=Pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rl,Xb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AT=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){AT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sa[e]=Sa[t]})});function Jb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+e).trim():e+"px"}function Zb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var RT=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(t,e){if(e){if(RT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function sh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=null;function Rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ah=null,si=null,ii=null;function Ug(t){if(t=ko(t)){if(typeof ah!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Xu(e),ah(t.stateNode,t.type,e))}}function ew(t){si?ii?ii.push(t):ii=[t]:si=t}function tw(){if(si){var t=si,e=ii;if(ii=si=null,Ug(t),e)for(t=0;t<e.length;t++)Ug(e[t])}}function nw(t,e){return t(e)}function rw(){}var id=!1;function sw(t,e,n){if(id)return t(e,n);id=!0;try{return nw(t,e,n)}finally{id=!1,(si!==null||ii!==null)&&(rw(),tw())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=Xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var oh=!1;if(jn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){oh=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{oh=!1}function PT(t,e,n,r,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ca=!1,Jl=null,Zl=!1,lh=null,DT={onError:function(t){Ca=!0,Jl=t}};function LT(t,e,n,r,s,i,a,l,u){Ca=!1,Jl=null,PT.apply(DT,arguments)}function MT(t,e,n,r,s,i,a,l,u){if(LT.apply(this,arguments),Ca){if(Ca){var c=Jl;Ca=!1,Jl=null}else throw Error(z(198));Zl||(Zl=!0,lh=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jg(t){if(Es(t)!==t)throw Error(z(188))}function FT(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jg(s),t;if(i===r)return jg(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function aw(t){return t=FT(t),t!==null?ow(t):null}function ow(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ow(t);if(e!==null)return e;t=t.sibling}return null}var lw=Lt.unstable_scheduleCallback,Vg=Lt.unstable_cancelCallback,UT=Lt.unstable_shouldYield,jT=Lt.unstable_requestPaint,Le=Lt.unstable_now,VT=Lt.unstable_getCurrentPriorityLevel,Pf=Lt.unstable_ImmediatePriority,uw=Lt.unstable_UserBlockingPriority,eu=Lt.unstable_NormalPriority,zT=Lt.unstable_LowPriority,cw=Lt.unstable_IdlePriority,Wu=null,hn=null;function $T(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Wu,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:HT,BT=Math.log,qT=Math.LN2;function HT(t){return t>>>=0,t===0?32:31-(BT(t)/qT|0)|0}var sl=64,il=4194304;function ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ya(l):(i&=a,i!==0&&(r=ya(i)))}else a=n&~s,a!==0?r=ya(a):i!==0&&(r=ya(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),s=1<<n,r|=t[n],e&=~s;return r}function KT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-rn(i),l=1<<a,u=s[a];u===-1?(!(l&n)||l&r)&&(s[a]=KT(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dw(){var t=sl;return sl<<=1,!(sl&4194240)&&(sl=64),t}function ad(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function GT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var he=0;function hw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fw,Lf,pw,mw,gw,ch=!1,al=[],wr=null,Er=null,_r=null,Ba=new Map,qa=new Map,cr=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ko(e),e!==null&&Lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YT(t,e,n,r,s){switch(e){case"focusin":return wr=aa(wr,t,e,n,r,s),!0;case"dragenter":return Er=aa(Er,t,e,n,r,s),!0;case"mouseover":return _r=aa(_r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ba.set(i,aa(Ba.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qa.set(i,aa(qa.get(i)||null,t,e,n,r,s)),!0}return!1}function yw(t){var e=Jr(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=iw(n),e!==null){t.blockedOn=e,gw(t.priority,function(){pw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ih=r,n.target.dispatchEvent(r),ih=null}else return e=ko(n),e!==null&&Lf(e),t.blockedOn=n,!1;e.shift()}return!0}function $g(t,e,n){Nl(t)&&n.delete(e)}function XT(){ch=!1,wr!==null&&Nl(wr)&&(wr=null),Er!==null&&Nl(Er)&&(Er=null),_r!==null&&Nl(_r)&&(_r=null),Ba.forEach($g),qa.forEach($g)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,XT)))}function Ha(t){function e(s){return oa(s,t)}if(0<al.length){oa(al[0],t);for(var n=1;n<al.length;n++){var r=al[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&oa(wr,t),Er!==null&&oa(Er,t),_r!==null&&oa(_r,t),Ba.forEach(e),qa.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)yw(n),n.blockedOn===null&&cr.shift()}var ai=Gn.ReactCurrentBatchConfig,nu=!0;function JT(t,e,n,r){var s=he,i=ai.transition;ai.transition=null;try{he=1,Mf(t,e,n,r)}finally{he=s,ai.transition=i}}function ZT(t,e,n,r){var s=he,i=ai.transition;ai.transition=null;try{he=4,Mf(t,e,n,r)}finally{he=s,ai.transition=i}}function Mf(t,e,n,r){if(nu){var s=dh(t,e,n,r);if(s===null)gd(t,e,r,ru,n),zg(t,r);else if(YT(s,t,e,n,r))r.stopPropagation();else if(zg(t,r),e&4&&-1<QT.indexOf(t)){for(;s!==null;){var i=ko(s);if(i!==null&&fw(i),i=dh(t,e,n,r),i===null&&gd(t,e,r,ru,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gd(t,e,r,null,n)}}var ru=null;function dh(t,e,n,r){if(ru=null,t=Rf(r),t=Jr(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ru=t,null}function vw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VT()){case Pf:return 1;case uw:return 4;case eu:case zT:return 16;case cw:return 536870912;default:return 16}default:return 16}}var mr=null,Ff=null,Ol=null;function bw(){if(Ol)return Ol;var t,e=Ff,n=e.length,r,s="value"in mr?mr.value:mr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Ol=s.slice(t,1<r?1-r:void 0)}function Al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function Bg(){return!1}function Ut(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ol:Bg,this.isPropagationStopped=Bg,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=Ut(Ri),_o=Ie({},Ri,{view:0,detail:0}),eS=Ut(_o),od,ld,la,Gu=Ie({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==la&&(la&&t.type==="mousemove"?(od=t.screenX-la.screenX,ld=t.screenY-la.screenY):ld=od=0,la=t),od)},movementY:function(t){return"movementY"in t?t.movementY:ld}}),qg=Ut(Gu),tS=Ie({},Gu,{dataTransfer:0}),nS=Ut(tS),rS=Ie({},_o,{relatedTarget:0}),ud=Ut(rS),sS=Ie({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=Ut(sS),aS=Ie({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oS=Ut(aS),lS=Ie({},Ri,{data:0}),Hg=Ut(lS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dS[t])?!!e[t]:!1}function jf(){return hS}var fS=Ie({},_o,{key:function(t){if(t.key){var e=uS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pS=Ut(fS),mS=Ie({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Ut(mS),gS=Ie({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),yS=Ut(gS),vS=Ie({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),bS=Ut(vS),wS=Ie({},Gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=Ut(wS),_S=[9,13,27,32],Vf=jn&&"CompositionEvent"in window,xa=null;jn&&"documentMode"in document&&(xa=document.documentMode);var kS=jn&&"TextEvent"in window&&!xa,ww=jn&&(!Vf||xa&&8<xa&&11>=xa),Wg=" ",Gg=!1;function Ew(t,e){switch(t){case"keyup":return _S.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function TS(t,e){switch(t){case"compositionend":return _w(e);case"keypress":return e.which!==32?null:(Gg=!0,Wg);case"textInput":return t=e.data,t===Wg&&Gg?null:t;default:return null}}function SS(t,e){if(Hs)return t==="compositionend"||!Vf&&Ew(t,e)?(t=bw(),Ol=Ff=mr=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ww&&e.locale!=="ko"?null:e.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CS[t.type]:e==="textarea"}function kw(t,e,n,r){ew(r),e=su(e,"onChange"),0<e.length&&(n=new Uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ia=null,Ka=null;function xS(t){Dw(t,0)}function Qu(t){var e=Gs(t);if(Wb(e))return t}function IS(t,e){if(t==="change")return e}var Tw=!1;if(jn){var cd;if(jn){var dd="oninput"in document;if(!dd){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),dd=typeof Yg.oninput=="function"}cd=dd}else cd=!1;Tw=cd&&(!document.documentMode||9<document.documentMode)}function Xg(){Ia&&(Ia.detachEvent("onpropertychange",Sw),Ka=Ia=null)}function Sw(t){if(t.propertyName==="value"&&Qu(Ka)){var e=[];kw(e,Ka,t,Rf(t)),sw(xS,e)}}function NS(t,e,n){t==="focusin"?(Xg(),Ia=e,Ka=n,Ia.attachEvent("onpropertychange",Sw)):t==="focusout"&&Xg()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Ka)}function AS(t,e){if(t==="click")return Qu(e)}function RS(t,e){if(t==="input"||t==="change")return Qu(e)}function PS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:PS;function Wa(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wd.call(e,s)||!on(t[s],e[s]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,e){var n=Jg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jg(n)}}function Cw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xw(){for(var t=window,e=Xl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xl(t.document)}return e}function zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DS(t){var e=xw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cw(n.ownerDocument.documentElement,n)){if(r!==null&&zf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zg(n,i);var a=Zg(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LS=jn&&"documentMode"in document&&11>=document.documentMode,Ks=null,hh=null,Na=null,fh=!1;function ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||Ks==null||Ks!==Xl(r)||(r=Ks,"selectionStart"in r&&zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Wa(Na,r)||(Na=r,r=su(hh,"onSelect"),0<r.length&&(e=new Uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},hd={},Iw={};jn&&(Iw=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Yu(t){if(hd[t])return hd[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Iw)return hd[t]=e[n];return t}var Nw=Yu("animationend"),Ow=Yu("animationiteration"),Aw=Yu("animationstart"),Rw=Yu("transitionend"),Pw=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){Pw.set(t,e),ws(e,[t])}for(var fd=0;fd<ty.length;fd++){var pd=ty[fd],MS=pd.toLowerCase(),FS=pd[0].toUpperCase()+pd.slice(1);Ur(MS,"on"+FS)}Ur(Nw,"onAnimationEnd");Ur(Ow,"onAnimationIteration");Ur(Aw,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Rw,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function ny(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MT(r,e,void 0,t),t.currentTarget=null}function Dw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;ny(s,l,c),i=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;ny(s,l,c),i=u}}}if(Zl)throw t=lh,Zl=!1,lh=null,t}function ke(t,e){var n=e[vh];n===void 0&&(n=e[vh]=new Set);var r=t+"__bubble";n.has(r)||(Lw(e,t,2,!1),n.add(r))}function md(t,e,n){var r=0;e&&(r|=4),Lw(n,t,r,e)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[ul]){t[ul]=!0,$b.forEach(function(n){n!=="selectionchange"&&(US.has(n)||md(n,!1,t),md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ul]||(e[ul]=!0,md("selectionchange",!1,e))}}function Lw(t,e,n,r){switch(vw(e)){case 1:var s=JT;break;case 4:s=ZT;break;default:s=Mf}n=s.bind(null,e,n,t),s=void 0,!oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Jr(l),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}l=l.parentNode}}r=r.return}sw(function(){var c=i,h=Rf(n),p=[];e:{var m=Pw.get(t);if(m!==void 0){var C=Uf,T=t;switch(t){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":C=pS;break;case"focusin":T="focus",C=ud;break;case"focusout":T="blur",C=ud;break;case"beforeblur":case"afterblur":C=ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=yS;break;case Nw:case Ow:case Aw:C=iS;break;case Rw:C=bS;break;case"scroll":C=eS;break;case"wheel":C=ES;break;case"copy":case"cut":case"paste":C=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Kg}var I=(e&4)!==0,O=!I&&t==="scroll",_=I?m!==null?m+"Capture":null:m;I=[];for(var v=c,b;v!==null;){b=v;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,_!==null&&(A=$a(v,_),A!=null&&I.push(Qa(v,A,b)))),O)break;v=v.return}0<I.length&&(m=new C(m,T,null,n,h),p.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",m&&n!==ih&&(T=n.relatedTarget||n.fromElement)&&(Jr(T)||T[Vn]))break e;if((C||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,C?(T=n.relatedTarget||n.toElement,C=c,T=T?Jr(T):null,T!==null&&(O=Es(T),T!==O||T.tag!==5&&T.tag!==6)&&(T=null)):(C=null,T=c),C!==T)){if(I=qg,A="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(I=Kg,A="onPointerLeave",_="onPointerEnter",v="pointer"),O=C==null?m:Gs(C),b=T==null?m:Gs(T),m=new I(A,v+"leave",C,n,h),m.target=O,m.relatedTarget=b,A=null,Jr(h)===c&&(I=new I(_,v+"enter",T,n,h),I.target=b,I.relatedTarget=O,A=I),O=A,C&&T)t:{for(I=C,_=T,v=0,b=I;b;b=Ls(b))v++;for(b=0,A=_;A;A=Ls(A))b++;for(;0<v-b;)I=Ls(I),v--;for(;0<b-v;)_=Ls(_),b--;for(;v--;){if(I===_||_!==null&&I===_.alternate)break t;I=Ls(I),_=Ls(_)}I=null}else I=null;C!==null&&ry(p,m,C,I,!1),T!==null&&O!==null&&ry(p,O,T,I,!0)}}e:{if(m=c?Gs(c):window,C=m.nodeName&&m.nodeName.toLowerCase(),C==="select"||C==="input"&&m.type==="file")var M=IS;else if(Qg(m))if(Tw)M=RS;else{M=OS;var L=NS}else(C=m.nodeName)&&C.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=AS);if(M&&(M=M(t,c))){kw(p,M,n,h);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&eh(m,"number",m.value)}switch(L=c?Gs(c):window,t){case"focusin":(Qg(L)||L.contentEditable==="true")&&(Ks=L,hh=c,Na=null);break;case"focusout":Na=hh=Ks=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,ey(p,n,h);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":ey(p,n,h)}var w;if(Vf)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Hs?Ew(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(ww&&n.locale!=="ko"&&(Hs||g!=="onCompositionStart"?g==="onCompositionEnd"&&Hs&&(w=bw()):(mr=h,Ff="value"in mr?mr.value:mr.textContent,Hs=!0)),L=su(c,g),0<L.length&&(g=new Hg(g,t,null,n,h),p.push({event:g,listeners:L}),w?g.data=w:(w=_w(n),w!==null&&(g.data=w)))),(w=kS?TS(t,n):SS(t,n))&&(c=su(c,"onBeforeInput"),0<c.length&&(h=new Hg("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=w))}Dw(p,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function su(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$a(t,n),i!=null&&r.unshift(Qa(t,i,s)),i=$a(t,e),i!=null&&r.push(Qa(t,i,s))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ry(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=$a(n,i),u!=null&&a.unshift(Qa(n,u,l))):s||(u=$a(n,i),u!=null&&a.push(Qa(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var jS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function sy(t){return(typeof t=="string"?t:""+t).replace(jS,`
`).replace(VS,"")}function cl(t,e,n){if(e=sy(e),sy(t)!==e&&n)throw Error(z(425))}function iu(){}var ph=null,mh=null;function gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(t){return iy.resolve(null).then(t).catch(BS)}:yh;function BS(t){setTimeout(function(){throw t})}function yd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ha(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ha(e)}function kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),dn="__reactFiber$"+Pi,Ya="__reactProps$"+Pi,Vn="__reactContainer$"+Pi,vh="__reactEvents$"+Pi,qS="__reactListeners$"+Pi,HS="__reactHandles$"+Pi;function Jr(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ay(t);t!==null;){if(n=t[dn])return n;t=ay(t)}return e}t=n,n=t.parentNode}return null}function ko(t){return t=t[dn]||t[Vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Xu(t){return t[Ya]||null}var bh=[],Qs=-1;function jr(t){return{current:t}}function Te(t){0>Qs||(t.current=bh[Qs],bh[Qs]=null,Qs--)}function be(t,e){Qs++,bh[Qs]=t.current,t.current=e}var Dr={},ht=jr(Dr),Ct=jr(!1),us=Dr;function mi(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xt(t){return t=t.childContextTypes,t!=null}function au(){Te(Ct),Te(ht)}function oy(t,e,n){if(ht.current!==Dr)throw Error(z(168));be(ht,e),be(Ct,n)}function Mw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,NT(t)||"Unknown",s));return Ie({},n,r)}function ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,us=ht.current,be(ht,t),be(Ct,Ct.current),!0}function ly(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Mw(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,Te(Ct),Te(ht),be(ht,t)):Te(Ct),be(Ct,n)}var Tn=null,Ju=!1,vd=!1;function Fw(t){Tn===null?Tn=[t]:Tn.push(t)}function KS(t){Ju=!0,Fw(t)}function Vr(){if(!vd&&Tn!==null){vd=!0;var t=0,e=he;try{var n=Tn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,Ju=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(t+1)),lw(Pf,Vr),s}finally{he=e,vd=!1}}return null}var Ys=[],Xs=0,lu=null,uu=0,jt=[],Vt=0,cs=null,In=1,Nn="";function Gr(t,e){Ys[Xs++]=uu,Ys[Xs++]=lu,lu=t,uu=e}function Uw(t,e,n){jt[Vt++]=In,jt[Vt++]=Nn,jt[Vt++]=cs,cs=t;var r=In;t=Nn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var i=32-rn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,In=1<<32-rn(e)+s|n<<s|r,Nn=i+t}else In=1<<i|n<<s|r,Nn=t}function $f(t){t.return!==null&&(Gr(t,1),Uw(t,1,0))}function Bf(t){for(;t===lu;)lu=Ys[--Xs],Ys[Xs]=null,uu=Ys[--Xs],Ys[Xs]=null;for(;t===cs;)cs=jt[--Vt],jt[Vt]=null,Nn=jt[--Vt],jt[Vt]=null,In=jt[--Vt],jt[Vt]=null}var Dt=null,Rt=null,Se=!1,Jt=null;function jw(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:In,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Rt=null,!0):!1;default:return!1}}function wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eh(t){if(Se){var e=Rt;if(e){var n=e;if(!uy(t,e)){if(wh(t))throw Error(z(418));e=kr(n.nextSibling);var r=Dt;e&&uy(t,e)?jw(r,n):(t.flags=t.flags&-4097|2,Se=!1,Dt=t)}}else{if(wh(t))throw Error(z(418));t.flags=t.flags&-4097|2,Se=!1,Dt=t}}}function cy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function dl(t){if(t!==Dt)return!1;if(!Se)return cy(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gh(t.type,t.memoizedProps)),e&&(e=Rt)){if(wh(t))throw Vw(),Error(z(418));for(;e;)jw(t,e),e=kr(e.nextSibling)}if(cy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Dt?kr(t.stateNode.nextSibling):null;return!0}function Vw(){for(var t=Rt;t;)t=kr(t.nextSibling)}function gi(){Rt=Dt=null,Se=!1}function qf(t){Jt===null?Jt=[t]:Jt.push(t)}var WS=Gn.ReactCurrentBatchConfig;function ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function hl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dy(t){var e=t._init;return e(t._payload)}function zw(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=xr(_,v),_.index=0,_.sibling=null,_}function i(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,b,A){return v===null||v.tag!==6?(v=Sd(b,_.mode,A),v.return=_,v):(v=s(v,b),v.return=_,v)}function u(_,v,b,A){var M=b.type;return M===qs?h(_,v,b.props.children,A,b.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===or&&dy(M)===v.type)?(A=s(v,b.props),A.ref=ua(_,v,b),A.return=_,A):(A=Ul(b.type,b.key,b.props,null,_.mode,A),A.ref=ua(_,v,b),A.return=_,A)}function c(_,v,b,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Cd(b,_.mode,A),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function h(_,v,b,A,M){return v===null||v.tag!==7?(v=is(b,_.mode,A,M),v.return=_,v):(v=s(v,b),v.return=_,v)}function p(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sd(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tl:return b=Ul(v.type,v.key,v.props,null,_.mode,b),b.ref=ua(_,null,v),b.return=_,b;case Bs:return v=Cd(v,_.mode,b),v.return=_,v;case or:var A=v._init;return p(_,A(v._payload),b)}if(ga(v)||sa(v))return v=is(v,_.mode,b,null),v.return=_,v;hl(_,v)}return null}function m(_,v,b,A){var M=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:l(_,v,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tl:return b.key===M?u(_,v,b,A):null;case Bs:return b.key===M?c(_,v,b,A):null;case or:return M=b._init,m(_,v,M(b._payload),A)}if(ga(b)||sa(b))return M!==null?null:h(_,v,b,A,null);hl(_,b)}return null}function C(_,v,b,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(b)||null,l(v,_,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tl:return _=_.get(A.key===null?b:A.key)||null,u(v,_,A,M);case Bs:return _=_.get(A.key===null?b:A.key)||null,c(v,_,A,M);case or:var L=A._init;return C(_,v,b,L(A._payload),M)}if(ga(A)||sa(A))return _=_.get(b)||null,h(v,_,A,M,null);hl(v,A)}return null}function T(_,v,b,A){for(var M=null,L=null,w=v,g=v=0,E=null;w!==null&&g<b.length;g++){w.index>g?(E=w,w=null):E=w.sibling;var S=m(_,w,b[g],A);if(S===null){w===null&&(w=E);break}t&&w&&S.alternate===null&&e(_,w),v=i(S,v,g),L===null?M=S:L.sibling=S,L=S,w=E}if(g===b.length)return n(_,w),Se&&Gr(_,g),M;if(w===null){for(;g<b.length;g++)w=p(_,b[g],A),w!==null&&(v=i(w,v,g),L===null?M=w:L.sibling=w,L=w);return Se&&Gr(_,g),M}for(w=r(_,w);g<b.length;g++)E=C(w,_,g,b[g],A),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?g:E.key),v=i(E,v,g),L===null?M=E:L.sibling=E,L=E);return t&&w.forEach(function(N){return e(_,N)}),Se&&Gr(_,g),M}function I(_,v,b,A){var M=sa(b);if(typeof M!="function")throw Error(z(150));if(b=M.call(b),b==null)throw Error(z(151));for(var L=M=null,w=v,g=v=0,E=null,S=b.next();w!==null&&!S.done;g++,S=b.next()){w.index>g?(E=w,w=null):E=w.sibling;var N=m(_,w,S.value,A);if(N===null){w===null&&(w=E);break}t&&w&&N.alternate===null&&e(_,w),v=i(N,v,g),L===null?M=N:L.sibling=N,L=N,w=E}if(S.done)return n(_,w),Se&&Gr(_,g),M;if(w===null){for(;!S.done;g++,S=b.next())S=p(_,S.value,A),S!==null&&(v=i(S,v,g),L===null?M=S:L.sibling=S,L=S);return Se&&Gr(_,g),M}for(w=r(_,w);!S.done;g++,S=b.next())S=C(w,_,g,S.value,A),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?g:S.key),v=i(S,v,g),L===null?M=S:L.sibling=S,L=S);return t&&w.forEach(function(R){return e(_,R)}),Se&&Gr(_,g),M}function O(_,v,b,A){if(typeof b=="object"&&b!==null&&b.type===qs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tl:e:{for(var M=b.key,L=v;L!==null;){if(L.key===M){if(M=b.type,M===qs){if(L.tag===7){n(_,L.sibling),v=s(L,b.props.children),v.return=_,_=v;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===or&&dy(M)===L.type){n(_,L.sibling),v=s(L,b.props),v.ref=ua(_,L,b),v.return=_,_=v;break e}n(_,L);break}else e(_,L);L=L.sibling}b.type===qs?(v=is(b.props.children,_.mode,A,b.key),v.return=_,_=v):(A=Ul(b.type,b.key,b.props,null,_.mode,A),A.ref=ua(_,v,b),A.return=_,_=A)}return a(_);case Bs:e:{for(L=b.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Cd(b,_.mode,A),v.return=_,_=v}return a(_);case or:return L=b._init,O(_,v,L(b._payload),A)}if(ga(b))return T(_,v,b,A);if(sa(b))return I(_,v,b,A);hl(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Sd(b,_.mode,A),v.return=_,_=v),a(_)):n(_,v)}return O}var yi=zw(!0),$w=zw(!1),cu=jr(null),du=null,Js=null,Hf=null;function Kf(){Hf=Js=du=null}function Wf(t){var e=cu.current;Te(cu),t._currentValue=e}function _h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oi(t,e){du=t,Hf=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Hf!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(du===null)throw Error(z(308));Js=t,du.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Zr=null;function Gf(t){Zr===null?Zr=[t]:Zr.push(t)}function Bw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gf(e)):(n.next=s.next,s.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zn(t,n)}return s=r.interleaved,s===null?(e.next=e,Gf(r)):(e.next=s.next,s.next=e),r.interleaved=e,zn(t,n)}function Rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}function hy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hu(t,e,n,r){var s=t.updateQueue;lr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,h=c=u=null,l=i;do{var m=l.lane,C=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,I=l;switch(m=e,C=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){p=T.call(C,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,m=typeof T=="function"?T.call(C,p,m):T,m==null)break e;p=Ie({},p,m);break e;case 2:lr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else C={eventTime:C,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=C,u=p):h=h.next=C,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hs|=a,t.lanes=a,t.memoizedState=p}}function fy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var To={},fn=jr(To),Xa=jr(To),Ja=jr(To);function es(t){if(t===To)throw Error(z(174));return t}function Yf(t,e){switch(be(Ja,e),be(Xa,t),be(fn,To),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}Te(fn),be(fn,e)}function vi(){Te(fn),Te(Xa),Te(Ja)}function Hw(t){es(Ja.current);var e=es(fn.current),n=nh(e,t.type);e!==n&&(be(Xa,t),be(fn,n))}function Xf(t){Xa.current===t&&(Te(fn),Te(Xa))}var Ce=jr(0);function fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function Jf(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var Pl=Gn.ReactCurrentDispatcher,wd=Gn.ReactCurrentBatchConfig,ds=0,xe=null,ze=null,We=null,pu=!1,Oa=!1,Za=0,GS=0;function at(){throw Error(z(321))}function Zf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function ep(t,e,n,r,s,i){if(ds=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pl.current=t===null||t.memoizedState===null?JS:ZS,t=n(r,s),Oa){i=0;do{if(Oa=!1,Za=0,25<=i)throw Error(z(301));i+=1,We=ze=null,e.updateQueue=null,Pl.current=eC,t=n(r,s)}while(Oa)}if(Pl.current=mu,e=ze!==null&&ze.next!==null,ds=0,We=ze=xe=null,pu=!1,e)throw Error(z(300));return t}function tp(){var t=Za!==0;return Za=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?xe.memoizedState=We=t:We=We.next=t,We}function Kt(){if(ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=We===null?xe.memoizedState:We.next;if(e!==null)We=e,ze=t;else{if(t===null)throw Error(z(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},We===null?xe.memoizedState=We=t:We=We.next=t}return We}function eo(t,e){return typeof e=="function"?e(t):e}function Ed(t){var e=Kt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,u=null,c=i;do{var h=c.lane;if((ds&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,a=r):u=u.next=p,xe.lanes|=h,hs|=h}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=l,on(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,hs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _d(t){var e=Kt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);on(i,e.memoizedState)||(St=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Kw(){}function Ww(t,e){var n=xe,r=Kt(),s=e(),i=!on(r.memoizedState,s);if(i&&(r.memoizedState=s,St=!0),r=r.queue,np(Yw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,to(9,Qw.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(z(349));ds&30||Gw(n,e,s)}return s}function Gw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qw(t,e,n,r){e.value=n,e.getSnapshot=r,Xw(e)&&Jw(t)}function Yw(t,e,n){return n(function(){Xw(e)&&Jw(t)})}function Xw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function Jw(t){var e=zn(t,1);e!==null&&sn(e,t,1,-1)}function py(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t},e.queue=t,t=t.dispatch=XS.bind(null,xe,t),[e.memoizedState,t]}function to(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zw(){return Kt().memoizedState}function Dl(t,e,n,r){var s=un();xe.flags|=t,s.memoizedState=to(1|e,n,void 0,r===void 0?null:r)}function Zu(t,e,n,r){var s=Kt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var a=ze.memoizedState;if(i=a.destroy,r!==null&&Zf(r,a.deps)){s.memoizedState=to(e,n,i,r);return}}xe.flags|=t,s.memoizedState=to(1|e,n,i,r)}function my(t,e){return Dl(8390656,8,t,e)}function np(t,e){return Zu(2048,8,t,e)}function e0(t,e){return Zu(4,2,t,e)}function t0(t,e){return Zu(4,4,t,e)}function n0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r0(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4,4,n0.bind(null,e,t),n)}function rp(){}function s0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function i0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a0(t,e,n){return ds&21?(on(n,e)||(n=dw(),xe.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function QS(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=wd.transition;wd.transition={};try{t(!1),e()}finally{he=n,wd.transition=r}}function o0(){return Kt().memoizedState}function YS(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l0(t))u0(e,n);else if(n=Bw(t,e,n,r),n!==null){var s=vt();sn(n,t,r,s),c0(n,e,r)}}function XS(t,e,n){var r=Cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l0(t))u0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,on(l,a)){var u=e.interleaved;u===null?(s.next=s,Gf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Bw(t,e,s,r),n!==null&&(s=vt(),sn(n,t,r,s),c0(n,e,r))}}function l0(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function u0(t,e){Oa=pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}var mu={readContext:Ht,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},JS={readContext:Ht,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:my,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dl(4194308,4,n0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dl(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YS.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:py,useDebugValue:rp,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=py(!1),e=t[0];return t=QS.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,s=un();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ge===null)throw Error(z(349));ds&30||Gw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,my(Yw.bind(null,r,i,t),[t]),r.flags|=2048,to(9,Qw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=un(),e=Ge.identifierPrefix;if(Se){var n=Nn,r=In;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZS={readContext:Ht,useCallback:s0,useContext:Ht,useEffect:np,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:Ed,useRef:Zw,useState:function(){return Ed(eo)},useDebugValue:rp,useDeferredValue:function(t){var e=Kt();return a0(e,ze.memoizedState,t)},useTransition:function(){var t=Ed(eo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Kw,useSyncExternalStore:Ww,useId:o0,unstable_isNewReconciler:!1},eC={readContext:Ht,useCallback:s0,useContext:Ht,useEffect:np,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:_d,useRef:Zw,useState:function(){return _d(eo)},useDebugValue:rp,useDeferredValue:function(t){var e=Kt();return ze===null?e.memoizedState=t:a0(e,ze.memoizedState,t)},useTransition:function(){var t=_d(eo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Kw,useSyncExternalStore:Ww,useId:o0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ec={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Cr(t),i=Pn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tr(t,i,s),e!==null&&(sn(e,t,s,r),Rl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Cr(t),i=Pn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tr(t,i,s),e!==null&&(sn(e,t,s,r),Rl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Cr(t),s=Pn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tr(t,s,r),e!==null&&(sn(e,t,r,n),Rl(e,t,r))}};function gy(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Wa(n,r)||!Wa(s,i):!0}function d0(t,e,n){var r=!1,s=Dr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=xt(e)?us:ht.current,r=e.contextTypes,i=(r=r!=null)?mi(t,s):Dr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ec,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ec.enqueueReplaceState(e,e.state,null)}function Th(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Qf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=xt(e)?us:ht.current,s.context=mi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ec.enqueueReplaceState(s,s.state,null),hu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bi(t,e){try{var n="",r=e;do n+=IT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function h0(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yu||(yu=!0,Dh=r),Sh(t,e)},n}function f0(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sh(t,e),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function vy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mC.bind(null,t,e,n),e.then(t,t))}function by(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,Tr(n,e,1))),n.lanes|=1),t)}var nC=Gn.ReactCurrentOwner,St=!1;function gt(t,e,n,r){e.child=t===null?$w(e,null,n,r):yi(e,t.child,n,r)}function Ey(t,e,n,r,s){n=n.render;var i=e.ref;return oi(e,s),r=ep(t,e,n,r,i,s),n=tp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Se&&n&&$f(e),e.flags|=1,gt(t,e,r,s),e.child)}function _y(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,p0(t,e,i,r,s)):(t=Ul(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(a,r)&&t.ref===e.ref)return $n(t,e,s)}return e.flags|=1,t=xr(i,r),t.ref=e.ref,t.return=e,e.child=t}function p0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wa(i,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,$n(t,e,s)}return Ch(t,e,n,r,s)}function m0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ei,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(ei,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(ei,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(ei,At),At|=r;return gt(t,e,s,n),e.child}function g0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,n,r,s){var i=xt(n)?us:ht.current;return i=mi(e,i),oi(e,s),n=ep(t,e,n,r,i,s),r=tp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Se&&r&&$f(e),e.flags|=1,gt(t,e,n,s),e.child)}function ky(t,e,n,r,s){if(xt(n)){var i=!0;ou(e)}else i=!1;if(oi(e,s),e.stateNode===null)Ll(t,e),d0(e,n,r),Th(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=xt(n)?us:ht.current,c=mi(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&yy(e,a,r,c),lr=!1;var m=e.memoizedState;a.state=m,hu(e,r,a,s),u=e.memoizedState,l!==r||m!==u||Ct.current||lr?(typeof h=="function"&&(kh(e,n,h,r),u=e.memoizedState),(l=lr||gy(e,n,l,r,m,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Yt(e.type,l),a.props=c,p=e.pendingProps,m=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ht(u):(u=xt(n)?us:ht.current,u=mi(e,u));var C=n.getDerivedStateFromProps;(h=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==u)&&yy(e,a,r,u),lr=!1,m=e.memoizedState,a.state=m,hu(e,r,a,s);var T=e.memoizedState;l!==p||m!==T||Ct.current||lr?(typeof C=="function"&&(kh(e,n,C,r),T=e.memoizedState),(c=lr||gy(e,n,c,r,m,T,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return xh(t,e,n,r,i,s)}function xh(t,e,n,r,s,i){g0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ly(e,n,!1),$n(t,e,i);r=e.stateNode,nC.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=yi(e,t.child,null,i),e.child=yi(e,null,l,i)):gt(t,e,l,i),e.memoizedState=r.state,s&&ly(e,n,!0),e.child}function y0(t){var e=t.stateNode;e.pendingContext?oy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oy(t,e.context,!1),Yf(t,e.containerInfo)}function Ty(t,e,n,r,s){return gi(),qf(s),e.flags|=256,gt(t,e,n,r),e.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Nh(t){return{baseLanes:t,cachePool:null,transitions:null}}function v0(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(Ce,s&1),t===null)return Eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=rc(a,r,0,null),t=is(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nh(n),e.memoizedState=Ih,t):sp(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rC(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=xr(l,i):(i=is(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Nh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Ih,r}return i=t.child,t=i.sibling,r=xr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sp(t,e){return e=rc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fl(t,e,n,r){return r!==null&&qf(r),yi(e,t.child,null,n),t=sp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rC(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=kd(Error(z(422))),fl(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=rc({mode:"visible",children:r.children},s,0,null),i=is(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&yi(e,t.child,null,a),e.child.memoizedState=Nh(a),e.memoizedState=Ih,i);if(!(e.mode&1))return fl(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=kd(i,r,void 0),fl(t,e,a,r)}if(l=(a&t.childLanes)!==0,St||l){if(r=Ge,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(t,s),sn(r,t,s,-1))}return cp(),r=kd(Error(z(421))),fl(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rt=kr(s.nextSibling),Dt=e,Se=!0,Jt=null,t!==null&&(jt[Vt++]=In,jt[Vt++]=Nn,jt[Vt++]=cs,In=t.id,Nn=t.overflow,cs=e),e=sp(e,r.children),e.flags|=4096,e)}function Sy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_h(t.return,e,n)}function Td(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function b0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sy(t,n,e);else if(t.tag===19)Sy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Td(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Td(e,!0,n,null,i);break;case"together":Td(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sC(t,e,n){switch(e.tag){case 3:y0(e),gi();break;case 5:Hw(e);break;case 1:xt(e.type)&&ou(e);break;case 4:Yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(cu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?v0(t,e,n):(be(Ce,Ce.current&1),t=$n(t,e,n),t!==null?t.sibling:null);be(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return b0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,m0(t,e,n)}return $n(t,e,n)}var w0,Oh,E0,_0;w0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oh=function(){};E0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,es(fn.current);var i=null;switch(n){case"input":s=Jd(t,s),r=Jd(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=th(t,s),r=th(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=iu)}rh(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Va.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Va.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};_0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ca(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iC(t,e,n){var r=e.pendingProps;switch(Bf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return xt(e.type)&&au(),ot(e),null;case 3:return r=e.stateNode,vi(),Te(Ct),Te(ht),Jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(Fh(Jt),Jt=null))),Oh(t,e),ot(e),null;case 5:Xf(e);var s=es(Ja.current);if(n=e.type,t!==null&&e.stateNode!=null)E0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ot(e),null}if(t=es(fn.current),dl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dn]=e,r[Ya]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<va.length;s++)ke(va[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Dg(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":Mg(r,i),ke("invalid",r)}rh(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&cl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cl(r.textContent,l,t),s=["children",""+l]):Va.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":nl(r),Lg(r,i,!0);break;case"textarea":nl(r),Fg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=iu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[dn]=e,t[Ya]=r,w0(t,e,!1,!1),e.stateNode=t;e:{switch(a=sh(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<va.length;s++)ke(va[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":Dg(t,r),s=Jd(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Mg(t,r),s=th(t,r),ke("invalid",t);break;default:s=r}rh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Zb(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xb(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&za(t,u):typeof u=="number"&&za(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Va.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ke("scroll",t):u!=null&&If(t,i,u,a))}switch(n){case"input":nl(t),Lg(t,r,!1);break;case"textarea":nl(t),Fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ri(t,!!r.multiple,i,!1):r.defaultValue!=null&&ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)_0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=es(Ja.current),es(fn.current),dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(i=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:cl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return ot(e),null;case 13:if(Te(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Rt!==null&&e.mode&1&&!(e.flags&128))Vw(),gi(),e.flags|=98560,i=!1;else if(i=dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[dn]=e}else gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else Jt!==null&&(Fh(Jt),Jt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Be===0&&(Be=3):cp())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return vi(),Oh(t,e),t===null&&Ga(e.stateNode.containerInfo),ot(e),null;case 10:return Wf(e.type._context),ot(e),null;case 17:return xt(e.type)&&au(),ot(e),null;case 19:if(Te(Ce),i=e.memoizedState,i===null)return ot(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ca(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fu(t),a!==null){for(e.flags|=128,ca(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>wi&&(e.flags|=128,r=!0,ca(i,!1),e.lanes=4194304)}else{if(!r)if(t=fu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Se)return ot(e),null}else 2*Le()-i.renderingStartTime>wi&&n!==1073741824&&(e.flags|=128,r=!0,ca(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Ce.current,be(Ce,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return up(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function aC(t,e){switch(Bf(e),e.tag){case 1:return xt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vi(),Te(Ct),Te(ht),Jf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xf(e),null;case 13:if(Te(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ce),null;case 4:return vi(),null;case 10:return Wf(e.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var pl=!1,ct=!1,oC=typeof WeakSet=="function"?WeakSet:Set,B=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function k0(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var Cy=!1;function lC(t,e){if(ph=nu,t=xw(),zf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,p=t,m=null;t:for(;;){for(var C;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(C=p.firstChild)!==null;)m=p,p=C;for(;;){if(p===t)break t;if(m===n&&++c===s&&(l=a),m===i&&++h===r&&(u=a),(C=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:t,selectionRange:n},nu=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,O=T.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:Yt(e.type,I),O);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){Ae(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return T=Cy,Cy=!1,T}function Aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&k0(e,n,i)}s=s.next}while(s!==r)}}function tc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ah(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T0(t){var e=t.alternate;e!==null&&(t.alternate=null,T0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[Ya],delete e[vh],delete e[qS],delete e[HS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S0(t){return t.tag===5||t.tag===3||t.tag===4}function xy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=iu));else if(r!==4&&(t=t.child,t!==null))for(Rh(t,e,n),t=t.sibling;t!==null;)Rh(t,e,n),t=t.sibling}function Ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ph(t,e,n),t=t.sibling;t!==null;)Ph(t,e,n),t=t.sibling}var Xe=null,Xt=!1;function sr(t,e,n){for(n=n.child;n!==null;)C0(t,e,n),n=n.sibling}function C0(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:ct||Zs(n,e);case 6:var r=Xe,s=Xt;Xe=null,sr(t,e,n),Xe=r,Xt=s,Xe!==null&&(Xt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Xt?(t=Xe,n=n.stateNode,t.nodeType===8?yd(t.parentNode,n):t.nodeType===1&&yd(t,n),Ha(t)):yd(Xe,n.stateNode));break;case 4:r=Xe,s=Xt,Xe=n.stateNode.containerInfo,Xt=!0,sr(t,e,n),Xe=r,Xt=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&k0(n,e,a),s=s.next}while(s!==r)}sr(t,e,n);break;case 1:if(!ct&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,e,l)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,sr(t,e,n),ct=r):sr(t,e,n);break;default:sr(t,e,n)}}function Iy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oC),e.forEach(function(r){var s=yC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Xt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Xt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Xe===null)throw Error(z(160));C0(i,a,s),Xe=null,Xt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ae(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x0(e,t),e=e.sibling}function x0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),ln(t),r&4){try{Aa(3,t,t.return),tc(3,t)}catch(I){Ae(t,t.return,I)}try{Aa(5,t,t.return)}catch(I){Ae(t,t.return,I)}}break;case 1:Qt(e,t),ln(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Qt(e,t),ln(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var s=t.stateNode;try{za(s,"")}catch(I){Ae(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Gb(s,i),sh(l,a);var c=sh(l,i);for(a=0;a<u.length;a+=2){var h=u[a],p=u[a+1];h==="style"?Zb(s,p):h==="dangerouslySetInnerHTML"?Xb(s,p):h==="children"?za(s,p):If(s,h,p,c)}switch(l){case"input":Zd(s,i);break;case"textarea":Qb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var C=i.value;C!=null?ri(s,!!i.multiple,C,!1):m!==!!i.multiple&&(i.defaultValue!=null?ri(s,!!i.multiple,i.defaultValue,!0):ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ya]=i}catch(I){Ae(t,t.return,I)}}break;case 6:if(Qt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Ae(t,t.return,I)}}break;case 3:if(Qt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(e.containerInfo)}catch(I){Ae(t,t.return,I)}break;case 4:Qt(e,t),ln(t);break;case 13:Qt(e,t),ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(op=Le())),r&4&&Iy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||h,Qt(e,t),ct=c):Qt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(B=t,h=t.child;h!==null;){for(p=B=h;B!==null;){switch(m=B,C=m.child,m.tag){case 0:case 11:case 14:case 15:Aa(4,m,m.return);break;case 1:Zs(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(I){Ae(r,n,I)}}break;case 5:Zs(m,m.return);break;case 22:if(m.memoizedState!==null){Oy(p);continue}}C!==null?(C.return=m,B=C):Oy(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Jb("display",a))}catch(I){Ae(t,t.return,I)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(I){Ae(t,t.return,I)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qt(e,t),ln(t),r&4&&Iy(t);break;case 21:break;default:Qt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S0(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(za(s,""),r.flags&=-33);var i=xy(t);Ph(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=xy(t);Rh(t,l,a);break;default:throw Error(z(161))}}catch(u){Ae(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uC(t,e,n){B=t,I0(t)}function I0(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||pl;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ct;l=pl;var c=ct;if(pl=a,(ct=u)&&!c)for(B=s;B!==null;)a=B,u=a.child,a.tag===22&&a.memoizedState!==null?Ay(s):u!==null?(u.return=a,B=u):Ay(s);for(;i!==null;)B=i,I0(i),i=i.sibling;B=s,pl=l,ct=c}Ny(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):Ny(t)}}function Ny(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||tc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fy(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fy(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Ha(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ct||e.flags&512&&Ah(e)}catch(m){Ae(e,e.return,m)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Oy(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Ay(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tc(4,e)}catch(u){Ae(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ae(e,s,u)}}var i=e.return;try{Ah(e)}catch(u){Ae(e,i,u)}break;case 5:var a=e.return;try{Ah(e)}catch(u){Ae(e,a,u)}}}catch(u){Ae(e,e.return,u)}if(e===t){B=null;break}var l=e.sibling;if(l!==null){l.return=e.return,B=l;break}B=e.return}}var cC=Math.ceil,gu=Gn.ReactCurrentDispatcher,ip=Gn.ReactCurrentOwner,Bt=Gn.ReactCurrentBatchConfig,le=0,Ge=null,Fe=null,et=0,At=0,ei=jr(0),Be=0,no=null,hs=0,nc=0,ap=0,Ra=null,kt=null,op=0,wi=1/0,kn=null,yu=!1,Dh=null,Sr=null,ml=!1,gr=null,vu=0,Pa=0,Lh=null,Ml=-1,Fl=0;function vt(){return le&6?Le():Ml!==-1?Ml:Ml=Le()}function Cr(t){return t.mode&1?le&2&&et!==0?et&-et:WS.transition!==null?(Fl===0&&(Fl=dw()),Fl):(t=he,t!==0||(t=window.event,t=t===void 0?16:vw(t.type)),t):1}function sn(t,e,n,r){if(50<Pa)throw Pa=0,Lh=null,Error(z(185));Eo(t,n,r),(!(le&2)||t!==Ge)&&(t===Ge&&(!(le&2)&&(nc|=n),Be===4&&dr(t,et)),It(t,r),n===1&&le===0&&!(e.mode&1)&&(wi=Le()+500,Ju&&Vr()))}function It(t,e){var n=t.callbackNode;WT(t,e);var r=tu(t,t===Ge?et:0);if(r===0)n!==null&&Vg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vg(n),e===1)t.tag===0?KS(Ry.bind(null,t)):Fw(Ry.bind(null,t)),$S(function(){!(le&6)&&Vr()}),n=null;else{switch(hw(r)){case 1:n=Pf;break;case 4:n=uw;break;case 16:n=eu;break;case 536870912:n=cw;break;default:n=eu}n=M0(n,N0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N0(t,e){if(Ml=-1,Fl=0,le&6)throw Error(z(327));var n=t.callbackNode;if(li()&&t.callbackNode!==n)return null;var r=tu(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bu(t,r);else{e=r;var s=le;le|=2;var i=A0();(Ge!==t||et!==e)&&(kn=null,wi=Le()+500,ss(t,e));do try{fC();break}catch(l){O0(t,l)}while(!0);Kf(),gu.current=i,le=s,Fe!==null?e=0:(Ge=null,et=0,e=Be)}if(e!==0){if(e===2&&(s=uh(t),s!==0&&(r=s,e=Mh(t,s))),e===1)throw n=no,ss(t,0),dr(t,r),It(t,Le()),n;if(e===6)dr(t,r);else{if(s=t.current.alternate,!(r&30)&&!dC(s)&&(e=bu(t,r),e===2&&(i=uh(t),i!==0&&(r=i,e=Mh(t,i))),e===1))throw n=no,ss(t,0),dr(t,r),It(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Qr(t,kt,kn);break;case 3:if(dr(t,r),(r&130023424)===r&&(e=op+500-Le(),10<e)){if(tu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yh(Qr.bind(null,t,kt,kn),e);break}Qr(t,kt,kn);break;case 4:if(dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-rn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cC(r/1960))-r,10<r){t.timeoutHandle=yh(Qr.bind(null,t,kt,kn),r);break}Qr(t,kt,kn);break;case 5:Qr(t,kt,kn);break;default:throw Error(z(329))}}}return It(t,Le()),t.callbackNode===n?N0.bind(null,t):null}function Mh(t,e){var n=Ra;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=bu(t,e),t!==2&&(e=kt,kt=n,e!==null&&Fh(e)),t}function Fh(t){kt===null?kt=t:kt.push.apply(kt,t)}function dC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!on(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~ap,e&=~nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function Ry(t){if(le&6)throw Error(z(327));li();var e=tu(t,0);if(!(e&1))return It(t,Le()),null;var n=bu(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=Mh(t,r))}if(n===1)throw n=no,ss(t,0),dr(t,e),It(t,Le()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,kt,kn),It(t,Le()),null}function lp(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(wi=Le()+500,Ju&&Vr())}}function fs(t){gr!==null&&gr.tag===0&&!(le&6)&&li();var e=le;le|=1;var n=Bt.transition,r=he;try{if(Bt.transition=null,he=1,t)return t()}finally{he=r,Bt.transition=n,le=e,!(le&6)&&Vr()}}function up(){At=ei.current,Te(ei)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zS(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:vi(),Te(Ct),Te(ht),Jf();break;case 5:Xf(r);break;case 4:vi();break;case 13:Te(Ce);break;case 19:Te(Ce);break;case 10:Wf(r.type._context);break;case 22:case 23:up()}n=n.return}if(Ge=t,Fe=t=xr(t.current,null),et=At=e,Be=0,no=null,ap=nc=hs=0,kt=Ra=null,Zr!==null){for(e=0;e<Zr.length;e++)if(n=Zr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Zr=null}return t}function O0(t,e){do{var n=Fe;try{if(Kf(),Pl.current=mu,pu){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pu=!1}if(ds=0,We=ze=xe=null,Oa=!1,Za=0,ip.current=null,n===null||n.return===null){Be=1,no=e,Fe=null;break}e:{var i=t,a=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var C=by(a);if(C!==null){C.flags&=-257,wy(C,a,l,i,e),C.mode&1&&vy(i,c,e),e=C,u=c;var T=e.updateQueue;if(T===null){var I=new Set;I.add(u),e.updateQueue=I}else T.add(u);break e}else{if(!(e&1)){vy(i,c,e),cp();break e}u=Error(z(426))}}else if(Se&&l.mode&1){var O=by(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),wy(O,a,l,i,e),qf(bi(u,l));break e}}i=u=bi(u,l),Be!==4&&(Be=2),Ra===null?Ra=[i]:Ra.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=h0(i,u,e);hy(i,_);break e;case 1:l=u;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Sr===null||!Sr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=f0(i,l,e);hy(i,A);break e}}i=i.return}while(i!==null)}P0(n)}catch(M){e=M,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function A0(){var t=gu.current;return gu.current=mu,t===null?mu:t}function cp(){(Be===0||Be===3||Be===2)&&(Be=4),Ge===null||!(hs&268435455)&&!(nc&268435455)||dr(Ge,et)}function bu(t,e){var n=le;le|=2;var r=A0();(Ge!==t||et!==e)&&(kn=null,ss(t,e));do try{hC();break}catch(s){O0(t,s)}while(!0);if(Kf(),le=n,gu.current=r,Fe!==null)throw Error(z(261));return Ge=null,et=0,Be}function hC(){for(;Fe!==null;)R0(Fe)}function fC(){for(;Fe!==null&&!UT();)R0(Fe)}function R0(t){var e=L0(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?P0(t):Fe=e,ip.current=null}function P0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aC(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Fe=null;return}}else if(n=iC(n,e,At),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Be===0&&(Be=5)}function Qr(t,e,n){var r=he,s=Bt.transition;try{Bt.transition=null,he=1,pC(t,e,n,r)}finally{Bt.transition=s,he=r}return null}function pC(t,e,n,r){do li();while(gr!==null);if(le&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GT(t,i),t===Ge&&(Fe=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ml||(ml=!0,M0(eu,function(){return li(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var a=he;he=1;var l=le;le|=4,ip.current=null,lC(t,n),x0(n,t),DS(mh),nu=!!ph,mh=ph=null,t.current=n,uC(n),jT(),le=l,he=a,Bt.transition=i}else t.current=n;if(ml&&(ml=!1,gr=t,vu=s),i=t.pendingLanes,i===0&&(Sr=null),$T(n.stateNode),It(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,t=Dh,Dh=null,t;return vu&1&&t.tag!==0&&li(),i=t.pendingLanes,i&1?t===Lh?Pa++:(Pa=0,Lh=t):Pa=0,Vr(),null}function li(){if(gr!==null){var t=hw(vu),e=Bt.transition,n=he;try{if(Bt.transition=null,he=16>t?16:t,gr===null)var r=!1;else{if(t=gr,gr=null,vu=0,le&6)throw Error(z(331));var s=le;for(le|=4,B=t.current;B!==null;){var i=B,a=i.child;if(B.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(B=c;B!==null;){var h=B;switch(h.tag){case 0:case 11:case 15:Aa(8,h,i)}var p=h.child;if(p!==null)p.return=h,B=p;else for(;B!==null;){h=B;var m=h.sibling,C=h.return;if(T0(h),h===c){B=null;break}if(m!==null){m.return=C,B=m;break}B=C}}}var T=i.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var O=I.sibling;I.sibling=null,I=O}while(I!==null)}}B=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,B=a;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,B=_;break e}B=i.return}}var v=t.current;for(B=v;B!==null;){a=B;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,B=b;else e:for(a=v;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tc(9,l)}}catch(M){Ae(l,l.return,M)}if(l===a){B=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,B=A;break e}B=l.return}}if(le=s,Vr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Wu,t)}catch{}r=!0}return r}finally{he=n,Bt.transition=e}}return!1}function Py(t,e,n){e=bi(n,e),e=h0(t,e,1),t=Tr(t,e,1),e=vt(),t!==null&&(Eo(t,1,e),It(t,e))}function Ae(t,e,n){if(t.tag===3)Py(t,t,n);else for(;e!==null;){if(e.tag===3){Py(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){t=bi(n,t),t=f0(e,t,1),e=Tr(e,t,1),t=vt(),e!==null&&(Eo(e,1,t),It(e,t));break}}e=e.return}}function mC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(Be===4||Be===3&&(et&130023424)===et&&500>Le()-op?ss(t,0):ap|=n),It(t,e)}function D0(t,e){e===0&&(t.mode&1?(e=il,il<<=1,!(il&130023424)&&(il=4194304)):e=1);var n=vt();t=zn(t,e),t!==null&&(Eo(t,e,n),It(t,n))}function gC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D0(t,n)}function yC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),D0(t,n)}var L0;L0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,sC(t,e,n);St=!!(t.flags&131072)}else St=!1,Se&&e.flags&1048576&&Uw(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ll(t,e),t=e.pendingProps;var s=mi(e,ht.current);oi(e,n),s=ep(null,e,r,t,s,n);var i=tp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(i=!0,ou(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qf(e),s.updater=ec,e.stateNode=s,s._reactInternals=e,Th(e,r,t,n),e=xh(null,e,r,!0,i,n)):(e.tag=0,Se&&i&&$f(e),gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ll(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bC(r),t=Yt(r,t),s){case 0:e=Ch(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Ey(null,e,r,t,n);break e;case 14:e=_y(null,e,r,Yt(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ch(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),ky(t,e,r,s,n);case 3:e:{if(y0(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qw(t,e),hu(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bi(Error(z(423)),e),e=Ty(t,e,r,n,s);break e}else if(r!==s){s=bi(Error(z(424)),e),e=Ty(t,e,r,n,s);break e}else for(Rt=kr(e.stateNode.containerInfo.firstChild),Dt=e,Se=!0,Jt=null,n=$w(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===s){e=$n(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return Hw(e),t===null&&Eh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,gh(r,s)?a=null:i!==null&&gh(r,i)&&(e.flags|=32),g0(t,e),gt(t,e,a,n),e.child;case 6:return t===null&&Eh(e),null;case 13:return v0(t,e,n);case 4:return Yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yi(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ey(t,e,r,s,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,be(cu,r._currentValue),r._currentValue=a,i!==null)if(on(i.value,a)){if(i.children===s.children&&!Ct.current){e=$n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Pn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),_h(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_h(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oi(e,n),s=Ht(s),r=r(s),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,s=Yt(r,e.pendingProps),s=Yt(r.type,s),_y(t,e,r,s,n);case 15:return p0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ll(t,e),e.tag=1,xt(r)?(t=!0,ou(e)):t=!1,oi(e,n),d0(e,r,s),Th(e,r,s,n),xh(null,e,r,!0,t,n);case 19:return b0(t,e,n);case 22:return m0(t,e,n)}throw Error(z(156,e.tag))};function M0(t,e){return lw(t,e)}function vC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new vC(t,e,n,r)}function dp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bC(t){if(typeof t=="function")return dp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Of)return 11;if(t===Af)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ul(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")dp(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qs:return is(n.children,s,i,e);case Nf:a=8,s|=8;break;case Gd:return t=$t(12,n,e,s|2),t.elementType=Gd,t.lanes=i,t;case Qd:return t=$t(13,n,e,s),t.elementType=Qd,t.lanes=i,t;case Yd:return t=$t(19,n,e,s),t.elementType=Yd,t.lanes=i,t;case Hb:return rc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bb:a=10;break e;case qb:a=9;break e;case Of:a=11;break e;case Af:a=14;break e;case or:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=$t(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function is(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function rc(t,e,n,r){return t=$t(22,t,r,e),t.elementType=Hb,t.lanes=n,t.stateNode={isHidden:!1},t}function Sd(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Cd(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hp(t,e,n,r,s,i,a,l,u){return t=new wC(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$t(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(i),t}function EC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function F0(t){if(!t)return Dr;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(xt(n))return Mw(t,n,e)}return e}function U0(t,e,n,r,s,i,a,l,u){return t=hp(n,r,!0,t,s,i,a,l,u),t.context=F0(null),n=t.current,r=vt(),s=Cr(n),i=Pn(r,s),i.callback=e??null,Tr(n,i,s),t.current.lanes=s,Eo(t,s,r),It(t,r),t}function sc(t,e,n,r){var s=e.current,i=vt(),a=Cr(s);return n=F0(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tr(s,e,a),t!==null&&(sn(t,s,a,i),Rl(t,s,a)),a}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fp(t,e){Dy(t,e),(t=t.alternate)&&Dy(t,e)}var j0=typeof reportError=="function"?reportError:function(t){console.error(t)};function pp(t){this._internalRoot=t}ic.prototype.render=pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));sc(t,e,null,null)};ic.prototype.unmount=pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){sc(null,t,null,null)}),e[Vn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=mw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&yw(t)}};function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function _C(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=wu(a);i.call(c)}}var a=U0(e,r,t,0,null,!1,!1,"",Ly);return t._reactRootContainer=a,t[Vn]=a.current,Ga(t.nodeType===8?t.parentNode:t),fs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=wu(u);l.call(c)}}var u=hp(t,0,!1,null,null,!1,!1,"",Ly);return t._reactRootContainer=u,t[Vn]=u.current,Ga(t.nodeType===8?t.parentNode:t),fs(function(){sc(e,u,n,r)}),u}function oc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=wu(a);l.call(u)}}sc(e,a,t,s)}else a=_C(n,e,t,s,r);return wu(a)}fw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ya(e.pendingLanes);n!==0&&(Df(e,n|1),It(e,Le()),!(le&6)&&(wi=Le()+500,Vr()))}break;case 13:fs(function(){var r=zn(t,1);if(r!==null){var s=vt();sn(r,t,1,s)}}),fp(t,1)}};Lf=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=vt();sn(e,t,134217728,n)}fp(t,134217728)}};pw=function(t){if(t.tag===13){var e=Cr(t),n=zn(t,e);if(n!==null){var r=vt();sn(n,t,e,r)}fp(t,e)}};mw=function(){return he};gw=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};ah=function(t,e,n){switch(e){case"input":if(Zd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xu(r);if(!s)throw Error(z(90));Wb(r),Zd(r,s)}}}break;case"textarea":Qb(t,n);break;case"select":e=n.value,e!=null&&ri(t,!!n.multiple,e,!1)}};nw=lp;rw=fs;var kC={usingClientEntryPoint:!1,Events:[ko,Gs,Xu,ew,tw,lp]},da={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TC={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aw(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Wu=gl.inject(TC),hn=gl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mp(e))throw Error(z(200));return EC(t,e,null,n)};Ft.createRoot=function(t,e){if(!mp(t))throw Error(z(299));var n=!1,r="",s=j0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hp(t,1,!1,null,null,n,!1,r,s),t[Vn]=e.current,Ga(t.nodeType===8?t.parentNode:t),new pp(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=aw(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return fs(t)};Ft.hydrate=function(t,e,n){if(!ac(e))throw Error(z(200));return oc(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!mp(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=j0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=U0(e,null,t,1,n??null,s,!1,i,a),t[Vn]=e.current,Ga(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ic(e)};Ft.render=function(t,e,n){if(!ac(e))throw Error(z(200));return oc(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!ac(t))throw Error(z(40));return t._reactRootContainer?(fs(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[Vn]=null})}),!0):!1};Ft.unstable_batchedUpdates=lp;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ac(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return oc(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function V0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V0)}catch(t){console.error(t)}}V0(),jb.exports=Ft;var z0=jb.exports;const ti=bo(z0);/**
* @remix-run/router v1.21.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ro.apply(this,arguments)}var yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yr||(yr={}));const My="popstate";function SC(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:l="",hash:u=""}=_s(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Uh("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof i=="string"?i:Eu(i))}function r(s,i){gp(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return xC(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substr(2,8)}function Fy(t,e){return{usr:t.state,key:t.key,idx:e}}function Uh(t,e,n,r){return n===void 0&&(n=null),ro({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||r||CC()})}function Eu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=yr.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(ro({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=yr.Pop;let O=h(),_=O==null?null:O-c;c=O,u&&u({action:l,location:I.location,delta:_})}function m(O,_){l=yr.Push;let v=Uh(I.location,O,_);n(v,O),c=h()+1;let b=Fy(v,c),A=I.createHref(v);try{a.pushState(b,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(A)}i&&u&&u({action:l,location:I.location,delta:1})}function C(O,_){l=yr.Replace;let v=Uh(I.location,O,_);n(v,O),c=h();let b=Fy(v,c),A=I.createHref(v);a.replaceState(b,"",A),i&&u&&u({action:l,location:I.location,delta:0})}function T(O){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof O=="string"?O:Eu(O);return v=v.replace(/ $/,"%20"),Ue(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let I={get action(){return l},get location(){return t(s,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(My,p),u=O,()=>{s.removeEventListener(My,p),u=null}},createHref(O){return e(s,O)},createURL:T,encodeLocation(O){let _=T(O);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:C,go(O){return a.go(O)}};return I}var Uy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uy||(Uy={}));function IC(t,e,n){return n===void 0&&(n="/"),NC(t,e,n)}function NC(t,e,n,r){let s=typeof e=="string"?_s(e):e,i=yp(s.pathname||"/",n);if(i==null)return null;let a=$0(t);OC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=$C(i);l=jC(a[u],c)}return l}function $0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ir([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$0(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:FC(c,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of B0(i.path))s(i,a,u)}),e}function B0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=B0(r.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function OC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AC=/^:[\w-]+$/,RC=3,PC=2,DC=1,LC=10,MC=-2,jy=t=>t==="*";function FC(t,e){let n=t.split("/"),r=n.length;return n.some(jy)&&(r+=MC),e&&(r+=PC),n.filter(s=>!jy(s)).reduce((s,i)=>s+(AC.test(i)?RC:i===""?DC:LC),r)}function UC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function jC(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=VC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Ir([i,p.pathname]),pathnameBase:KC(Ir([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ir([i,p.pathnameBase]))}return a}function VC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let T=l[h]||"";a=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const C=l[h];return m&&!C?u[p]=void 0:u[p]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function zC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_s(t):t;return{pathname:n?n.startsWith("/")?n:qC(n,e):e,search:WC(r),hash:GC(s)}}function qC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q0(t,e){let n=HC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function H0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_s(t):(s=ro({},t),Ue(!s.pathname||!s.pathname.includes("?"),xd("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),xd("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),xd("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=BC(s,l),c=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),KC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K0=["post","put","patch","delete"];new Set(K0);const YC=["get",...K0];new Set(YC);/**
* React Router v6.28.2
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function so(){return so=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},so.apply(this,arguments)}const vp=k.createContext(null),XC=k.createContext(null),ks=k.createContext(null),lc=k.createContext(null),Ts=k.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=k.createContext(null);function JC(t,e){let{relative:n}=e===void 0?{}:e;So()||Ue(!1);let{basename:r,navigator:s}=k.useContext(ks),{hash:i,pathname:a,search:l}=Y0(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ir([r,a])),s.createHref({pathname:u,search:l,hash:i})}function So(){return k.useContext(lc)!=null}function uc(){return So()||Ue(!1),k.useContext(lc).location}function G0(t){k.useContext(ks).static||k.useLayoutEffect(t)}function Q0(){let{isDataRoute:t}=k.useContext(Ts);return t?dx():ZC()}function ZC(){So()||Ue(!1);let t=k.useContext(vp),{basename:e,future:n,navigator:r}=k.useContext(ks),{matches:s}=k.useContext(Ts),{pathname:i}=uc(),a=JSON.stringify(q0(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return G0(()=>{l.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=H0(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ir([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,i,t])}function Y0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(ks),{matches:s}=k.useContext(Ts),{pathname:i}=uc(),a=JSON.stringify(q0(s,r.v7_relativeSplatPath));return k.useMemo(()=>H0(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function ex(t,e){return tx(t,e)}function tx(t,e,n,r){So()||Ue(!1);let{navigator:s}=k.useContext(ks),{matches:i}=k.useContext(Ts),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=uc(),h;if(e){var p;let O=typeof e=="string"?_s(e):e;u==="/"||(p=O.pathname)!=null&&p.startsWith(u)||Ue(!1),h=O}else h=c;let m=h.pathname||"/",C=m;if(u!=="/"){let O=u.replace(/^\//,"").split("/");C="/"+m.replace(/^\//,"").split("/").slice(O.length).join("/")}let T=IC(t,{pathname:C}),I=ax(T&&T.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Ir([u,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:Ir([u,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),i,n,r);return e&&I?k.createElement(lc.Provider,{value:{location:so({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:yr.Pop}},I):I}function nx(){let t=cx(),e=QC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,null)}const rx=k.createElement(nx,null);let sx=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Ts.Provider,{value:this.props.routeContext},k.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ix(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(vp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ts.Provider,{value:e},r)}function ax(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||Ue(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:C}=n,T=p.route.loader&&m[p.route.id]===void 0&&(!C||C[p.route.id]===void 0);if(p.route.lazy||T){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let C,T=!1,I=null,O=null;n&&(C=l&&p.route.id?l[p.route.id]:void 0,I=p.route.errorElement||rx,u&&(c<0&&m===0?(T=!0,O=null):c===m&&(T=!0,O=p.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,m+1)),v=()=>{let b;return C?b=I:T?b=O:p.route.Component?b=k.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=h,k.createElement(ix,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?k.createElement(sx,{location:n.location,revalidation:n.revalidation,component:I,error:C,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var X0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(X0||{}),_u=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_u||{});function ox(t){let e=k.useContext(vp);return e||Ue(!1),e}function lx(t){let e=k.useContext(XC);return e||Ue(!1),e}function ux(t){let e=k.useContext(Ts);return e||Ue(!1),e}function J0(t){let e=ux(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function cx(){var t;let e=k.useContext(W0),n=lx(_u.UseRouteError),r=J0(_u.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dx(){let{router:t}=ox(X0.UseNavigateStable),e=J0(_u.UseNavigateStable),n=k.useRef(!1);return G0(()=>{n.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,so({fromRouteId:e},s)))},[t,e])}const Vy={};function hx(t,e){Vy[e]||(Vy[e]=!0,console.warn(e))}const zy=(t,e,n)=>hx(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function fx(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&zy("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&zy("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function px(t){Ue(!1)}function mx(t){let{basename:e="/",children:n=null,location:r,navigationType:s=yr.Pop,navigator:i,static:a=!1,future:l}=t;So()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:a,future:so({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof r=="string"&&(r=_s(r));let{pathname:h="/",search:p="",hash:m="",state:C=null,key:T="default"}=r,I=k.useMemo(()=>{let O=yp(h,u);return O==null?null:{location:{pathname:O,search:p,hash:m,state:C,key:T},navigationType:s}},[u,h,p,m,C,T,s]);return I==null?null:k.createElement(ks.Provider,{value:c},k.createElement(lc.Provider,{children:n,value:I}))}function gx(t){let{children:e,location:n}=t;return ex(jh(e),n)}new Promise(()=>{});function jh(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,jh(r.props.children,i));return}r.type!==px&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jh(r.props.children,i)),n.push(a)}),n}/**
* React Router DOM v6.28.2
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function yx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function vx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bx(t,e){return t.button===0&&(!e||e==="_self")&&!vx(t)}const wx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ex="6";try{window.__reactRouterVersion=Ex}catch{}const _x="startTransition",$y=ET[_x];function kx(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=SC({window:s,v5Compat:!0}));let a=i.current,[l,u]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=k.useCallback(p=>{c&&$y?$y(()=>u(p)):u(p)},[u,c]);return k.useLayoutEffect(()=>a.listen(h),[a,h]),k.useEffect(()=>fx(r),[r]),k.createElement(mx,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=k.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:s,replace:i,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,p=yx(t,wx),{basename:m}=k.useContext(ks),C,T=!1;if(typeof u=="string"&&Sx.test(u)&&(C=u,Tx))try{let v=new URL(window.location.href),b=u.startsWith("//")?new URL(v.protocol+u):new URL(u),A=yp(b.pathname,m);b.origin===v.origin&&A!=null?u=A+b.search+b.hash:T=!0}catch{}let I=JC(u,{relative:r}),O=Cx(u,{replace:i,state:a,target:l,preventScrollReset:c,relative:r,viewTransition:h});function _(v){n&&n(v),v.defaultPrevented||O(v)}return k.createElement("a",Vh({},p,{href:C||I,onClick:T||s?n:_,ref:e,target:l}))});var By;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(By||(By={}));var qy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function Cx(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,u=Q0(),c=uc(),h=Y0(t,{relative:a});return k.useCallback(p=>{if(bx(p,n)){p.preventDefault();let m=r!==void 0?r:Eu(c)===Eu(h);u(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,h,r,s,n,t,i,a,l])}var Z0={exports:{}},cc={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xx=k,Ix=Symbol.for("react.element"),Nx=Symbol.for("react.fragment"),Ox=Object.prototype.hasOwnProperty,Ax=xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rx={key:!0,ref:!0,__self:!0,__source:!0};function eE(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ox.call(e,r)&&!Rx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ix,type:t,key:i,ref:a,props:s,_owner:Ax.current}}cc.Fragment=Nx;cc.jsx=eE;cc.jsxs=eE;Z0.exports=cc;var F=Z0.exports,tE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)e.call(i,l)&&i[l]&&(a=s(a,l));return a}function s(i,a){return a?i?i+" "+a:i+a:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(tE);var Px=tE.exports;const ue=bo(Px);function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(null,arguments)}function nE(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hy(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Dx(t){var e=Lx(t,"string");return typeof e=="symbol"?e:String(e)}function Lx(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mx(t,e,n){var r=k.useRef(t!==void 0),s=k.useState(e),i=s[0],a=s[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&a(e),[l?t:i,k.useCallback(function(c){for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),a(c)},[n])]}function rE(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,a=i[Hy(r)],l=i[r],u=nE(i,[Hy(r),r].map(Dx)),c=e[r],h=Mx(l,a,t[c]),p=h[0],m=h[1];return zh({},u,(s={},s[r]=p,s[c]=m,s))},t)}function $h(t,e){return $h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$h(t,e)}function Fx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$h(t,e)}const Ux=["xxl","xl","lg","md","sm","xs"],jx="xs",bp=k.createContext({prefixes:{},breakpoints:Ux,minBreakpoint:jx});function ye(t,e){const{prefixes:n}=k.useContext(bp);return t||n[e]||e}function Vx(){const{breakpoints:t}=k.useContext(bp);return t}function zx(){const{minBreakpoint:t}=k.useContext(bp);return t}function wp(t){return t&&t.ownerDocument||document}function $x(t){var e=wp(t);return e&&e.defaultView||window}function Bx(t,e){return $x(t).getComputedStyle(t,e)}var qx=/([A-Z])/g;function Hx(t){return t.replace(qx,"-$1").toLowerCase()}var Kx=/^ms-/;function yl(t){return Hx(t).replace(Kx,"-ms-")}var Wx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Gx(t){return!!(t&&Wx.test(t))}function Dn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(yl(e))||Bx(t).getPropertyValue(yl(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(yl(s)):Gx(s)?r+=s+"("+i+") ":n+=yl(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var sE={exports:{}},Qx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yx=Qx,Xx=Yx;function iE(){}function aE(){}aE.resetWarningCache=iE;var Jx=function(){function t(r,s,i,a,l,u){if(u!==Xx){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aE,resetWarningCache:iE};return n.PropTypes=n,n};sE.exports=Jx();var Zx=sE.exports;const Ln=bo(Zx),Ky={disabled:!1},oE=te.createContext(null);var eI=function(t){return t.scrollTop},ba="unmounted",ur="exited",Zt="entering",Sn="entered",io="exiting",Qn=function(t){Fx(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?l?(u=ur,i.appearStatus=Zt):u=Sn:r.unmountOnExit||r.mountOnEnter?u=ba:u=ur,i.state={status:u},i.nextCallback=null,i}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===ba?{status:ur}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==Zt&&i!==Sn&&(s=Zt):(i===Zt||i===Sn)&&(s=io)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,i,a;return s=i=a=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,a=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:a}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:ti.findDOMNode(this);i&&eI(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ur&&this.setState({status:ba})},n.performEnter=function(r){var s=this,i=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[ti.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!r&&!i||Ky.disabled){this.safeSetState({status:Sn},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Zt},function(){s.props.onEntering(u,c),s.onTransitionEnd(p,function(){s.safeSetState({status:Sn},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:ti.findDOMNode(this);if(!s||Ky.disabled){this.safeSetState({status:ur},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:io},function(){r.props.onExiting(a),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:ur},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:ti.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===ba)return null;var s=this.props,i=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=nE(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return te.createElement(oE.Provider,{value:null},typeof i=="function"?i(r,a):te.cloneElement(te.Children.only(i),a))},e}(te.Component);Qn.contextType=oE;Qn.propTypes={};function Ms(){}Qn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ms,onEntering:Ms,onEntered:Ms,onExit:Ms,onExiting:Ms,onExited:Ms};Qn.UNMOUNTED=ba;Qn.EXITED=ur;Qn.ENTERING=Zt;Qn.ENTERED=Sn;Qn.EXITING=io;function tI(t){return t.code==="Escape"||t.keyCode===27}function nI(){const t=k.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function dc(t){if(!t||typeof t=="function")return null;const{major:e}=nI();return e>=19?t.props.ref:t.ref}const hc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Bh=!1,qh=!1;try{var Id={get passive(){return Bh=!0},get once(){return qh=Bh=!0}};hc&&(window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,!0))}catch{}function rI(t,e,n,r){if(r&&typeof r!="boolean"&&!qh){var s=r.once,i=r.capture,a=n;!qh&&s&&(a=n.__once||function l(u){this.removeEventListener(e,l,i),n.call(this,u)},n.__once=a),t.addEventListener(e,a,Bh?r:i)}t.addEventListener(e,n,r)}function sI(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function ku(t,e,n,r){return rI(t,e,n,r),function(){sI(t,e,n,r)}}function iI(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function aI(t){var e=Dn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function oI(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||iI(t,"transitionend",!0)},e+n),i=ku(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function lI(t,e,n,r){n==null&&(n=aI(t)||0);var s=oI(t,n,r),i=ku(t,"transitionend",e);return function(){s(),i()}}function Wy(t,e){const n=Dn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Ep(t,e){const n=Wy(t,"transitionDuration"),r=Wy(t,"transitionDelay"),s=lI(t,i=>{i.target===t&&(s(),e(i))},n+r)}function ha(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function lE(t){t.offsetHeight}const Gy=t=>!t||typeof t=="function"?t:e=>{t.current=e};function uI(t,e){const n=Gy(t),r=Gy(e);return s=>{n&&n(s),r&&r(s)}}function cI(t,e){return k.useMemo(()=>uI(t,e),[t,e])}function dI(t){return t&&"setState"in t?ti.findDOMNode(t):t??null}const _p=te.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:a,children:l,childRef:u,...c},h)=>{const p=k.useRef(null),m=cI(p,u),C=L=>{m(dI(L))},T=L=>w=>{L&&p.current&&L(p.current,w)},I=k.useCallback(T(t),[t]),O=k.useCallback(T(e),[e]),_=k.useCallback(T(n),[n]),v=k.useCallback(T(r),[r]),b=k.useCallback(T(s),[s]),A=k.useCallback(T(i),[i]),M=k.useCallback(T(a),[a]);return F.jsx(Qn,{ref:h,...c,onEnter:I,onEntered:_,onEntering:O,onExit:v,onExited:A,onExiting:b,addEndListener:M,nodeRef:p,children:typeof l=="function"?(L,w)=>l(L,{...w,ref:C}):te.cloneElement(l,{ref:C})})}),hI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function fI(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=hI[t];return r+parseInt(Dn(e,s[0]),10)+parseInt(Dn(e,s[1]),10)}const pI={[ur]:"collapse",[io]:"collapsing",[Zt]:"collapsing",[Sn]:"collapse show"},mI=te.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:a,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:h=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:C=fI,...T},I)=>{const O=typeof l=="function"?l():l,_=k.useMemo(()=>ha(L=>{L.style[O]="0"},t),[O,t]),v=k.useMemo(()=>ha(L=>{const w=`scroll${O[0].toUpperCase()}${O.slice(1)}`;L.style[O]=`${L[w]}px`},e),[O,e]),b=k.useMemo(()=>ha(L=>{L.style[O]=null},n),[O,n]),A=k.useMemo(()=>ha(L=>{L.style[O]=`${C(O,L)}px`,lE(L)},r),[r,C,O]),M=k.useMemo(()=>ha(L=>{L.style[O]=null},s),[O,s]);return F.jsx(_p,{ref:I,addEndListener:Ep,...T,"aria-expanded":T.role?u:null,onEnter:_,onEntering:v,onEntered:b,onExit:A,onExiting:M,childRef:dc(a),in:u,timeout:c,mountOnEnter:h,unmountOnExit:p,appear:m,children:(L,w)=>te.cloneElement(a,{...w,className:ue(i,a.props.className,pI[L],O==="width"&&"collapse-horizontal")})})});function gI(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t},[t]),e}function fc(t){const e=gI(t);return k.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const yI=t=>k.forwardRef((e,n)=>F.jsx("div",{...e,ref:n,className:ue(e.className,t)}));function vI(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t},[t]),e}function Cn(t){const e=vI(t);return k.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function bI(){const t=k.useRef(!0),e=k.useRef(()=>t.current);return k.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function wI(t){const e=k.useRef(null);return k.useEffect(()=>{e.current=t}),e.current}const EI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",_I=typeof document<"u",Qy=_I||EI?k.useLayoutEffect:k.useEffect,kI=["as","disabled"];function TI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SI(t){return!t||t.trim()==="#"}function kp({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:a,tabIndex:l=0,type:u}){t||(n!=null||r!=null||s!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const h=m=>{if((e||t==="a"&&SI(n))&&m.preventDefault(),e){m.stopPropagation();return}a==null||a(m)},p=m=>{m.key===" "&&(m.preventDefault(),h(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:h,onKeyDown:p},c]}const uE=k.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=TI(t,kI);const[i,{tagName:a}]=kp(Object.assign({tagName:n,disabled:r},s));return F.jsx(a,Object.assign({},s,i,{ref:e}))});uE.displayName="Button";const CI=["onKeyDown"];function xI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function II(t){return!t||t.trim()==="#"}const cE=k.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=xI(t,CI);const[s]=kp(Object.assign({tagName:"a"},r)),i=Cn(a=>{s.onKeyDown(a),n==null||n(a)});return II(r.href)||r.role==="button"?F.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):F.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});cE.displayName="Anchor";const NI={[Zt]:"show",[Sn]:"show"},dE=k.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=k.useCallback((u,c)=>{lE(u),r==null||r(u,c)},[r]);return F.jsx(_p,{ref:i,addEndListener:Ep,...a,onEnter:l,childRef:dc(e),children:(u,c)=>k.cloneElement(e,{...c,className:ue("fade",t,e.props.className,NI[u],n[u])})})});dE.displayName="Fade";const OI={"aria-label":Ln.string,onClick:Ln.func,variant:Ln.oneOf(["white"])},Tp=k.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>F.jsx("button",{ref:s,type:"button",className:ue("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Tp.displayName="CloseButton";Tp.propTypes=OI;const hE=k.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:a,...l},u)=>{const c=ye(e,"btn"),[h,{tagName:p}]=kp({tagName:t,disabled:i,...l}),m=p;return F.jsx(m,{...h,...l,ref:u,disabled:i,className:ue(a,c,s&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&i&&"disabled")})});hE.displayName="Button";const fE=k.createContext(null);fE.displayName="CardHeaderContext";function AI(t,e){return k.Children.toArray(t).some(n=>k.isValidElement(n)&&n.type===e)}function RI({as:t,bsPrefix:e,className:n,...r}){e=ye(e,"col");const s=Vx(),i=zx(),a=[],l=[];return s.forEach(u=>{const c=r[u];delete r[u];let h,p,m;typeof c=="object"&&c!=null?{span:h,offset:p,order:m}=c:h=c;const C=u!==i?`-${u}`:"";h&&a.push(h===!0?`${e}${C}`:`${e}${C}-${h}`),m!=null&&l.push(`order${C}-${m}`),p!=null&&l.push(`offset${C}-${p}`)}),[{...r,className:ue(n,...a,...l)},{as:t,bsPrefix:e,spans:a}]}const pE=k.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:a}]=RI(t);return F.jsx(s,{...r,ref:e,className:ue(n,!a.length&&i)})});pE.displayName="Col";const mE=k.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const a=ye(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return F.jsx(n,{ref:i,...s,className:ue(r,e?`${a}${l}`:a)})});mE.displayName="Container";var PI=Function.prototype.bind.call(Function.prototype.call,[].slice);function Yr(t,e){return PI(t.querySelectorAll(e))}function DI(){const[,t]=k.useReducer(e=>e+1,0);return t}function Yy(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Tu=k.createContext(null),Sp=(t,e=null)=>t!=null?String(t):e||null,Cp=k.createContext(null);Cp.displayName="NavContext";const LI="data-rr-ui-",MI="rrUi";function pc(t){return`${LI}${t}`}function FI(t){return`${MI}${t}`}const gE=k.createContext(hc?window:void 0);gE.Provider;function xp(){return k.useContext(gE)}const UI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jI=typeof document<"u",VI=jI||UI?k.useLayoutEffect:k.useEffect,Di=k.createContext(null);Di.displayName="NavbarContext";const zI={type:Ln.string,tooltip:Ln.bool,as:Ln.elementType},mc=k.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>F.jsx(t,{...s,ref:i,className:ue(e,`${n}-${r?"tooltip":"feedback"}`)}));mc.displayName="Feedback";mc.propTypes=zI;const Bn=k.createContext({}),Ip=k.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:a="input",...l},u)=>{const{controlId:c}=k.useContext(Bn);return e=ye(e,"form-check-input"),F.jsx(a,{...l,ref:u,type:r,id:t||c,className:ue(n,e,s&&"is-valid",i&&"is-invalid")})});Ip.displayName="FormCheckInput";const Su=k.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=k.useContext(Bn);return t=ye(t,"form-check-label"),F.jsx("label",{...r,ref:s,htmlFor:n||i,className:ue(e,t)})});Su.displayName="FormCheckLabel";const yE=k.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:a=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:h,className:p,style:m,title:C="",type:T="checkbox",label:I,children:O,as:_="input",...v},b)=>{e=ye(e,"form-check"),n=ye(n,"form-switch");const{controlId:A}=k.useContext(Bn),M=k.useMemo(()=>({controlId:t||A}),[A,t]),L=!O&&I!=null&&I!==!1||AI(O,Su),w=F.jsx(Ip,{...v,type:T==="switch"?"checkbox":T,ref:b,isValid:a,isInvalid:l,disabled:i,as:_});return F.jsx(Bn.Provider,{value:M,children:F.jsx("div",{style:m,className:ue(p,L&&e,r&&`${e}-inline`,s&&`${e}-reverse`,T==="switch"&&n),children:O||F.jsxs(F.Fragment,{children:[w,L&&F.jsx(Su,{title:C,children:I}),c&&F.jsx(mc,{type:h,tooltip:u,children:c})]})})})});yE.displayName="FormCheck";const Cu=Object.assign(yE,{Input:Ip,Label:Su}),vE=k.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:a=!1,isInvalid:l=!1,plaintext:u,readOnly:c,as:h="input",...p},m)=>{const{controlId:C}=k.useContext(Bn);return t=ye(t,"form-control"),F.jsx(h,{...p,type:e,size:r,ref:m,readOnly:c,id:s||C,className:ue(i,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,a&&"is-valid",l&&"is-invalid")})});vE.displayName="FormControl";const $I=Object.assign(vE,{Feedback:mc}),bE=k.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=ye(e,"form-floating"),F.jsx(n,{ref:s,className:ue(t,e),...r})));bE.displayName="FormFloating";const Np=k.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=k.useMemo(()=>({controlId:t}),[t]);return F.jsx(Bn.Provider,{value:s,children:F.jsx(e,{...n,ref:r})})});Np.displayName="FormGroup";const wE=k.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...a},l)=>{const{controlId:u}=k.useContext(Bn);e=ye(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const h=ue(s,e,r&&"visually-hidden",n&&c);return i=i||u,n?F.jsx(pE,{ref:l,as:"label",className:h,htmlFor:i,...a}):F.jsx(t,{ref:l,className:h,htmlFor:i,...a})});wE.displayName="FormLabel";const EE=k.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=k.useContext(Bn);return t=ye(t,"form-range"),F.jsx("input",{...r,type:"range",ref:s,className:ue(e,t),id:n||i})});EE.displayName="FormRange";const _E=k.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:a,...l},u)=>{const{controlId:c}=k.useContext(Bn);return t=ye(t,"form-select"),F.jsx("select",{...l,size:n,ref:u,className:ue(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:a||c})});_E.displayName="FormSelect";const kE=k.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=ye(t,"form-text"),F.jsx(n,{...s,ref:i,className:ue(e,t,r&&"text-muted")})));kE.displayName="FormText";const TE=k.forwardRef((t,e)=>F.jsx(Cu,{...t,ref:e,type:"switch"}));TE.displayName="Switch";const BI=Object.assign(TE,{Input:Cu.Input,Label:Cu.Label}),SE=k.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},a)=>(t=ye(t,"form-floating"),F.jsxs(Np,{ref:a,className:ue(e,t),controlId:r,...i,children:[n,F.jsx("label",{htmlFor:r,children:s})]})));SE.displayName="FloatingLabel";const qI={_ref:Ln.any,validated:Ln.bool,as:Ln.elementType},Op=k.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>F.jsx(n,{...r,ref:s,className:ue(t,e&&"was-validated")}));Op.displayName="Form";Op.propTypes=qI;const Xy=Object.assign(Op,{Group:Np,Control:$I,Floating:bE,Check:Cu,Switch:BI,Label:wE,Text:kE,Range:EE,Select:_E,FloatingLabel:SE}),Jy=t=>!t||typeof t=="function"?t:e=>{t.current=e};function HI(t,e){const n=Jy(t),r=Jy(e);return s=>{n&&n(s),r&&r(s)}}function gc(t,e){return k.useMemo(()=>HI(t,e),[t,e])}const CE=k.createContext(null),KI=["as","active","eventKey"];function WI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xE({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const a=k.useContext(Tu),l=k.useContext(Cp),u=k.useContext(CE);let c=n;const h={role:s};if(l){!s&&l.role==="tablist"&&(h.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);h[pc("event-key")]=t,h.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(h["aria-controls"]=m)}return h.role==="tab"&&(h["aria-selected"]=c,c||(h.tabIndex=-1),i&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Cn(p=>{i||(e==null||e(p),t!=null&&a&&!p.isPropagationStopped()&&a(t,p))}),[h,{isActive:c}]}const IE=k.forwardRef((t,e)=>{let{as:n=uE,active:r,eventKey:s}=t,i=WI(t,KI);const[a,l]=xE(Object.assign({key:Sp(s,i.href),active:r},i));return a[pc("active")]=l.isActive,F.jsx(n,Object.assign({},i,a,{ref:e}))});IE.displayName="NavItem";const GI=["as","onSelect","activeKey","role","onKeyDown"];function QI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Zy=()=>{},ev=pc("event-key"),NE=k.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:a}=t,l=QI(t,GI);const u=DI(),c=k.useRef(!1),h=k.useContext(Tu),p=k.useContext(CE);let m,C;p&&(i=i||"tablist",s=p.activeKey,m=p.getControlledId,C=p.getControllerId);const T=k.useRef(null),I=b=>{const A=T.current;if(!A)return null;const M=Yr(A,`[${ev}]:not([aria-disabled=true])`),L=A.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const w=M.indexOf(L);if(w===-1)return null;let g=w+b;return g>=M.length&&(g=0),g<0&&(g=M.length-1),M[g]},O=(b,A)=>{b!=null&&(r==null||r(b,A),h==null||h(b,A))},_=b=>{if(a==null||a(b),!p)return;let A;switch(b.key){case"ArrowLeft":case"ArrowUp":A=I(-1);break;case"ArrowRight":case"ArrowDown":A=I(1);break;default:return}A&&(b.preventDefault(),O(A.dataset[FI("EventKey")]||null,b),c.current=!0,u())};k.useEffect(()=>{if(T.current&&c.current){const b=T.current.querySelector(`[${ev}][aria-selected=true]`);b==null||b.focus()}c.current=!1});const v=gc(e,T);return F.jsx(Tu.Provider,{value:O,children:F.jsx(Cp.Provider,{value:{role:i,activeKey:Sp(s),getControlledId:m||Zy,getControllerId:C||Zy},children:F.jsx(n,Object.assign({},l,{onKeyDown:_,ref:v,role:i}))})})});NE.displayName="Nav";const YI=Object.assign(NE,{Item:IE});function Nd(t){t===void 0&&(t=wp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function XI(t){const e=k.useRef(t);return e.current=t,e}function JI(t){const e=XI(t);k.useEffect(()=>()=>e.current(),[])}function ZI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const tv=pc("modal-open");let Ap=class{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}={}){this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ZI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[n]:r.style[n]},t.scrollBarWidth&&(e[n]=`${parseInt(Dn(r,n)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(tv,""),Dn(r,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(tv),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}};const Od=(t,e)=>hc?t==null?(e||wp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function eN(t,e){const n=xp(),[r,s]=k.useState(()=>Od(t,n==null?void 0:n.document));if(!r){const i=Od(t);i&&s(i)}return k.useEffect(()=>{},[e,r]),k.useEffect(()=>{const i=Od(t);i!==r&&s(i)},[t,r]),r}function tN({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=k.useRef(null),a=k.useRef(e),l=Cn(n);k.useEffect(()=>{e?a.current=!0:l(i.current)},[e,l]);const u=gc(i,t.ref),c=k.cloneElement(t,{ref:u});return e?c:s||!a.current&&r?null:c}const nN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sN(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:a,addEndListener:l,children:u}=t,c=rN(t,nN);const h=k.useRef(null),p=gc(h,dc(u)),m=A=>M=>{A&&h.current&&A(h.current,M)},C=k.useCallback(m(e),[e]),T=k.useCallback(m(n),[n]),I=k.useCallback(m(r),[r]),O=k.useCallback(m(s),[s]),_=k.useCallback(m(i),[i]),v=k.useCallback(m(a),[a]),b=k.useCallback(m(l),[l]);return Object.assign({},c,{nodeRef:h},e&&{onEnter:C},n&&{onEntering:T},r&&{onEntered:I},s&&{onExit:O},i&&{onExiting:_},a&&{onExited:v},l&&{addEndListener:b},{children:typeof u=="function"?(A,M)=>u(A,Object.assign({},M,{ref:p})):k.cloneElement(u,{ref:p})})}const iN=["component"];function aN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const oN=k.forwardRef((t,e)=>{let{component:n}=t,r=aN(t,iN);const s=sN(r);return F.jsx(n,Object.assign({ref:e},s))});function lN({in:t,onTransition:e}){const n=k.useRef(null),r=k.useRef(!0),s=Cn(e);return Qy(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),Qy(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function uN({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,a]=k.useState(!e);e&&i&&a(!1);const l=lN({in:!!e,onTransition:c=>{const h=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(a(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(h,p=>{throw c.in||a(!0),p})}}),u=gc(l,t.ref);return i&&!e?null:k.cloneElement(t,{ref:u})}function nv(t,e,n){return t?F.jsx(oN,Object.assign({},n,{component:t})):e?F.jsx(uN,Object.assign({},n,{transition:e})):F.jsx(tN,Object.assign({},n))}const cN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Ad;function hN(t){return Ad||(Ad=new Ap({ownerDocument:t==null?void 0:t.document})),Ad}function fN(t){const e=xp(),n=t||hN(e),r=k.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:k.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:k.useCallback(s=>{r.current.backdrop=s},[])})}const OE=k.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:a,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:p,runTransition:m,backdropTransition:C,runBackdropTransition:T,autoFocus:I=!0,enforceFocus:O=!0,restoreFocus:_=!0,restoreFocusOptions:v,renderDialog:b,renderBackdrop:A=we=>F.jsx("div",Object.assign({},we)),manager:M,container:L,onShow:w,onHide:g=()=>{},onExit:E,onExited:S,onExiting:N,onEnter:R,onEntering:x,onEntered:ve}=t,He=dN(t,cN);const Pe=xp(),me=eN(L),j=fN(M),H=bI(),K=wI(n),[ne,Z]=k.useState(!n),ee=k.useRef(null);k.useImperativeHandle(e,()=>j,[j]),hc&&!K&&n&&(ee.current=Nd(Pe==null?void 0:Pe.document)),n&&ne&&Z(!1);const ie=Cn(()=>{if(j.add(),Zn.current=ku(document,"keydown",zi),$i.current=ku(document,"focus",()=>setTimeout(je),!0),w&&w(),I){var we,Bi;const qi=Nd((we=(Bi=j.dialog)==null?void 0:Bi.ownerDocument)!=null?we:Pe==null?void 0:Pe.document);j.dialog&&qi&&!Yy(j.dialog,qi)&&(ee.current=qi,j.dialog.focus())}}),pe=Cn(()=>{if(j.remove(),Zn.current==null||Zn.current(),$i.current==null||$i.current(),_){var we;(we=ee.current)==null||we.focus==null||we.focus(v),ee.current=null}});k.useEffect(()=>{!n||!me||ie()},[n,me,ie]),k.useEffect(()=>{ne&&pe()},[ne,pe]),JI(()=>{pe()});const je=Cn(()=>{if(!O||!H()||!j.isTopModal())return;const we=Nd(Pe==null?void 0:Pe.document);j.dialog&&we&&!Yy(j.dialog,we)&&j.dialog.focus()}),Qe=Cn(we=>{we.target===we.currentTarget&&(c==null||c(we),l===!0&&g())}),zi=Cn(we=>{u&&tI(we)&&j.isTopModal()&&(h==null||h(we),we.defaultPrevented||g())}),$i=k.useRef(),Zn=k.useRef(),Ns=(...we)=>{Z(!0),S==null||S(...we)};if(!me)return null;const Os=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},He,{style:i,className:s,tabIndex:-1});let zr=b?b(Os):F.jsx("div",Object.assign({},Os,{children:k.cloneElement(a,{role:"document"})}));zr=nv(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:E,onExiting:N,onExited:Ns,onEnter:R,onEntering:x,onEntered:ve,children:zr});let er=null;return l&&(er=A({ref:j.setBackdropRef,onClick:Qe}),er=nv(C,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:er})),F.jsx(F.Fragment,{children:ti.createPortal(F.jsxs(F.Fragment,{children:[er,zr]}),me)})});OE.displayName="Modal";const pN=Object.assign(OE,{Manager:Ap});function mN(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function gN(t,e){t.classList?t.classList.add(e):mN(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function rv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yN(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=rv(t.className,e):t.setAttribute("class",rv(t.className&&t.className.baseVal||"",e))}const Fs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};let AE=class extends Ap{adjustAndStore(t,e,n){const r=e.style[t];e.dataset[t]=r,Dn(e,{[t]:`${parseFloat(Dn(e,t))+n}px`})}restore(t,e){const n=e.dataset[t];n!==void 0&&(delete e.dataset[t],Dn(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(gN(e,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Yr(e,Fs.FIXED_CONTENT).forEach(s=>this.adjustAndStore(n,s,t.scrollBarWidth)),Yr(e,Fs.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-t.scrollBarWidth)),Yr(e,Fs.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();yN(e,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Yr(e,Fs.FIXED_CONTENT).forEach(s=>this.restore(n,s)),Yr(e,Fs.STICKY_CONTENT).forEach(s=>this.restore(r,s)),Yr(e,Fs.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}},Rd;function vN(t){return Rd||(Rd=new AE(t)),Rd}const RE=k.createContext({onHide(){}}),bN=k.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},a)=>{const l=k.useContext(RE),u=fc(()=>{l==null||l.onHide(),r==null||r()});return F.jsxs("div",{ref:a,...i,children:[s,n&&F.jsx(Tp,{"aria-label":t,variant:e,onClick:u})]})}),PE=k.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=ye(e,"nav-item"),F.jsx(n,{ref:s,className:ue(t,e),...r})));PE.displayName="NavItem";const DE=k.forwardRef(({bsPrefix:t,className:e,as:n=cE,active:r,eventKey:s,disabled:i=!1,...a},l)=>{t=ye(t,"nav-link");const[u,c]=xE({key:Sp(s,a.href),active:r,disabled:i,...a});return F.jsx(n,{...a,...u,ref:l,disabled:i,className:ue(e,t,i&&"disabled",c.isActive&&"active")})});DE.displayName="NavLink";const LE=k.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:a=!1,navbar:l,navbarScroll:u,className:c,activeKey:h,...p}=rE(t,{activeKey:"onSelect"}),m=ye(r,"nav");let C,T,I=!1;const O=k.useContext(Di),_=k.useContext(fE);return O?(C=O.bsPrefix,I=l??!0):_&&({cardHeaderBsPrefix:T}=_),F.jsx(YI,{as:n,ref:e,activeKey:h,className:ue(c,{[m]:!I,[`${C}-nav`]:I,[`${C}-nav-scroll`]:I&&u,[`${T}-${s}`]:!!T,[`${m}-${s}`]:!!s,[`${m}-fill`]:i,[`${m}-justified`]:a}),...p})});LE.displayName="Nav";const Wr=Object.assign(LE,{Item:PE,Link:DE}),ME=k.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=ye(t,"navbar-brand");const i=n||(r.href?"a":"span");return F.jsx(i,{...r,ref:s,className:ue(e,t)})});ME.displayName="NavbarBrand";const FE=k.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ye(e,"navbar-collapse");const s=k.useContext(Di);return F.jsx(mI,{in:!!(s&&s.expanded),...n,children:F.jsx("div",{ref:r,className:e,children:t})})});FE.displayName="NavbarCollapse";const UE=k.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...a},l)=>{t=ye(t,"navbar-toggler");const{onToggle:u,expanded:c}=k.useContext(Di)||{},h=fc(p=>{i&&i(p),u&&u()});return s==="button"&&(a.type="button"),F.jsx(s,{...a,ref:l,onClick:h,"aria-label":r,className:ue(e,t,!c&&"collapsed"),children:n||F.jsx("span",{className:`${t}-icon`})})});UE.displayName="NavbarToggle";const Hh=new WeakMap,sv=(t,e)=>{if(!t||!e)return;const n=Hh.get(e)||new Map;Hh.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function wN(t,e=typeof window>"u"?void 0:window){const n=sv(t,e),[r,s]=k.useState(()=>n?n.matches:!1);return VI(()=>{let i=sv(t,e);if(!i)return s(!1);let a=Hh.get(e);const l=()=>{s(i.matches)};return i.refCount++,i.addListener(l),l(),()=>{i.removeListener(l),i.refCount--,i.refCount<=0&&(a==null||a.delete(i.media)),i=void 0}},[t]),r}function EN(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function s(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function i(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function a(l,u,c){let h;typeof l=="object"?(h=l,c=u,u=!0):(u=u||!0,h={[l]:u});let p=k.useMemo(()=>Object.entries(h).reduce((m,[C,T])=>((T==="up"||T===!0)&&(m=n(m,i(C))),(T==="down"||T===!0)&&(m=n(m,s(C))),m),""),[JSON.stringify(h)]);return wN(p,c)}return a}const _N=EN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),jE=k.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=ye(e,"offcanvas-body"),F.jsx(n,{ref:s,className:ue(t,e),...r})));jE.displayName="OffcanvasBody";const kN={[Zt]:"show",[Sn]:"show"},VE=k.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:a=!1,...l},u)=>(t=ye(t,"offcanvas"),F.jsx(_p,{ref:u,addEndListener:Ep,in:r,mountOnEnter:s,unmountOnExit:i,appear:a,...l,childRef:dc(n),children:(c,h)=>k.cloneElement(n,{...h,className:ue(e,n.props.className,(c===Zt||c===io)&&`${t}-toggling`,kN[c])})})));VE.displayName="OffcanvasToggling";const zE=k.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=ye(t,"offcanvas-header"),F.jsx(bN,{ref:i,...s,className:ue(e,t),closeLabel:n,closeButton:r})));zE.displayName="OffcanvasHeader";const TN=yI("h5"),$E=k.forwardRef(({className:t,bsPrefix:e,as:n=TN,...r},s)=>(e=ye(e,"offcanvas-title"),F.jsx(n,{ref:s,className:ue(t,e),...r})));$E.displayName="OffcanvasTitle";function SN(t){return F.jsx(VE,{...t})}function CN(t){return F.jsx(dE,{...t})}const BE=k.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:a=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:h,onShow:p,onHide:m,container:C,autoFocus:T=!0,enforceFocus:I=!0,restoreFocus:O=!0,restoreFocusOptions:_,onEntered:v,onExit:b,onExiting:A,onEnter:M,onEntering:L,onExited:w,backdropClassName:g,manager:E,renderStaticNode:S=!1,...N},R)=>{const x=k.useRef();t=ye(t,"offcanvas");const[ve,He]=k.useState(!1),Pe=fc(m),me=_N(i||"xs","up");k.useEffect(()=>{He(i?a&&!me:a)},[a,i,me]);const j=k.useMemo(()=>({onHide:Pe}),[Pe]);function H(){return E||(c?(x.current||(x.current=new AE({handleContainerOverflow:!1})),x.current):vN())}const K=(ie,...pe)=>{ie&&(ie.style.visibility="visible"),M==null||M(ie,...pe)},ne=(ie,...pe)=>{ie&&(ie.style.visibility=""),w==null||w(...pe)},Z=k.useCallback(ie=>F.jsx("div",{...ie,className:ue(`${t}-backdrop`,g)}),[g,t]),ee=ie=>F.jsx("div",{...ie,...N,className:ue(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return F.jsxs(F.Fragment,{children:[!ve&&(i||S)&&ee({}),F.jsx(RE.Provider,{value:j,children:F.jsx(pN,{show:ve,ref:R,backdrop:l,container:C,keyboard:u,autoFocus:T,enforceFocus:I&&!c,restoreFocus:O,restoreFocusOptions:_,onEscapeKeyDown:h,onShow:p,onHide:Pe,onEnter:K,onEntering:L,onEntered:v,onExit:b,onExiting:A,onExited:ne,manager:H(),transition:SN,backdropTransition:CN,renderBackdrop:Z,renderDialog:ee})})]})});BE.displayName="Offcanvas";const xN=Object.assign(BE,{Body:jE,Header:zE,Title:$E}),qE=k.forwardRef(({onHide:t,...e},n)=>{const r=k.useContext(Di),s=fc(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return F.jsx(xN,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});qE.displayName="NavbarOffcanvas";const HE=k.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=ye(e,"navbar-text"),F.jsx(n,{ref:s,className:ue(t,e),...r})));HE.displayName="NavbarText";const KE=k.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:a,sticky:l,className:u,as:c="nav",expanded:h,onToggle:p,onSelect:m,collapseOnSelect:C=!1,...T}=rE(t,{expanded:"onToggle"}),I=ye(n,"navbar"),O=k.useCallback((...b)=>{m==null||m(...b),C&&h&&(p==null||p(!1))},[m,C,h,p]);T.role===void 0&&c!=="nav"&&(T.role="navigation");let _=`${I}-expand`;typeof r=="string"&&(_=`${_}-${r}`);const v=k.useMemo(()=>({onToggle:()=>p==null?void 0:p(!h),bsPrefix:I,expanded:!!h,expand:r}),[I,h,r,p]);return F.jsx(Di.Provider,{value:v,children:F.jsx(Tu.Provider,{value:O,children:F.jsx(c,{ref:e,...T,className:ue(u,I,r&&_,s&&`${I}-${s}`,i&&`bg-${i}`,l&&`sticky-${l}`,a&&`fixed-${a}`)})})})});KE.displayName="Navbar";const vl=Object.assign(KE,{Brand:ME,Collapse:FE,Offcanvas:qE,Text:HE,Toggle:UE});function Ss(t){this._maxSize=t,this.clear()}Ss.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ss.prototype.get=function(t){return this._values[t]};Ss.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var IN=/[^.^\]^[]+|(?=\[\]|\.\.)/g,WE=/^\d+$/,NN=/^\d/,ON=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,AN=/^\s*(['"]?)(.*?)(\1)\s*$/,Rp=512,iv=new Ss(Rp),av=new Ss(Rp),ov=new Ss(Rp),as={Cache:Ss,split:Kh,normalizePath:Pd,setter:function(t){var e=Pd(t);return av.get(t)||av.set(t,function(n,r){for(var s=0,i=e.length,a=n;s<i-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;a=a[e[s++]]}a[e[s]]=r})},getter:function(t,e){var n=Pd(t);return ov.get(t)||ov.set(t,function(r){for(var s=0,i=n.length;s<i;)if(r!=null||!e)r=r[n[s++]];else return;return r})},join:function(t){return t.reduce(function(e,n){return e+(Pp(n)||WE.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){RN(Array.isArray(t)?t:Kh(t),e,n)}};function Pd(t){return iv.get(t)||iv.set(t,Kh(t).map(function(e){return e.replace(AN,"$2")}))}function Kh(t){return t.match(IN)||[""]}function RN(t,e,n){var r=t.length,s,i,a,l;for(i=0;i<r;i++)s=t[i],s&&(LN(s)&&(s='"'+s+'"'),l=Pp(s),a=!l&&/^\d+$/.test(s),e.call(n,s,l,a,i,t))}function Pp(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function PN(t){return t.match(NN)&&!t.match(WE)}function DN(t){return ON.test(t)}function LN(t){return!Pp(t)&&(PN(t)||DN(t))}const MN=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,yc=t=>t.match(MN)||[],vc=t=>t[0].toUpperCase()+t.slice(1),Dp=(t,e)=>yc(t).join(e).toLowerCase(),GE=t=>yc(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),FN=t=>vc(GE(t)),UN=t=>Dp(t,"_"),jN=t=>Dp(t,"-"),VN=t=>vc(Dp(t," ")),zN=t=>yc(t).map(vc).join(" ");var Dd={words:yc,upperFirst:vc,camelCase:GE,pascalCase:FN,snakeCase:UN,kebabCase:jN,sentenceCase:VN,titleCase:zN},Lp={exports:{}};Lp.exports=function(t){return QE($N(t),t)};Lp.exports.array=QE;function QE(t,e){var n=t.length,r=new Array(n),s={},i=n,a=BN(e),l=qN(t);for(e.forEach(function(c){if(!l.has(c[0])||!l.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||u(t[i],i,new Set);return r;function u(c,h,p){if(p.has(c)){var m;try{m=", node was:"+JSON.stringify(c)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!s[h]){s[h]=!0;var C=a.get(c)||new Set;if(C=Array.from(C),h=C.length){p.add(c);do{var T=C[--h];u(T,l.get(T),p)}while(h);p.delete(c)}r[--n]=c}}}function $N(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function BN(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function qN(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var HN=Lp.exports;const KN=bo(HN),WN=Object.prototype.toString,GN=Error.prototype.toString,QN=RegExp.prototype.toString,YN=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",XN=/^Symbol\((.*)\)(.*)$/;function JN(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function lv(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return JN(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return YN.call(t).replace(XN,"Symbol($1)");const r=WN.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+GN.call(t)+"]":r==="RegExp"?QN.call(t):null}function Mn(t,e){let n=lv(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=lv(this[r],e);return i!==null?i:s},2)}function YE(t){return t==null?[]:[].concat(t)}let XE,JE,ZE,ZN=/\$\{\s*(\w+)\s*\}/g;XE=Symbol.toStringTag;let uv=class{constructor(t,e,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[XE]="Error",this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],YE(t).forEach(s=>{if(Tt.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}};JE=Symbol.hasInstance;ZE=Symbol.toStringTag;class Tt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(ZN,(s,i)=>Mn(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new uv(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ZE]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Tt)}static[JE](e){return uv[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let cn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Mn(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Mn(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Mn(n,!0)}\``+s}},_t={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ar={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Wh={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Gh={isValue:"${path} field must be ${value}"},jl={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Vl={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},e2={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Mn(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Mn(n,!0)}\``}return Tt.formatError(cn.notType,t)}};Object.assign(Object.create(null),{mixed:cn,string:_t,number:ar,date:Wh,object:jl,array:Vl,boolean:Gh,tuple:e2});const bc=t=>t&&t.__isYupSchema__;let cv=class e_{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new e_(e,(l,u)=>{var c;let h=a(...l)?s:i;return(c=h==null?void 0:h(u))!=null?c:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!bc(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}};const bl={context:"$",value:"."};class Cs{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bl.context,this.isValue=this.key[0]===bl.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?bl.context:this.isValue?bl.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&as.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Cs.prototype.__isYupRef=!0;const en=t=>t==null;function Us(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,u){const{name:c,test:h,params:p,message:m,skipAbsent:C}=t;let{parent:T,context:I,abortEarly:O=a.spec.abortEarly,disableStackTrace:_=a.spec.disableStackTrace}=s;function v(S){return Cs.isRef(S)?S.getValue(n,T,I):S}function b(S={}){const N=Object.assign({value:n,originalValue:i,label:a.spec.label,path:S.path||r,spec:a.spec,disableStackTrace:S.disableStackTrace||_},p,S.params);for(const x of Object.keys(N))N[x]=v(N[x]);const R=new Tt(Tt.formatError(S.message||m,N),n,N.path,S.type||c,N.disableStackTrace);return R.params=N,R}const A=O?l:u;let M={path:r,parent:T,type:c,from:s.from,createError:b,resolve:v,options:s,originalValue:i,schema:a};const L=S=>{Tt.isError(S)?A(S):S?u(null):A(b())},w=S=>{Tt.isError(S)?A(S):l(S)};if(C&&en(n))return L(!0);let g;try{var E;if(g=h.call(M,n,M),typeof((E=g)==null?void 0:E.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${M.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(g).then(L,w)}}catch(S){w(S);return}L(g)}return e.OPTIONS=t,e}function t2(t,e,n,r=n){let s,i,a;return e?(as.forEach(e,(l,u,c)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let p=t.type==="tuple",m=c?parseInt(h,10):0;if(t.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[m],t=p?t.spec.types[m]:t.innerType}if(!c){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[h],t=t.fields[h]}i=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}let dv=class t_ extends Set{describe(){const e=[];for(const n of this.values())e.push(Cs.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new t_(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}};function ni(t,e=new Map){if(bc(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=ni(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,ni(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(ni(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=ni(s,e)}else throw Error(`Unable to clone ${t}`);return n}let Mt=class{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new dv,this._blacklist=new dv,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(cn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=ni(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=e,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,n=t.clone();const r=Object.assign({},e.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},e.internalTests,n.internalTests),n._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),n.tests=e.tests,n.exclusiveTests=e.exclusiveTests,n.withMutation(s=>{t.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...e.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let n=e.conditions;e=e.clone(),e.conditions=[],e=n.reduce((r,s)=>s.resolve(r,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,n,r,s;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=t.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(t,e={}){let n=this.resolve(Object.assign({value:t},e)),r=e.assert==="ignore-optionality",s=n._cast(t,e);if(e.assert!==!1&&!n.isType(s)){if(r&&en(s))return s;let i=Mn(t),a=Mn(s);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(a!==i?`result of cast: ${a}`:""))}return s}_cast(t,e){let n=t===void 0?t:this.transforms.reduce((r,s)=>s.call(this,r,t,this),t);return n===void 0&&(n=this.getDefault(e)),n}_validate(t,e={},n,r){let{path:s,originalValue:i=t,strict:a=this.spec.strict}=e,l=t;a||(l=this._cast(l,Object.assign({assert:!1},e)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:i,options:e,tests:u},n,c=>{if(c.length)return r(c,l);this.runTests({path:s,value:l,originalValue:i,options:e,tests:this.tests},n,r)})}runTests(t,e,n){let r=!1,{tests:s,value:i,originalValue:a,path:l,options:u}=t,c=T=>{r||(r=!0,e(T,i))},h=T=>{r||(r=!0,n(T,i))},p=s.length,m=[];if(!p)return h([]);let C={value:i,originalValue:a,path:l,options:u,schema:this};for(let T=0;T<s.length;T++){const I=s[T];I(C,c,function(O){O&&(Array.isArray(O)?m.push(...O):m.push(O)),--p<=0&&h(m)})}}asNestedTest({key:t,index:e,parent:n,parentPath:r,originalParent:s,options:i}){const a=t??e;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const c=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${r||""}[${l?a:`"${a}"`}]`:(r?`${r}.`:"")+t});return(h,p,m)=>this.resolve(c)._validate(u,c,p,m)}validate(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),s=(n=e==null?void 0:e.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((i,a)=>r._validate(t,e,(l,u)=>{Tt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Tt(l,u,void 0,void 0,s)):i(u)}))}validateSync(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),s,i=(n=e==null?void 0:e.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(t,Object.assign({},e,{sync:!0}),(a,l)=>{throw Tt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Tt(a,t,void 0,void 0,i);s=l}),s}isValid(t,e){return this.validate(t,e).then(()=>!0,n=>{if(Tt.isError(n))return!1;throw n})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(n){if(Tt.isError(n))return!1;throw n}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):ni(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const n=this.clone({nullable:t});return n.internalTests.nullable=Us({message:e,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,e){const n=this.clone({optional:t});return n.internalTests.optionality=Us({message:e,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=cn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=cn.notNull){return this.nullability(!1,t)}required(t=cn.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=cn.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Us(e),s=e.exclusive||e.name&&n.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(n.exclusiveTests[e.name]=!!e.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===e.name&&(s||i.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let n=this.clone(),r=YE(t).map(s=>new Cs(s));return r.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof e=="function"?new cv(r,e):cv.fromOptions(r,e)),n}typeError(t){let e=this.clone();return e.internalTests.typeError=Us({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=cn.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=Us({message:e,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(t,e=cn.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=Us({message:e,name:"notOneOf",test(r){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:s,nullable:i}=e.spec;return{meta:r,label:n,optional:s,nullable:i,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,l,u)=>u.findIndex(c=>c.name===a.name)===l)}}};Mt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Mt.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=t2(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Mt.prototype[t]=Mt.prototype.oneOf;for(const t of["not","nope"])Mt.prototype[t]=Mt.prototype.notOneOf;function n_(){return new r_}class r_ extends Mt{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Gh.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return en(n)||n===!0}})}isFalse(e=Gh.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return en(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}n_.prototype=r_.prototype;const n2=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function r2(t){const e=Qh(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Qh(t){var e,n;const r=n2.exec(t);return r?{year:_n(r[1]),month:_n(r[2],1)-1,day:_n(r[3],1),hour:_n(r[4]),minute:_n(r[5]),second:_n(r[6]),millisecond:r[7]?_n(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:_n(r[10]),minuteOffset:_n(r[11])}:null}function _n(t,e=0){return Number(t)||e}let s2=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,i2=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,a2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o2="^\\d{4}-\\d{2}-\\d{2}",l2="\\d{2}:\\d{2}:\\d{2}",u2="(([+-]\\d{2}(:?\\d{2})?)|Z)",c2=new RegExp(`${o2}T${l2}(\\.\\d+)?${u2}$`),d2=t=>en(t)||t===t.trim(),h2={}.toString();function Ve(){return new s_}let s_=class extends Mt{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===h2?t:r})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||cn.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=_t.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e=_t.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e=_t.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,e){let n=!1,r,s;return e&&(typeof e=="object"?{excludeEmptyString:n=!1,message:r,name:s}=e:r=e),this.test({name:s||"matches",message:r||_t.matches,params:{regex:t},skipAbsent:!0,test:i=>i===""&&n||i.search(t)!==-1})}email(t=_t.email){return this.matches(s2,{name:"email",message:t,excludeEmptyString:!0})}url(t=_t.url){return this.matches(i2,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=_t.uuid){return this.matches(a2,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",n,r;return t&&(typeof t=="object"?{message:e="",allowOffset:n=!1,precision:r=void 0}=t:e=t),this.matches(c2,{name:"datetime",message:e||_t.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||_t.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=Qh(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:e||_t.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const i=Qh(s);return i?i.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=_t.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:d2})}lowercase(t=_t.lowercase){return this.transform(e=>en(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>en(e)||e===e.toLowerCase()})}uppercase(t=_t.uppercase){return this.transform(e=>en(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>en(e)||e===e.toUpperCase()})}};Ve.prototype=s_.prototype;let f2=t=>t!=+t;function ts(){return new i_}class i_ extends Mt{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!f2(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=ar.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=ar.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=ar.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=ar.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=ar.positive){return this.moreThan(0,e)}negative(e=ar.negative){return this.lessThan(0,e)}integer(e=ar.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>en(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>en(s)?s:Math[e](s))}}ts.prototype=i_.prototype;let a_=new Date(""),p2=t=>Object.prototype.toString.call(t)==="[object Date]";function Ei(){return new Mp}let Mp=class o_ extends Mt{constructor(){super({type:"date",check(e){return p2(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=r2(e),isNaN(e)?o_.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Cs.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Wh.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Wh.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}};Mp.INVALID_DATE=a_;Ei.prototype=Mp.prototype;Ei.INVALID_DATE=a_;function m2(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let u=as.split(a)[0];r.add(u),s.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];r.add(a),Cs.isRef(l)&&l.isSibling?i(l.path,a):bc(l)&&"deps"in l&&l.deps.forEach(u=>i(u,a))}return KN.array(Array.from(r),n).reverse()}function hv(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function l_(t){return(e,n)=>hv(t,e)-hv(t,n)}const u_=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function zl(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=zl(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=zl(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(zl)}):"optional"in t?t.optional():t}const g2=(t,e)=>{const n=[...as.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=as.getter(as.join(n),!0)(t);return!!(s&&r in s)};let fv=t=>Object.prototype.toString.call(t)==="[object Object]";function pv(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const y2=l_([]);function ui(t){return new c_(t)}let c_=class extends Mt{constructor(t){super({type:"object",check(e){return fv(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=y2,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var n;let r=super._cast(t,e);if(r===void 0)return this.getDefault(e);if(!this._typeCheck(r))return r;let s=this.fields,i=(n=e.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},e,{parent:l,__validating:e.__validating||!1}),c=!1;for(const h of a){let p=s[h],m=h in r;if(p){let C,T=r[h];u.path=(e.path?`${e.path}.`:"")+h,p=p.resolve({value:T,context:e.context,parent:l});let I=p instanceof Mt?p.spec:void 0,O=I==null?void 0:I.strict;if(I!=null&&I.strip){c=c||h in r;continue}C=!e.__validating||!O?p.cast(r[h],u):r[h],C!==void 0&&(l[h]=C)}else m&&!i&&(l[h]=r[h]);(m!==h in l||l[h]!==r[h])&&(c=!0)}return c?l:r}_validate(t,e={},n,r){let{from:s=[],originalValue:i=t,recursive:a=this.spec.recursive}=e;e.from=[{schema:this,value:i},...s],e.__validating=!0,e.originalValue=i,super._validate(t,e,n,(l,u)=>{if(!a||!fv(u)){r(l,u);return}i=i||u;let c=[];for(let h of this._nodes){let p=this.fields[h];!p||Cs.isRef(p)||c.push(p.asNestedTest({options:e,key:h,parent:u,parentPath:e.path,originalParent:i}))}this.runTests({tests:c,value:u,originalValue:i,options:e},n,h=>{r(h.sort(this._sortErrors).concat(l),u)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),n=e.fields;for(let[r,s]of Object.entries(this.fields)){const i=n[r];n[r]=i===void 0?s:i}return e.withMutation(r=>r.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(n=>{var r;const s=this.fields[n];let i=t;(r=i)!=null&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),e[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),e}setFields(t,e){let n=this.clone();return n.fields=t,n._nodes=m2(t,e),n._sortErrors=l_(Object.keys(t)),e&&(n._excludedEdges=e),n}shape(t,e=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),r=[...n._excludedEdges,...e]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[e,n]of Object.entries(this.fields))t[e]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return zl(this)}pick(t){const e={};for(const n of t)this.fields[n]&&(e[n]=this.fields[n]);return this.setFields(e,this._excludedEdges.filter(([n,r])=>t.includes(n)&&t.includes(r)))}omit(t){const e=[];for(const n of Object.keys(this.fields))t.includes(n)||e.push(n);return this.pick(e)}from(t,e,n){let r=as.getter(t,!0);return this.transform(s=>{if(!s)return s;let i=s;return g2(s,t)&&(i=Object.assign({},s),n||delete i[t],i[e]=r(s)),i})}json(){return this.transform(u_)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||jl.exact,test(e){if(e==null)return!0;const n=pv(this.schema,e);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=jl.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:e,test(r){if(r==null)return!0;const s=pv(this.schema,r);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,e=jl.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const n={};for(const r of Object.keys(e))n[t(r)]=e[r];return n})}camelCase(){return this.transformKeys(Dd.camelCase)}snakeCase(){return this.transformKeys(Dd.snakeCase)}constantCase(){return this.transformKeys(t=>Dd.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[s,i]of Object.entries(e.fields)){var r;let a=t;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),n.fields[s]=i.describe(a)}return n}};ui.prototype=c_.prototype;function xu(t){return new d_(t)}let d_=class extends Mt{constructor(t){super({type:"array",spec:{types:t},check(e){return Array.isArray(e)}}),this.innerType=void 0,this.innerType=t}_cast(t,e){const n=super._cast(t,e);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const s=n.map((i,a)=>{const l=this.innerType.cast(i,Object.assign({},e,{path:`${e.path||""}[${a}]`}));return l!==i&&(r=!0),l});return r?s:n}_validate(t,e={},n,r){var s;let i=this.innerType,a=(s=e.recursive)!=null?s:this.spec.recursive;e.originalValue!=null&&e.originalValue,super._validate(t,e,n,(l,u)=>{var c;if(!a||!i||!this._typeCheck(u)){r(l,u);return}let h=new Array(u.length);for(let m=0;m<u.length;m++){var p;h[m]=i.asNestedTest({options:e,index:m,parent:u,parentPath:e.path,originalParent:(p=e.originalValue)!=null?p:t})}this.runTests({value:u,tests:h,originalValue:(c=e.originalValue)!=null?c:t,options:e},n,m=>r(m.concat(l),u))})}clone(t){const e=super.clone(t);return e.innerType=this.innerType,e}json(){return this.transform(u_)}concat(t){let e=super.concat(t);return e.innerType=this.innerType,t.innerType&&(e.innerType=e.innerType?e.innerType.concat(t.innerType):t.innerType),e}of(t){let e=this.clone();if(!bc(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Mn(t));return e.innerType=t,e.spec=Object.assign({},e.spec,{types:t}),e}length(t,e=Vl.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e){return e=e||Vl.min,this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e){return e=e||Vl.max,this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,e)=>this._typeCheck(t)?t:e==null?[]:[].concat(e))}compact(t){let e=t?(n,r,s)=>!t(n,r,s):n=>!!n;return this.transform(n=>n!=null?n.filter(e):n)}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);if(e.innerType){var r;let s=t;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=e.innerType.describe(s)}return n}};xu.prototype=d_.prototype;function h_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=h_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=h_(t))&&(r&&(r+=" "),r+=e);return r}const ao=t=>typeof t=="number"&&!isNaN(t),os=t=>typeof t=="string",Pt=t=>typeof t=="function",$l=t=>os(t)||Pt(t)?t:null,Yh=t=>k.isValidElement(t)||os(t)||Pt(t)||ao(t);function v2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function wc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(a){let{children:l,position:u,preventExitTransition:c,done:h,nodeRef:p,isIn:m,playToast:C}=a;const T=r?`${e}--${u}`:e,I=r?`${n}--${u}`:n,O=k.useRef(0);return k.useLayoutEffect(()=>{const _=p.current,v=T.split(" "),b=A=>{A.target===p.current&&(C(),_.removeEventListener("animationend",b),_.removeEventListener("animationcancel",b),O.current===0&&A.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",b),_.addEventListener("animationcancel",b)},[]),k.useEffect(()=>{const _=p.current,v=()=>{_.removeEventListener("animationend",v),s?v2(_,h,i):h()};m||(c?v():(O.current=1,_.className+=` ${I}`,_.addEventListener("animationend",v)))},[m]),te.createElement(te.Fragment,null,l)}}function mv(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const yt=new Map;let oo=[];const Xh=new Set,b2=t=>Xh.forEach(e=>e(t)),f_=()=>yt.size>0;function p_(t,e){var n;if(e)return!((n=yt.get(e))==null||!n.isToastActive(t));let r=!1;return yt.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function m_(t,e){Yh(t)&&(f_()||oo.push({content:t,options:e}),yt.forEach(n=>{n.buildToast(t,e)}))}function gv(t,e){yt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function w2(t){const{subscribe:e,getSnapshot:n,setProps:r}=k.useRef(function(i){const a=i.containerId||1;return{subscribe(l){const u=function(h,p,m){let C=1,T=0,I=[],O=[],_=[],v=p;const b=new Map,A=new Set,M=()=>{_=Array.from(b.values()),A.forEach(g=>g())},L=g=>{O=g==null?[]:O.filter(E=>E!==g),M()},w=g=>{const{toastId:E,onOpen:S,updateId:N,children:R}=g.props,x=N==null;g.staleId&&b.delete(g.staleId),b.set(E,g),O=[...O,g.props.toastId].filter(ve=>ve!==g.staleId),M(),m(mv(g,x?"added":"updated")),x&&Pt(S)&&S(k.isValidElement(R)&&R.props)};return{id:h,props:v,observe:g=>(A.add(g),()=>A.delete(g)),toggle:(g,E)=>{b.forEach(S=>{E!=null&&E!==S.props.toastId||Pt(S.toggle)&&S.toggle(g)})},removeToast:L,toasts:b,clearQueue:()=>{T-=I.length,I=[]},buildToast:(g,E)=>{if((Z=>{let{containerId:ee,toastId:ie,updateId:pe}=Z;const je=ee?ee!==h:h!==1,Qe=b.has(ie)&&pe==null;return je||Qe})(E))return;const{toastId:S,updateId:N,data:R,staleId:x,delay:ve}=E,He=()=>{L(S)},Pe=N==null;Pe&&T++;const me={...v,style:v.toastStyle,key:C++,...Object.fromEntries(Object.entries(E).filter(Z=>{let[ee,ie]=Z;return ie!=null})),toastId:S,updateId:N,data:R,closeToast:He,isIn:!1,className:$l(E.className||v.toastClassName),bodyClassName:$l(E.bodyClassName||v.bodyClassName),progressClassName:$l(E.progressClassName||v.progressClassName),autoClose:!E.isLoading&&(j=E.autoClose,H=v.autoClose,j===!1||ao(j)&&j>0?j:H),deleteToast(){const Z=b.get(S),{onClose:ee,children:ie}=Z.props;Pt(ee)&&ee(k.isValidElement(ie)&&ie.props),m(mv(Z,"removed")),b.delete(S),T--,T<0&&(T=0),I.length>0?w(I.shift()):M()}};var j,H;me.closeButton=v.closeButton,E.closeButton===!1||Yh(E.closeButton)?me.closeButton=E.closeButton:E.closeButton===!0&&(me.closeButton=!Yh(v.closeButton)||v.closeButton);let K=g;k.isValidElement(g)&&!os(g.type)?K=k.cloneElement(g,{closeToast:He,toastProps:me,data:R}):Pt(g)&&(K=g({closeToast:He,toastProps:me,data:R}));const ne={content:K,props:me,staleId:x};v.limit&&v.limit>0&&T>v.limit&&Pe?I.push(ne):ao(ve)?setTimeout(()=>{w(ne)},ve):w(ne)},setProps(g){v=g},setToggle:(g,E)=>{b.get(g).toggle=E},isToastActive:g=>O.some(E=>E===g),getSnapshot:()=>_}}(a,i,b2);yt.set(a,u);const c=u.observe(l);return oo.forEach(h=>m_(h.content,h.options)),oo=[],()=>{c(),yt.delete(a)}},setProps(l){var u;(u=yt.get(a))==null||u.setProps(l)},getSnapshot(){var l;return(l=yt.get(a))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const s=k.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const a=new Map;return t.newestOnTop&&s.reverse(),s.forEach(l=>{const{position:u}=l.props;a.has(u)||a.set(u,[]),a.get(u).push(l)}),Array.from(a,l=>i(l[0],l[1]))},isToastActive:p_,count:s==null?void 0:s.length}}function E2(t){const[e,n]=k.useState(!1),[r,s]=k.useState(!1),i=k.useRef(null),a=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:p}=t;var m,C;function T(){n(!0)}function I(){n(!1)}function O(b){const A=i.current;a.canDrag&&A&&(a.didMove=!0,e&&I(),a.delta=t.draggableDirection==="x"?b.clientX-a.start:b.clientY-a.start,a.start!==b.clientX&&(a.canCloseOnClick=!1),A.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function _(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",_);const b=i.current;if(a.canDrag&&a.didMove&&b){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}(C=yt.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||C.setToggle(m.id,m.fn),k.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||I(),window.addEventListener("focus",T),window.addEventListener("blur",I),()=>{window.removeEventListener("focus",T),window.removeEventListener("blur",I)}},[t.pauseOnFocusLoss]);const v={onPointerDown:function(b){if(t.draggable===!0||t.draggable===b.pointerType){a.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",_);const A=i.current;a.canCloseOnClick=!0,a.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(a.start=b.clientX,a.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(a.start=b.clientY,a.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(b){const{top:A,bottom:M,left:L,right:w}=i.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&t.pauseOnHover&&b.clientX>=L&&b.clientX<=w&&b.clientY>=A&&b.clientY<=M?I():T()}};return l&&u&&(v.onMouseEnter=I,t.stacked||(v.onMouseLeave=T)),p&&(v.onClick=b=>{h&&h(b),a.canCloseOnClick&&c()}),{playToast:T,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:v}}function _2(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:a,style:l,controlledProgress:u,progress:c,rtl:h,isIn:p,theme:m}=t;const C=i||u&&c===0,T={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(T.transform=`scaleX(${c})`);const I=vr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),O=Pt(a)?a({rtl:h,type:s,defaultClassName:I}):vr(I,a),_={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{p&&r()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${s}`}),te.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:O,style:T,..._}))}let k2=1;const g_=()=>""+k2++;function T2(t){return t&&(os(t.toastId)||ao(t.toastId))?t.toastId:g_()}function Da(t,e){return m_(t,e),e.toastId}function Iu(t,e){return{...e,type:e&&e.type||t,toastId:T2(e)}}function wl(t){return(e,n)=>Da(e,Iu(t,n))}function ge(t,e){return Da(t,Iu("default",e))}ge.loading=(t,e)=>Da(t,Iu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ge.promise=function(t,e,n){let r,{pending:s,error:i,success:a}=e;s&&(r=os(s)?ge.loading(s,n):ge.loading(s.render,{...n,...s}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,p,m)=>{if(p==null)return void ge.dismiss(r);const C={type:h,...l,...n,data:m},T=os(p)?{render:p}:p;return r?ge.update(r,{...C,...T}):ge(T.render,{...C,...T}),m},c=Pt(t)?t():t;return c.then(h=>u("success",a,h)).catch(h=>u("error",i,h)),c},ge.success=wl("success"),ge.info=wl("info"),ge.error=wl("error"),ge.warning=wl("warning"),ge.warn=ge.warning,ge.dark=(t,e)=>Da(t,Iu("default",{theme:"dark",...e})),ge.dismiss=function(t){(function(e){var n;if(f_()){if(e==null||os(n=e)||ao(n))yt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=yt.get(e.containerId);r?r.removeToast(e.id):yt.forEach(s=>{s.removeToast(e.id)})}}else oo=oo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ge.clearWaitingQueue=function(t){t===void 0&&(t={}),yt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ge.isActive=p_,ge.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:a}=s;return(i=yt.get(a||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:g_()};i.toastId!==t&&(i.staleId=t);const a=i.render||s;delete i.render,Da(a,i)}},ge.done=t=>{ge.update(t,{progress:1})},ge.onChange=function(t){return Xh.add(t),()=>{Xh.delete(t)}},ge.play=t=>gv(!0,t),ge.pause=t=>gv(!1,t);const S2=typeof window<"u"?k.useLayoutEffect:k.useEffect,El=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Ld={info:function(t){return te.createElement(El,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return te.createElement(El,{...t},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return te.createElement(El,{...t},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return te.createElement(El,{...t},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return te.createElement("div",{className:"Toastify__spinner"})}},C2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=E2(t),{closeButton:a,children:l,autoClose:u,onClick:c,type:h,hideProgressBar:p,closeToast:m,transition:C,position:T,className:I,style:O,bodyClassName:_,bodyStyle:v,progressClassName:b,progressStyle:A,updateId:M,role:L,progress:w,rtl:g,toastId:E,deleteToast:S,isIn:N,isLoading:R,closeOnClick:x,theme:ve}=t,He=vr("Toastify__toast",`Toastify__toast-theme--${ve}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":g},{"Toastify__toast--close-on-click":x}),Pe=Pt(I)?I({rtl:g,position:T,type:h,defaultClassName:He}):vr(He,I),me=function(ne){let{theme:Z,type:ee,isLoading:ie,icon:pe}=ne,je=null;const Qe={theme:Z,type:ee};return pe===!1||(Pt(pe)?je=pe({...Qe,isLoading:ie}):k.isValidElement(pe)?je=k.cloneElement(pe,Qe):ie?je=Ld.spinner():(zi=>zi in Ld)(ee)&&(je=Ld[ee](Qe))),je}(t),j=!!w||!u,H={closeToast:m,type:h,theme:ve};let K=null;return a===!1||(K=Pt(a)?a(H):k.isValidElement(a)?k.cloneElement(a,H):function(ne){let{closeToast:Z,theme:ee,ariaLabel:ie="close"}=ne;return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ee}`,type:"button",onClick:pe=>{pe.stopPropagation(),Z(pe)},"aria-label":ie},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(H)),te.createElement(C,{isIn:N,done:S,position:T,preventExitTransition:n,nodeRef:r,playToast:i},te.createElement("div",{id:E,onClick:c,"data-in":N,className:Pe,...s,style:O,ref:r},te.createElement("div",{...N&&{role:L},className:Pt(_)?_({type:h}):vr("Toastify__toast-body",_),style:v},me!=null&&te.createElement("div",{className:vr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},me),te.createElement("div",null,l)),K,te.createElement(_2,{...M&&!j?{key:`pb-${M}`}:{},rtl:g,theme:ve,delay:u,isRunning:e,isIn:N,closeToast:m,hide:p,type:h,style:A,className:b,controlledProgress:j,progress:w||0})))},Ec=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},x2=wc(Ec("bounce",!0));wc(Ec("slide",!0));wc(Ec("zoom"));wc(Ec("flip"));const I2={position:"top-right",transition:x2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function N2(t){let e={...I2,...t};const n=t.stacked,[r,s]=k.useState(!0),i=k.useRef(null),{getToastToRender:a,isToastActive:l,count:u}=w2(e),{className:c,style:h,rtl:p,containerId:m}=e;function C(I){const O=vr("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":p});return Pt(c)?c({position:I,rtl:p,defaultClassName:O}):vr(O,$l(c))}function T(){n&&(s(!0),ge.play())}return S2(()=>{if(n){var I;const O=i.current.querySelectorAll('[data-in="true"]'),_=12,v=(I=e.position)==null?void 0:I.includes("top");let b=0,A=0;Array.from(O).reverse().forEach((M,L)=>{const w=M;w.classList.add("Toastify__toast--stacked"),L>0&&(w.dataset.collapsed=`${r}`),w.dataset.pos||(w.dataset.pos=v?"top":"bot");const g=b*(r?.2:1)+(r?0:_*L);w.style.setProperty("--y",`${v?g:-1*g}px`),w.style.setProperty("--g",`${_}`),w.style.setProperty("--s",""+(1-(r?A:0))),b+=w.offsetHeight,A+=.025})}},[r,u,n]),te.createElement("div",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{n&&(s(!1),ge.pause())},onMouseLeave:T},a((I,O)=>{const _=O.length?{...h}:{...h,pointerEvents:"none"};return te.createElement("div",{className:C(I),style:_,key:`container-${I}`},O.map(v=>{let{content:b,props:A}=v;return te.createElement(C2,{...A,stacked:n,collapseAll:T,isIn:l(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},b)}))}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Jh={},yv=z0;Jh.createRoot=yv.createRoot,Jh.hydrateRoot=yv.hydrateRoot;const y_=k.createContext();function O2({children:t}){const[e,n]=k.useState([]),r=(s,i)=>{n(a=>a.find(l=>l.id===s.id)?a.map(l=>l.id===s.id?{...l,quantity:l.quantity+i}:l):[...a,{...s,quantity:i}])};return F.jsx(y_.Provider,{value:{cartItems:e,addToCart:r},children:t})}function A2(){return k.useContext(y_)}var vv={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},R2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|c>>6,C=c&63;u||(C=64,a||(m=64)),r.push(n[h],n[p],n[m],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||u==null)throw new P2;const c=i<<2|a>>4;if(r.push(c),l!==64){const h=a<<4&240|l>>2;if(r.push(h),u!==64){const p=l<<6&192|u;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D2=function(t){const e=v_(t);return b_.encodeByteArray(e,!0)},Nu=function(t){return D2(t).replace(/\./g,"")},w_=function(t){try{return b_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function L2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M2=()=>L2().__FIREBASE_DEFAULTS__,F2=()=>{if(typeof process>"u"||typeof vv>"u")return;const t=vv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w_(t[1]);return e&&JSON.parse(e)},_c=()=>{try{return M2()||F2()||U2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E_=t=>{var e,n;return(n=(e=_c())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},j2=t=>{const e=E_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},__=()=>{var t;return(t=_c())===null||t===void 0?void 0:t.config},k_=t=>{var e;return(e=_c())===null||e===void 0?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function z2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nu(JSON.stringify(n)),Nu(JSON.stringify(a)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function B2(){var t;const e=(t=_c())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W2(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q2(){try{return typeof indexedDB=="object"}catch{return!1}}function Y2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X2="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X2,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?J2(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yn(s,l,r)}}function J2(t,e){return t.replace(Z2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Z2=/\{\$([^}]+)}/g;function eO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ou(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(bv(i)&&bv(a)){if(!Ou(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bv(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tO(t,e){const n=new nO(t,e);return n.subscribe.bind(n)}class nO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Md),s.error===void 0&&(s.error=Md),s.complete===void 0&&(s.complete=Md);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xr="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aO(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iO(t){return t===Xr?void 0:t}function aO(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const lO={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},uO=ae.INFO,cO={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},dO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=uO,this._logHandler=dO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const hO=(t,e)=>e.some(n=>t instanceof n);let wv,Ev;function fO(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pO(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Zh=new WeakMap,S_=new WeakMap,Fd=new WeakMap,Up=new WeakMap;function mO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Nr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&T_.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function gO(t){if(Zh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Zh.set(t,e)}let ef={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yO(t){ef=t(ef)}function vO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ud(this),e,...n);return S_.set(r,e.sort?e.sort():[e]),Nr(r)}:pO().includes(t)?function(...e){return t.apply(Ud(this),e),Nr(T_.get(this))}:function(...e){return Nr(t.apply(Ud(this),e))}}function bO(t){return typeof t=="function"?vO(t):(t instanceof IDBTransaction&&gO(t),hO(t,fO())?new Proxy(t,ef):t)}function Nr(t){if(t instanceof IDBRequest)return mO(t);if(Fd.has(t))return Fd.get(t);const e=bO(t);return e!==t&&(Fd.set(t,e),Up.set(e,t)),e}const Ud=t=>Up.get(t);function wO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Nr(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Nr(a.result),u.oldVersion,u.newVersion,Nr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const EO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],jd=new Map;function _v(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EO.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return jd.set(e,i),i}yO(t=>({...t,get:(e,n,r)=>_v(e,n)||t.get(e,n,r),has:(e,n)=>!!_v(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(TO(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function TO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tf="@firebase/app",kv="0.10.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qn=new Fp("@firebase/app"),SO="@firebase/app-compat",CO="@firebase/analytics-compat",xO="@firebase/analytics",IO="@firebase/app-check-compat",NO="@firebase/app-check",OO="@firebase/auth",AO="@firebase/auth-compat",RO="@firebase/database",PO="@firebase/data-connect",DO="@firebase/database-compat",LO="@firebase/functions",MO="@firebase/functions-compat",FO="@firebase/installations",UO="@firebase/installations-compat",jO="@firebase/messaging",VO="@firebase/messaging-compat",zO="@firebase/performance",$O="@firebase/performance-compat",BO="@firebase/remote-config",qO="@firebase/remote-config-compat",HO="@firebase/storage",KO="@firebase/storage-compat",WO="@firebase/firestore",GO="@firebase/vertexai-preview",QO="@firebase/firestore-compat",YO="firebase",XO="10.14.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nf="[DEFAULT]",JO={[tf]:"fire-core",[SO]:"fire-core-compat",[xO]:"fire-analytics",[CO]:"fire-analytics-compat",[NO]:"fire-app-check",[IO]:"fire-app-check-compat",[OO]:"fire-auth",[AO]:"fire-auth-compat",[RO]:"fire-rtdb",[PO]:"fire-data-connect",[DO]:"fire-rtdb-compat",[LO]:"fire-fn",[MO]:"fire-fn-compat",[FO]:"fire-iid",[UO]:"fire-iid-compat",[jO]:"fire-fcm",[VO]:"fire-fcm-compat",[zO]:"fire-perf",[$O]:"fire-perf-compat",[BO]:"fire-rc",[qO]:"fire-rc-compat",[HO]:"fire-gcs",[KO]:"fire-gcs-compat",[WO]:"fire-fst",[QO]:"fire-fst-compat",[GO]:"fire-vertex","fire-js":"fire-js",[YO]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Au=new Map,ZO=new Map,rf=new Map;function Tv(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){const e=t.name;if(rf.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,t);for(const n of Au.values())Tv(n,t);for(const n of ZO.values())Tv(n,t);return!0}function jp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Co("app","Firebase",eA);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Li=XO;function C_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Or.create("bad-app-name",{appName:String(s)});if(n||(n=__()),!n)throw Or.create("no-options");const i=Au.get(s);if(i){if(Ou(n,i.options)&&Ou(r,i.config))return i;throw Or.create("duplicate-app",{appName:s})}const a=new oO(s);for(const u of rf.values())a.addComponent(u);const l=new tA(n,r,a);return Au.set(s,l),l}function x_(t=nf){const e=Au.get(t);if(!e&&t===nf&&__())return C_();if(!e)throw Or.create("no-app",{appName:t});return e}function Ar(t,e,n){var r;let s=(r=JO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(l.join(" "));return}_i(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nA="firebase-heartbeat-database",rA=1,lo="firebase-heartbeat-store";let Vd=null;function I_(){return Vd||(Vd=wO(nA,rA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function sA(t){try{const e=(await I_()).transaction(lo),n=await e.objectStore(lo).get(N_(t));return await e.done,n}catch(e){if(e instanceof Yn)qn.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qn.warn(n.message)}}}async function Sv(t,e){try{const n=(await I_()).transaction(lo,"readwrite");await n.objectStore(lo).put(e,N_(t)),await n.done}catch(n){if(n instanceof Yn)qn.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qn.warn(r.message)}}}function N_(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iA=1024,aA=30*24*60*60*1e3;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=aA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:r,unsentEntries:s}=lA(this._heartbeatsCache.heartbeats),i=Nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qn.warn(n),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function lA(t,e=iA){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),xv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q2()?Y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await sA(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xv(t){return Nu(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cA(t){_i(new ps("platform-logger",e=>new kO(e),"PRIVATE")),_i(new ps("heartbeat",e=>new oA(e),"PRIVATE")),Ar(tf,kv,t),Ar(tf,kv,"esm2017"),Ar("fire-js","")}cA("");function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function O_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=O_,A_=new Co("auth","Firebase",O_());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ru=new Fp("@firebase/auth");function hA(t,...e){Ru.logLevel<=ae.WARN&&Ru.warn(`Auth (${Li}): ${t}`,...e)}function Bl(t,...e){Ru.logLevel<=ae.ERROR&&Ru.error(`Auth (${Li}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wt(t,...e){throw $p(t,...e)}function an(t,...e){return $p(t,...e)}function zp(t,e,n){const r=Object.assign(Object.assign({},dA()),{[e]:n});return new Co("auth","Firebase",r).create(e,{appName:t.name})}function Fn(t){return zp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wt(t,"argument-error"),zp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $p(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A_.create(t,...e)}function Q(t,e,...n){if(!t)throw $p(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function Hn(t,e){t||On(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pA(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||H2()||"connection"in navigator)?navigator.onLine:!0}function gA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Io{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hn(n>e,"Short delay should be less than long delay!"),this.isMobile=$2()||K2()}get(){return mA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bp(t,e){Hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vA=new Io(3e4,6e4);function Xn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bn(t,e,n,r,s={}){return P_(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=xo(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return q2()||(c.referrerPolicy="no-referrer"),R_.fetch()(D_(t,t.config.apiHost,n,l),c)})}async function P_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yA),e);try{const s=new wA(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw _l(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw _l(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zp(t,h,c);Wt(t,h)}}catch(s){if(s instanceof Yn)throw s;Wt(t,"network-request-failed",{message:String(s)})}}async function No(t,e,n,r,s={}){const i=await bn(t,e,n,r,s);return"mfaPendingCredential"in i&&Wt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function D_(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Bp(t.config,s):`${t.config.apiScheme}://${s}`}function bA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),vA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=an(t,e,r);return s.customData._tokenResponse=n,s}function Nv(t){return t!==void 0&&t.enterprise!==void 0}class EA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _A(t,e){return bn(t,"GET","/v2/recaptchaConfig",Xn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kA(t,e){return bn(t,"POST","/v1/accounts:delete",e)}async function L_(t,e){return bn(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function La(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TA(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=qp(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:La(zd(s.auth_time)),issuedAtTime:La(zd(s.iat)),expirationTime:La(zd(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function qp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bl("JWT malformed, contained fewer than 3 sections"),null;try{const s=w_(n);return s?JSON.parse(s):(Bl("Failed to decode base64 JWT payload"),null)}catch(s){return Bl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ov(t){const e=qp(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ki(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&SA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class af{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Pu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ki(t,L_(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?M_(i.providerUserInfo):[],l=IA(t.providerData,a),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new af(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function xA(t){const e=Nt(t);await Pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IA(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function M_(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function NA(t,e){const n=await P_(t,{},async()=>{const r=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=D_(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",R_.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OA(t,e){return bn(t,"POST","/v2/accounts:revokeToken",Xn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await NA(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new ci;return r&&(Q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ci,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ir(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class An{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new af(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ki(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TA(this,e)}reload(){return xA(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new An(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await ki(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,C=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:A,isAnonymous:M,providerData:L,stsTokenManager:w}=n;Q(b&&w,e,"internal-error");const g=ci.fromJSON(this.name,w);Q(typeof b=="string",e,"internal-error"),ir(p,e.name),ir(m,e.name),Q(typeof A=="boolean",e,"internal-error"),Q(typeof M=="boolean",e,"internal-error"),ir(C,e.name),ir(T,e.name),ir(I,e.name),ir(O,e.name),ir(_,e.name),ir(v,e.name);const E=new An({uid:b,auth:e,email:m,emailVerified:A,displayName:p,isAnonymous:M,photoURL:T,phoneNumber:C,tenantId:I,stsTokenManager:g,createdAt:_,lastLoginAt:v});return L&&Array.isArray(L)&&(E.providerData=L.map(S=>Object.assign({},S))),O&&(E._redirectEventId=O),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new ci;s.updateFromServerResponse(n);const i=new An({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?M_(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ci;l.updateFromIdToken(r);const u=new An({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new af(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Av=new Map;function Rn(t){Hn(t instanceof Function,"Expected a class definition");let e=Av.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Av.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}F_.type="NONE";const Rv=F_;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ql(this.userKey,s.apiKey,i),this.fullPersistenceKey=ql("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?An._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new di(Rn(Rv),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rn(Rv);const a=ql(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(a);if(h){const p=An._fromJSON(e,h);c!==i&&(l=p),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new di(i,e,r):(i=u[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new di(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B_(e))return"Blackberry";if(q_(e))return"Webos";if(j_(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if($_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function U_(t=ft()){return/firefox\//i.test(t)}function j_(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(t=ft()){return/crios\//i.test(t)}function z_(t=ft()){return/iemobile/i.test(t)}function $_(t=ft()){return/android/i.test(t)}function B_(t=ft()){return/blackberry/i.test(t)}function q_(t=ft()){return/webos/i.test(t)}function Hp(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AA(t=ft()){var e;return Hp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RA(){return W2()&&document.documentMode===10}function H_(t=ft()){return Hp(t)||$_(t)||q_(t)||B_(t)||/windows phone/i.test(t)||z_(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K_(t,e=[]){let n;switch(t){case"Browser":n=Pv(ft());break;case"Worker":n=`${Pv(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const u=e(i);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function DA(t,e={}){return bn(t,"GET","/v2/passwordPolicy",Xn(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LA=6;class MA{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:LA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await di.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L_(this,{idToken:e}),r=await An._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u!=null&&u.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Fn(this));const n=e?Nt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DA(this),n=new MA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await di.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jn(t){return Nt(t)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=tO(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UA(t){kc=t}function W_(t){return kc.loadJS(t)}function jA(){return kc.recaptchaEnterpriseScript}function VA(){return kc.gapiScript}function zA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $A="recaptcha-enterprise",BA="NO_RECAPTCHA";class qA{constructor(e){this.type=$A,this.auth=Jn(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{_A(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new EA(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function s(i,a,l){const u=window.grecaptcha;Nv(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{a(c)}).catch(()=>{a(BA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Nv(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jA();u.length!==0&&(u+=l),W_(u).then(()=>{s(l,i,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function Lv(t,e,n,r=!1){const s=new qA(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Du(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Lv(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Lv(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function HA(t,e){const n=jp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ou(s,e))return r;Wt(r,"already-initialized")}return n.initialize({options:e})}function KA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WA(t,e,n){const r=Jn(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=G_(e),{host:a,port:l}=GA(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),QA()}function G_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GA(t){const e=G_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Mv(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Mv(a)}}}function Mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}async function YA(t,e){return bn(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function XA(t,e){return No(t,"POST","/v1/accounts:signInWithPassword",Xn(t,e))}async function JA(t,e){return bn(t,"POST","/v1/accounts:sendOobCode",Xn(t,e))}async function ZA(t,e){return JA(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eR(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))}async function tR(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo extends Kp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Du(e,n,"signInWithPassword",XA);case"emailLink":return eR(e,{email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Du(e,r,"signUpPassword",YA);case"emailLink":return tR(e,{idToken:n,email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hi(t,e){return No(t,"POST","/v1/accounts:signInWithIdp",Xn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nR="http://localhost";class ms extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vp(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new ms(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}buildRequest(){const e={requestUri:nR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xo(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sR(t){const e=wa(Ea(t)).link,n=e?wa(Ea(e)).deep_link_id:null,r=wa(Ea(t)).deep_link_id;return(r?wa(Ea(r)).link:null)||r||n||e||t}class Wp{constructor(e){var n,r,s,i,a,l;const u=wa(Ea(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=rR((s=u.mode)!==null&&s!==void 0?s:null);Q(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=sR(e);try{return new Wp(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,n){return uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wp.parseLink(n);return Q(r,"argument-error"),uo._fromEmailAndCode(e,r.code,r.tenantId)}}Mi.PROVIDER_ID="password";Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oo extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hr extends Oo{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xn extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xn.credential(n,r)}catch{return null}}}xn.GOOGLE_SIGN_IN_METHOD="google.com";xn.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fr extends Oo{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pr extends Oo{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function iR(t,e){return No(t,"POST","/v1/accounts:signUp",Xn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await An._fromIdTokenResponse(e,r,s),a=Fv(r);return new gs({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Fv(r);return new gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Fv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lu extends Yn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Lu(e,n,r,s)}}function Q_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lu._fromErrorAndOperation(t,s,e,r):s})}async function aR(t,e,n=!1){const r=await ki(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function oR(t,e,n=!1){const{auth:r}=t;if(tn(r.app))return Promise.reject(Fn(r));const s="reauthenticate";try{const i=await ki(t,Q_(r,s,e,t),n);Q(i.idToken,r,"internal-error");const a=qp(i.idToken);Q(a,r,"internal-error");const{sub:l}=a;return Q(t.uid===l,r,"user-mismatch"),gs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Wt(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Y_(t,e,n=!1){if(tn(t.app))return Promise.reject(Fn(t));const r="signIn",s=await Q_(t,r,e),i=await gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function lR(t,e){return Y_(Jn(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function X_(t){const e=Jn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uR(t,e,n){const r=Jn(t);await Du(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZA)}async function cR(t,e,n){if(tn(t.app))return Promise.reject(Fn(t));const r=Jn(t),s=await Du(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iR).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&X_(t),a}),i=await gs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function dR(t,e,n){return tn(t.app)?Promise.reject(Fn(t)):lR(Nt(t),Mi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X_(t),r})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hR(t,e){return bn(t,"POST","/v1/accounts:update",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await ki(r,hR(r.auth,s));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function pR(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function mR(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function gR(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function yR(t){return Nt(t).signOut()}const Mu="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vR=1e3,bR=10;class Z_ extends J_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);RA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z_.type="LOCAL";const wR=Z_;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ek extends J_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ek.type="SESSION";const tk=ek;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ER(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async c=>c(n.origin,i)),u=await ER(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _R{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,u)=>{const c=Qp("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pn(){return window}function kR(t){pn().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nk(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CR(){return nk()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rk="firebaseLocalStorageDb",xR=1,Fu="firebaseLocalStorage",sk="fbase_key";class Ao{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sc(t,e){return t.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function IR(){const t=indexedDB.deleteDatabase(rk);return new Ao(t).toPromise()}function of(){const t=indexedDB.open(rk,xR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fu,{keyPath:sk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fu)?e(r):(r.close(),await IR(),e(await of()))})})}async function Uv(t,e,n){const r=Sc(t,!0).put({[sk]:e,value:n});return new Ao(r).toPromise()}async function NR(t,e){const n=Sc(t,!1).get(e),r=await new Ao(n).toPromise();return r===void 0?null:r.value}function jv(t,e){const n=Sc(t,!0).delete(e);return new Ao(n).toPromise()}const OR=800,AR=3;class ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await of(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(CR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new _R(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await of();return await Uv(e,Mu,"1"),await jv(e,Mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sc(s,!1).getAll();return new Ao(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ik.type="LOCAL";const RR=ik;new Io(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ak(t,e){return e?Rn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PR(t){return Y_(t.auth,new Yp(t),t.bypassAuthState)}function DR(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),oR(n,new Yp(t),t.bypassAuthState)}async function LR(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),aR(n,new Yp(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ok{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:Wt(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MR=new Io(2e3,1e4);async function FR(t,e,n){if(tn(t.app))return Promise.reject(an(t,"operation-not-supported-in-this-environment"));const r=Jn(t);fA(t,e,Gp);const s=ak(r,n);return new ns(r,"signInViaPopup",e,s).executeNotNull()}class ns extends ok{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}ns.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UR="pendingRedirect",Hl=new Map;class jR extends ok{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hl.get(this.auth._key());if(!e){try{const n=await VR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Hl.set(this.auth._key(),e)}return this.bypassAuthState||Hl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(t,e){const n=BR(e),r=$R(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zR(t,e){Hl.set(t._key(),e)}function $R(t){return Rn(t._redirectPersistence)}function BR(t){return ql(UR,t.config.apiKey,t.name)}async function qR(t,e,n=!1){if(tn(t.app))return Promise.reject(Fn(t));const r=Jn(t),s=ak(r,e),i=await new jR(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HR=10*60*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(e))}saveEventToCache(e){this.cachedEventUids.add(Vv(e)),this.lastProcessedEventTime=Date.now()}}function Vv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lk(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function GR(t,e={}){return bn(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function XR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GR(t);for(const n of e)try{if(JR(n))return}catch{}Wt(t,"unauthorized-domain")}function JR(t){const e=sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!YR.test(n))return!1;if(QR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZR=new Io(3e4,6e4);function zv(){const t=pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eP(t){return new Promise((e,n)=>{var r,s,i;function a(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(an(t,"network-request-failed"))},timeout:ZR.get()})}if(!((s=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pn().gapi)===null||i===void 0)&&i.load)a();else{const l=zA("iframefcb");return pn()[l]=()=>{gapi.load?a():n(an(t,"network-request-failed"))},W_(`${VA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Kl=null,e})}let Kl=null;function tP(t){return Kl=Kl||eP(t),Kl}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nP=new Io(5e3,15e3),rP="__/auth/iframe",sP="emulator/auth/iframe",iP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oP(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bp(e,sP):`https://${t.config.authDomain}/${rP}`,r={apiKey:e.apiKey,appName:t.name,v:Li},s=aP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${xo(r).slice(1)}`}async function lP(t){const e=await tP(t),n=pn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:oP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=an(t,"network-request-failed"),l=pn().setTimeout(()=>{i(a)},nP.get());function u(){pn().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cP=500,dP=600,hP="_blank",fP="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pP(t,e,n,r=cP,s=dP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},uP),{width:r.toString(),height:s.toString(),top:i,left:a}),c=ft().toLowerCase();n&&(l=V_(c)?hP:n),U_(c)&&(e=e||fP,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[C,T])=>`${m}${C}=${T},`,"");if(AA(c)&&l!=="_self")return mP(e||"",l),new $v(null);const p=window.open(e||"",l,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new $v(p)}function mP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gP="__/auth/handler",yP="emulator/auth/handler",vP=encodeURIComponent("fac");async function Bv(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:s};if(e instanceof Gp){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof Oo){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${vP}=${encodeURIComponent(u)}`:"";return`${bP(t)}?${xo(l).slice(1)}${c}`}function bP({config:t}){return t.emulator?Bp(t,yP):`https://${t.authDomain}/${gP}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $d="webStorageSupport";class wP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tk,this._completeRedirectFn=qR,this._overrideRedirectResult=zR}async _openPopup(e,n,r,s){var i;Hn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await Bv(e,n,r,sf(),s);return pP(e,a,Qp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bv(e,n,r,sf(),s);return kR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Hn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lP(e),r=new KR(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($d,{type:$d},r=>{var s;const i=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[$d];i!==void 0&&n(!!i),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H_()||j_()||Hp()}}const EP=wP;var qv="@firebase/auth",Hv="1.7.9";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TP(t){_i(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K_(t)},c=new FA(r,s,i,u);return KA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new ps("auth-internal",e=>{const n=Jn(e.getProvider("auth").getImmediate());return(r=>new _P(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(qv,Hv,kP(t)),Ar(qv,Hv,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SP=5*60,CP=k_("authIdTokenMaxAge")||SP;let Kv=null;const xP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CP)return;const s=n==null?void 0:n.token;Kv!==s&&(Kv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IP(t=x_()){const e=jp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HA(t,{popupRedirectResolver:EP,persistence:[RR,wR,tk]}),r=k_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=xP(i.toString());mR(n,a,()=>a(n.currentUser)),pR(n,l=>a(l))}}const s=E_("auth");return s&&WA(n,`http://${s}`),n}function NP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=an("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",NP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TP("Browser");var OP="firebase",AP="10.14.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ar(OP,AP,"app");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,uk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,g){function E(){}E.prototype=g.prototype,w.D=g.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(S,N,R){for(var x=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)x[ve-2]=arguments[ve];return g.prototype[N].apply(S,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,g,E){E||(E=0);var S=Array(16);if(typeof g=="string")for(var N=0;16>N;++N)S[N]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(N=0;16>N;++N)S[N]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=w.g[0],E=w.g[1],N=w.g[2];var R=w.g[3],x=g+(R^E&(N^R))+S[0]+3614090360&4294967295;g=E+(x<<7&4294967295|x>>>25),x=R+(N^g&(E^N))+S[1]+3905402710&4294967295,R=g+(x<<12&4294967295|x>>>20),x=N+(E^R&(g^E))+S[2]+606105819&4294967295,N=R+(x<<17&4294967295|x>>>15),x=E+(g^N&(R^g))+S[3]+3250441966&4294967295,E=N+(x<<22&4294967295|x>>>10),x=g+(R^E&(N^R))+S[4]+4118548399&4294967295,g=E+(x<<7&4294967295|x>>>25),x=R+(N^g&(E^N))+S[5]+1200080426&4294967295,R=g+(x<<12&4294967295|x>>>20),x=N+(E^R&(g^E))+S[6]+2821735955&4294967295,N=R+(x<<17&4294967295|x>>>15),x=E+(g^N&(R^g))+S[7]+4249261313&4294967295,E=N+(x<<22&4294967295|x>>>10),x=g+(R^E&(N^R))+S[8]+1770035416&4294967295,g=E+(x<<7&4294967295|x>>>25),x=R+(N^g&(E^N))+S[9]+2336552879&4294967295,R=g+(x<<12&4294967295|x>>>20),x=N+(E^R&(g^E))+S[10]+4294925233&4294967295,N=R+(x<<17&4294967295|x>>>15),x=E+(g^N&(R^g))+S[11]+2304563134&4294967295,E=N+(x<<22&4294967295|x>>>10),x=g+(R^E&(N^R))+S[12]+1804603682&4294967295,g=E+(x<<7&4294967295|x>>>25),x=R+(N^g&(E^N))+S[13]+4254626195&4294967295,R=g+(x<<12&4294967295|x>>>20),x=N+(E^R&(g^E))+S[14]+2792965006&4294967295,N=R+(x<<17&4294967295|x>>>15),x=E+(g^N&(R^g))+S[15]+1236535329&4294967295,E=N+(x<<22&4294967295|x>>>10),x=g+(N^R&(E^N))+S[1]+4129170786&4294967295,g=E+(x<<5&4294967295|x>>>27),x=R+(E^N&(g^E))+S[6]+3225465664&4294967295,R=g+(x<<9&4294967295|x>>>23),x=N+(g^E&(R^g))+S[11]+643717713&4294967295,N=R+(x<<14&4294967295|x>>>18),x=E+(R^g&(N^R))+S[0]+3921069994&4294967295,E=N+(x<<20&4294967295|x>>>12),x=g+(N^R&(E^N))+S[5]+3593408605&4294967295,g=E+(x<<5&4294967295|x>>>27),x=R+(E^N&(g^E))+S[10]+38016083&4294967295,R=g+(x<<9&4294967295|x>>>23),x=N+(g^E&(R^g))+S[15]+3634488961&4294967295,N=R+(x<<14&4294967295|x>>>18),x=E+(R^g&(N^R))+S[4]+3889429448&4294967295,E=N+(x<<20&4294967295|x>>>12),x=g+(N^R&(E^N))+S[9]+568446438&4294967295,g=E+(x<<5&4294967295|x>>>27),x=R+(E^N&(g^E))+S[14]+3275163606&4294967295,R=g+(x<<9&4294967295|x>>>23),x=N+(g^E&(R^g))+S[3]+4107603335&4294967295,N=R+(x<<14&4294967295|x>>>18),x=E+(R^g&(N^R))+S[8]+1163531501&4294967295,E=N+(x<<20&4294967295|x>>>12),x=g+(N^R&(E^N))+S[13]+2850285829&4294967295,g=E+(x<<5&4294967295|x>>>27),x=R+(E^N&(g^E))+S[2]+4243563512&4294967295,R=g+(x<<9&4294967295|x>>>23),x=N+(g^E&(R^g))+S[7]+1735328473&4294967295,N=R+(x<<14&4294967295|x>>>18),x=E+(R^g&(N^R))+S[12]+2368359562&4294967295,E=N+(x<<20&4294967295|x>>>12),x=g+(E^N^R)+S[5]+4294588738&4294967295,g=E+(x<<4&4294967295|x>>>28),x=R+(g^E^N)+S[8]+2272392833&4294967295,R=g+(x<<11&4294967295|x>>>21),x=N+(R^g^E)+S[11]+1839030562&4294967295,N=R+(x<<16&4294967295|x>>>16),x=E+(N^R^g)+S[14]+4259657740&4294967295,E=N+(x<<23&4294967295|x>>>9),x=g+(E^N^R)+S[1]+2763975236&4294967295,g=E+(x<<4&4294967295|x>>>28),x=R+(g^E^N)+S[4]+1272893353&4294967295,R=g+(x<<11&4294967295|x>>>21),x=N+(R^g^E)+S[7]+4139469664&4294967295,N=R+(x<<16&4294967295|x>>>16),x=E+(N^R^g)+S[10]+3200236656&4294967295,E=N+(x<<23&4294967295|x>>>9),x=g+(E^N^R)+S[13]+681279174&4294967295,g=E+(x<<4&4294967295|x>>>28),x=R+(g^E^N)+S[0]+3936430074&4294967295,R=g+(x<<11&4294967295|x>>>21),x=N+(R^g^E)+S[3]+3572445317&4294967295,N=R+(x<<16&4294967295|x>>>16),x=E+(N^R^g)+S[6]+76029189&4294967295,E=N+(x<<23&4294967295|x>>>9),x=g+(E^N^R)+S[9]+3654602809&4294967295,g=E+(x<<4&4294967295|x>>>28),x=R+(g^E^N)+S[12]+3873151461&4294967295,R=g+(x<<11&4294967295|x>>>21),x=N+(R^g^E)+S[15]+530742520&4294967295,N=R+(x<<16&4294967295|x>>>16),x=E+(N^R^g)+S[2]+3299628645&4294967295,E=N+(x<<23&4294967295|x>>>9),x=g+(N^(E|~R))+S[0]+4096336452&4294967295,g=E+(x<<6&4294967295|x>>>26),x=R+(E^(g|~N))+S[7]+1126891415&4294967295,R=g+(x<<10&4294967295|x>>>22),x=N+(g^(R|~E))+S[14]+2878612391&4294967295,N=R+(x<<15&4294967295|x>>>17),x=E+(R^(N|~g))+S[5]+4237533241&4294967295,E=N+(x<<21&4294967295|x>>>11),x=g+(N^(E|~R))+S[12]+1700485571&4294967295,g=E+(x<<6&4294967295|x>>>26),x=R+(E^(g|~N))+S[3]+2399980690&4294967295,R=g+(x<<10&4294967295|x>>>22),x=N+(g^(R|~E))+S[10]+4293915773&4294967295,N=R+(x<<15&4294967295|x>>>17),x=E+(R^(N|~g))+S[1]+2240044497&4294967295,E=N+(x<<21&4294967295|x>>>11),x=g+(N^(E|~R))+S[8]+1873313359&4294967295,g=E+(x<<6&4294967295|x>>>26),x=R+(E^(g|~N))+S[15]+4264355552&4294967295,R=g+(x<<10&4294967295|x>>>22),x=N+(g^(R|~E))+S[6]+2734768916&4294967295,N=R+(x<<15&4294967295|x>>>17),x=E+(R^(N|~g))+S[13]+1309151649&4294967295,E=N+(x<<21&4294967295|x>>>11),x=g+(N^(E|~R))+S[4]+4149444226&4294967295,g=E+(x<<6&4294967295|x>>>26),x=R+(E^(g|~N))+S[11]+3174756917&4294967295,R=g+(x<<10&4294967295|x>>>22),x=N+(g^(R|~E))+S[2]+718787259&4294967295,N=R+(x<<15&4294967295|x>>>17),x=E+(R^(N|~g))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var E=g-this.blockSize,S=this.B,N=this.h,R=0;R<g;){if(N==0)for(;R<=E;)s(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<g;)if(S[N++]=w.charCodeAt(R++),N==this.blockSize){s(this,S),N=0;break}}else for(;R<g;)if(S[N++]=w[R++],N==this.blockSize){s(this,S),N=0;break}}this.h=N,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var E=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=E&255,E/=256;for(this.u(w),w=Array(16),g=E=0;4>g;++g)for(var S=0;32>S;S+=8)w[E++]=this.g[g]>>>S&255;return w};function i(w,g){var E=l;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=g(w)}function a(w,g){this.h=g;for(var E=[],S=!0,N=w.length-1;0<=N;N--){var R=w[N]|0;S&&R==g||(E[N]=R,S=!1)}this.g=E}var l={};function u(w){return-128<=w&&128>w?i(w,function(g){return new a([g|0],0>g?-1:0)}):new a([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return O(c(-w));for(var g=[],E=1,S=0;w>=E;S++)g[S]=w/E|0,E*=4294967296;return new a(g,0)}function h(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return O(h(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(g,8)),S=p,N=0;N<w.length;N+=8){var R=Math.min(8,w.length-N),x=parseInt(w.substring(N,N+R),g);8>R?(R=c(Math.pow(g,R)),S=S.j(R).add(c(x))):(S=S.j(E),S=S.add(c(x)))}return S}var p=u(0),m=u(1),C=u(16777216);t=a.prototype,t.m=function(){if(I(this))return-O(this).m();for(var w=0,g=1,E=0;E<this.g.length;E++){var S=this.i(E);w+=(0<=S?S:4294967296+S)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(I(this))return"-"+O(this).toString(w);for(var g=c(Math.pow(w,6)),E=this,S="";;){var N=A(E,g).g;E=_(E,N.j(g));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=N,T(E))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function I(w){return w.h==-1}t.l=function(w){return w=_(this,w),I(w)?-1:T(w)?0:1};function O(w){for(var g=w.g.length,E=[],S=0;S<g;S++)E[S]=~w.g[S];return new a(E,~w.h).add(m)}t.abs=function(){return I(this)?O(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),E=[],S=0,N=0;N<=g;N++){var R=S+(this.i(N)&65535)+(w.i(N)&65535),x=(R>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);S=x>>>16,R&=65535,x&=65535,E[N]=x<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function _(w,g){return w.add(O(g))}t.j=function(w){if(T(this)||T(w))return p;if(I(this))return I(w)?O(this).j(O(w)):O(O(this).j(w));if(I(w))return O(this.j(O(w)));if(0>this.l(C)&&0>w.l(C))return c(this.m()*w.m());for(var g=this.g.length+w.g.length,E=[],S=0;S<2*g;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var N=0;N<w.g.length;N++){var R=this.i(S)>>>16,x=this.i(S)&65535,ve=w.i(N)>>>16,He=w.i(N)&65535;E[2*S+2*N]+=x*He,v(E,2*S+2*N),E[2*S+2*N+1]+=R*He,v(E,2*S+2*N+1),E[2*S+2*N+1]+=x*ve,v(E,2*S+2*N+1),E[2*S+2*N+2]+=R*ve,v(E,2*S+2*N+2)}for(S=0;S<g;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=g;S<2*g;S++)E[S]=0;return new a(E,0)};function v(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function b(w,g){this.g=w,this.h=g}function A(w,g){if(T(g))throw Error("division by zero");if(T(w))return new b(p,p);if(I(w))return g=A(O(w),g),new b(O(g.g),O(g.h));if(I(g))return g=A(w,O(g)),new b(O(g.g),g.h);if(30<w.g.length){if(I(w)||I(g))throw Error("slowDivide_ only works with positive integers.");for(var E=m,S=g;0>=S.l(w);)E=M(E),S=M(S);var N=L(E,1),R=L(S,1);for(S=L(S,2),E=L(E,2);!T(S);){var x=R.add(S);0>=x.l(w)&&(N=N.add(E),R=x),S=L(S,1),E=L(E,1)}return g=_(w,N.j(g)),new b(N,g)}for(N=p;0<=w.l(g);){for(E=Math.max(1,Math.floor(w.m()/g.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=c(E),x=R.j(g);I(x)||0<x.l(w);)E-=S,R=c(E),x=R.j(g);T(R)&&(R=m),N=N.add(R),w=_(w,x)}return new b(N,w)}t.A=function(w){return A(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),E=[],S=0;S<g;S++)E[S]=this.i(S)&w.i(S);return new a(E,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),E=[],S=0;S<g;S++)E[S]=this.i(S)|w.i(S);return new a(E,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),E=[],S=0;S<g;S++)E[S]=this.i(S)^w.i(S);return new a(E,this.h^w.h)};function M(w){for(var g=w.g.length+1,E=[],S=0;S<g;S++)E[S]=w.i(S)<<1|w.i(S-1)>>>31;return new a(E,w.h)}function L(w,g){var E=g>>5;g%=32;for(var S=w.g.length-E,N=[],R=0;R<S;R++)N[R]=0<g?w.i(R+E)>>>g|w.i(R+E+1)<<32-g:w.i(R+E);return new a(N,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,ls=a}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ck,_a,dk,Wl,lf,hk,fk,pk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,f){return o==Array.prototype||o==Object.prototype||(o[d]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var d=0;d<o.length;++d){var f=o[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,d){if(d)e:{var f=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var P=o[y];if(!(P in f))break e;f=f[P]}o=o[o.length-1],y=f[o],d=d(y),d!=y&&d!=null&&e(f,o,{configurable:!0,writable:!0,value:d})}}function i(o,d){o instanceof String&&(o+="");var f=0,y=!1,P={next:function(){if(!y&&f<o.length){var D=f++;return{value:d(D,o[D]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}s("Array.prototype.values",function(o){return o||function(){return i(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function c(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function h(o,d,f){return o.call.apply(o.bind,arguments)}function p(o,d,f){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),o.apply(d,P)}}return function(){return o.apply(d,arguments)}}function m(o,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function C(o,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function T(o,d){function f(){}f.prototype=d.prototype,o.aa=d.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(y,P,D){for(var $=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];return d.prototype[P].apply(y,$)}}function I(o){const d=o.length;if(0<d){const f=Array(d);for(let y=0;y<d;y++)f[y]=o[y];return f}return[]}function O(o,d){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const P=o.length||0,D=y.length||0;o.length=P+D;for(let $=0;$<D;$++)o[P+$]=y[$]}else o.push(y)}}class _{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(o){return/^[\s\xa0]*$/.test(o)}function b(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function A(o){return A[" "](o),o}A[" "]=function(){};var M=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(o,d,f){for(const y in o)d.call(f,o[y],y,o)}function w(o,d){for(const f in o)d.call(void 0,o[f],f,o)}function g(o){const d={};for(const f in o)d[f]=o[f];return d}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,d){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)o[f]=y[f];for(let D=0;D<E.length;D++)f=E[D],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function N(o){var d=1;o=o.split(":");const f=[];for(;0<d&&o.length;)f.push(o.shift()),d--;return o.length&&f.push(o.join(":")),f}function R(o){l.setTimeout(()=>{throw o},0)}function x(){var o=H;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class ve{constructor(){this.h=this.g=null}add(d,f){const y=He.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var He=new _(()=>new Pe,o=>o.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let me,j=!1,H=new ve,K=()=>{const o=l.Promise.resolve(void 0);me=()=>{o.then(ne)}};var ne=()=>{for(var o;o=x();){try{o.h.call(o.g)}catch(f){R(f)}var d=He;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}j=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,d),l.removeEventListener("test",f,d)}catch{}return o}();function pe(o,d){if(ee.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(M){e:{try{A(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=o.fromElement:f=="mouseout"&&(d=o.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:je[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&pe.aa.h.call(this)}}T(pe,ee);var je={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),zi=0;function $i(o,d,f,y,P){this.listener=o,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=P,this.key=++zi,this.da=this.fa=!1}function Zn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ns(o){this.src=o,this.g={},this.h=0}Ns.prototype.add=function(o,d,f,y,P){var D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);var $=zr(o,d,y,P);return-1<$?(d=o[$],f||(d.fa=!1)):(d=new $i(d,this.src,D,!!y,P),d.fa=f,o.push(d)),d};function Os(o,d){var f=d.type;if(f in o.g){var y=o.g[f],P=Array.prototype.indexOf.call(y,d,void 0),D;(D=0<=P)&&Array.prototype.splice.call(y,P,1),D&&(Zn(d),o.g[f].length==0&&(delete o.g[f],o.h--))}}function zr(o,d,f,y){for(var P=0;P<o.length;++P){var D=o[P];if(!D.da&&D.listener==d&&D.capture==!!f&&D.ha==y)return P}return-1}var er="closure_lm_"+(1e6*Math.random()|0),we={};function Bi(o,d,f,y,P){if(Array.isArray(d)){for(var D=0;D<d.length;D++)Bi(o,d[D],f,y,P);return null}return f=Rm(f),o&&o[Qe]?o.K(d,f,c(y)?!!y.capture:!1,P):qi(o,d,f,!1,y,P)}function qi(o,d,f,y,P,D){if(!d)throw Error("Invalid event type");var $=c(P)?!!P.capture:!!P,_e=Fc(o);if(_e||(o[er]=_e=new Ns(o)),f=_e.add(d,f,y,$,D),f.proxy)return f;if(y=A1(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)ie||(P=$),P===void 0&&(P=!1),o.addEventListener(d.toString(),y,P);else if(o.attachEvent)o.attachEvent(Am(d.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function A1(){function o(f){return d.call(o.src,o.listener,f)}const d=R1;return o}function Om(o,d,f,y,P){if(Array.isArray(d))for(var D=0;D<d.length;D++)Om(o,d[D],f,y,P);else y=c(y)?!!y.capture:!!y,f=Rm(f),o&&o[Qe]?(o=o.i,d=String(d).toString(),d in o.g&&(D=o.g[d],f=zr(D,f,y,P),-1<f&&(Zn(D[f]),Array.prototype.splice.call(D,f,1),D.length==0&&(delete o.g[d],o.h--)))):o&&(o=Fc(o))&&(d=o.g[d.toString()],o=-1,d&&(o=zr(d,f,y,P)),(f=-1<o?d[o]:null)&&Mc(f))}function Mc(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[Qe])Os(d.i,o);else{var f=o.type,y=o.proxy;d.removeEventListener?d.removeEventListener(f,y,o.capture):d.detachEvent?d.detachEvent(Am(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Fc(d))?(Os(f,o),f.h==0&&(f.src=null,d[er]=null)):Zn(o)}}}function Am(o){return o in we?we[o]:we[o]="on"+o}function R1(o,d){if(o.da)o=!0;else{d=new pe(d,this);var f=o.listener,y=o.ha||o.src;o.fa&&Mc(o),o=f.call(y,d)}return o}function Fc(o){return o=o[er],o instanceof Ns?o:null}var Uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(o){return typeof o=="function"?o:(o[Uc]||(o[Uc]=function(d){return o.handleEvent(d)}),o[Uc])}function st(){Z.call(this),this.i=new Ns(this),this.M=this,this.F=null}T(st,Z),st.prototype[Qe]=!0,st.prototype.removeEventListener=function(o,d,f,y){Om(this,o,d,f,y)};function pt(o,d){var f,y=o.F;if(y)for(f=[];y;y=y.F)f.push(y);if(o=o.M,y=d.type||d,typeof d=="string")d=new ee(d,o);else if(d instanceof ee)d.target=d.target||o;else{var P=d;d=new ee(y,o),S(d,P)}if(P=!0,f)for(var D=f.length-1;0<=D;D--){var $=d.g=f[D];P=Uo($,y,!0,d)&&P}if($=d.g=o,P=Uo($,y,!0,d)&&P,P=Uo($,y,!1,d)&&P,f)for(D=0;D<f.length;D++)$=d.g=f[D],P=Uo($,y,!1,d)&&P}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var f=o.g[d],y=0;y<f.length;y++)Zn(f[y]);delete o.g[d],o.h--}}this.F=null},st.prototype.K=function(o,d,f,y){return this.i.add(String(o),d,!1,f,y)},st.prototype.L=function(o,d,f,y){return this.i.add(String(o),d,!0,f,y)};function Uo(o,d,f,y){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,D=0;D<d.length;++D){var $=d[D];if($&&!$.da&&$.capture==f){var _e=$.listener,Ye=$.ha||$.src;$.fa&&Os(o.i,$),P=_e.call(Ye,y)!==!1&&P}}return P&&!y.defaultPrevented}function Pm(o,d,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(o,d||0)}function Dm(o){o.g=Pm(()=>{o.g=null,o.i&&(o.i=!1,Dm(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class P1 extends Z{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Dm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(o){Z.call(this),this.h=o,this.g={}}T(Hi,Z);var Lm=[];function Mm(o){L(o.g,function(d,f){this.g.hasOwnProperty(f)&&Mc(d)},o),o.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),Mm(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jc=l.JSON.stringify,D1=l.JSON.parse,L1=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Vc(){}Vc.prototype.h=null;function Fm(o){return o.h||(o.h=o.i())}function Um(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zc(){ee.call(this,"d")}T(zc,ee);function $c(){ee.call(this,"c")}T($c,ee);var $r={},jm=null;function jo(){return jm=jm||new st}$r.La="serverreachability";function Vm(o){ee.call(this,$r.La,o)}T(Vm,ee);function Wi(o){const d=jo();pt(d,new Vm(d))}$r.STAT_EVENT="statevent";function zm(o,d){ee.call(this,$r.STAT_EVENT,o),this.stat=d}T(zm,ee);function mt(o){const d=jo();pt(d,new zm(d,o))}$r.Ma="timingevent";function $m(o,d){ee.call(this,$r.Ma,o),this.size=d}T($m,ee);function Gi(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},d)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function M1(o,d,f,y,P,D){o.info(function(){if(o.g)if(D)for(var $="",_e=D.split("&"),Ye=0;Ye<_e.length;Ye++){var de=_e[Ye].split("=");if(1<de.length){var it=de[0];de=de[1];var Et=it.split("_");$=2<=Et.length&&Et[1]=="type"?$+(it+"="+de+"&"):$+(it+"=redacted&")}}else $=null;else $=D;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+d+`
`+f+`
`+$})}function F1(o,d,f,y,P,D,$){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+d+`
`+f+`
`+D+" "+$})}function As(o,d,f,y){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+j1(o,f)+(y?" "+y:"")})}function U1(o,d){o.info(function(){return"TIMEOUT: "+d})}Qi.prototype.info=function(){};function j1(o,d){if(!o.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var y=f[o];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var $=1;$<P.length;$++)P[$]=""}}}}return jc(f)}catch{return d}}var Vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bc;function zo(){}T(zo,Vc),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},Bc=new zo;function tr(o,d,f,y){this.j=o,this.i=d,this.l=f,this.R=y||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qm}function qm(){this.i=null,this.g="",this.h=!1}var Hm={},qc={};function Hc(o,d,f){o.L=1,o.v=Ho(wn(d)),o.m=f,o.P=!0,Km(o,null)}function Km(o,d){o.F=Date.now(),$o(o),o.A=wn(o.v);var f=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),ag(f.i,"t",y),o.C=0,f=o.j.J,o.h=new qm,o.g=Tg(o.j,f?d:null,!o.m),0<o.O&&(o.M=new P1(m(o.Y,o,o.g),o.O)),d=o.U,f=o.g,y=o.ca;var P="readystatechange";Array.isArray(P)||(P&&(Lm[0]=P.toString()),P=Lm);for(var D=0;D<P.length;D++){var $=Bi(f,P[D],y||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Wi(),M1(o.i,o.u,o.A,o.l,o.R,o.m)}tr.prototype.ca=function(o){o=o.target;const d=this.M;d&&En(o)==3?d.j():this.Y(o)},tr.prototype.Y=function(o){try{if(o==this.g)e:{const Et=En(this.g);var d=this.g.Ba();const Ds=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||fg(this.g)))){this.J||Et!=4||d==7||(d==8||0>=Ds?Wi(3):Wi(2)),Kc(this);var f=this.g.Z();this.X=f;t:if(Wm(this)){var y=fg(this.g);o="";var P=y.length,D=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Yi(this);var $="";break t}this.h.i=new l.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,o+=this.h.i.decode(y[d],{stream:!(D&&d==P-1)});y.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,F1(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ye=this.g;if((_e=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(_e)){var de=_e;break t}}de=null}if(f=de)As(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wc(this,f);else{this.o=!1,this.s=3,mt(12),Br(this),Yi(this);break e}}if(this.P){f=!0;let Gt;for(;!this.J&&this.C<$.length;)if(Gt=V1(this,$),Gt==qc){Et==4&&(this.s=4,mt(14),f=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Hm){this.s=4,mt(15),As(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else As(this.i,this.l,Gt,null),Wc(this,Gt);if(Wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||$.length!=0||this.h.h||(this.s=1,mt(16),f=!1),this.o=this.o&&f,!f)As(this.i,this.l,$,"[Invalid Chunked Response]"),Br(this),Yi(this);else if(0<$.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Zc(it),it.M=!0,mt(11))}}else As(this.i,this.l,$,null),Wc(this,$);Et==4&&Br(this),this.o&&!this.J&&(Et==4?wg(this.j,this):(this.o=!1,$o(this)))}else rT(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Br(this),Yi(this)}}}catch{}finally{}};function Wm(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function V1(o,d){var f=o.C,y=d.indexOf(`
`,f);return y==-1?qc:(f=Number(d.substring(f,y)),isNaN(f)?Hm:(y+=1,y+f>d.length?qc:(d=d.slice(y,y+f),o.C=y+f,d)))}tr.prototype.cancel=function(){this.J=!0,Br(this)};function $o(o){o.S=Date.now()+o.I,Gm(o,o.I)}function Gm(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Gi(m(o.ba,o),d)}function Kc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}tr.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(U1(this.i,this.A),this.L!=2&&(Wi(),mt(17)),Br(this),this.s=2,Yi(this)):Gm(this,this.S-o)};function Yi(o){o.j.G==0||o.J||wg(o.j,o)}function Br(o){Kc(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,Mm(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function Wc(o,d){try{var f=o.j;if(f.G!=0&&(f.g==o||Gc(f.h,o))){if(!o.K&&Gc(f.h,o)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Xo(f),Qo(f);else break e;Jc(f),mt(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=Gi(m(f.Za,f),6e3));if(1>=Xm(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Hr(f,11)}else if((o.K||f.g==o)&&Xo(f),!v(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let de=P[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];const it=de[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));const Et=de[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));const Ds=de[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(y=1.5*Ds,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Gt=o.g;if(Gt){const Zo=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zo){var D=y.h;D.g||Zo.indexOf("spdy")==-1&&Zo.indexOf("quic")==-1&&Zo.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Qc(D,D.h),D.h=null))}if(y.D){const ed=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ed&&(y.ya=ed,Ee(y.I,y.D,ed))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var $=o;if(y.qa=kg(y,y.J?y.ia:null,y.W),$.K){Jm(y.h,$);var _e=$,Ye=y.L;Ye&&(_e.I=Ye),_e.B&&(Kc(_e),$o(_e)),y.g=$}else vg(y);0<f.i.length&&Yo(f)}else de[0]!="stop"&&de[0]!="close"||Hr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Hr(f,7):Xc(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Wi(4)}catch{}}var z1=class{constructor(o,d){this.g=o,this.map=d}};function Qm(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ym(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Xm(o){return o.h?1:o.g?o.g.size:0}function Gc(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Qc(o,d){o.g?o.g.add(d):o.h=d}function Jm(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Qm.prototype.cancel=function(){if(this.i=Zm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Zm(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const f of o.g.values())d=d.concat(f.D);return d}return I(o.i)}function $1(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var d=[],f=o.length,y=0;y<f;y++)d.push(o[y]);return d}d=[],f=0;for(y in o)d[f++]=o[y];return d}function B1(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var d=[];o=o.length;for(var f=0;f<o;f++)d.push(f);return d}d=[],f=0;for(const y in o)d[f++]=y;return d}}}function eg(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var f=B1(o),y=$1(o),P=y.length,D=0;D<P;D++)d.call(void 0,y[D],f&&f[D],o)}var tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q1(o,d){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var y=o[f].indexOf("="),P=null;if(0<=y){var D=o[f].substring(0,y);P=o[f].substring(y+1)}else D=o[f];d(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function qr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof qr){this.h=o.h,Bo(this,o.j),this.o=o.o,this.g=o.g,qo(this,o.s),this.l=o.l;var d=o.i,f=new Zi;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),ng(this,f),this.m=o.m}else o&&(d=String(o).match(tg))?(this.h=!1,Bo(this,d[1]||"",!0),this.o=Xi(d[2]||""),this.g=Xi(d[3]||"",!0),qo(this,d[4]),this.l=Xi(d[5]||"",!0),ng(this,d[6]||"",!0),this.m=Xi(d[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}qr.prototype.toString=function(){var o=[],d=this.j;d&&o.push(Ji(d,rg,!0),":");var f=this.g;return(f||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Ji(d,rg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ji(f,f.charAt(0)=="/"?W1:K1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ji(f,Q1)),o.join("")};function wn(o){return new qr(o)}function Bo(o,d,f){o.j=f?Xi(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function qo(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function ng(o,d,f){d instanceof Zi?(o.i=d,Y1(o.i,o.h)):(f||(d=Ji(d,G1)),o.i=new Zi(d,o.h))}function Ee(o,d,f){o.i.set(d,f)}function Ho(o){return Ee(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ji(o,d,f){return typeof o=="string"?(o=encodeURI(o).replace(d,H1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function H1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var rg=/[#\/\?@]/g,K1=/[#\?:]/g,W1=/[#\?]/g,G1=/[#\?@]/g,Q1=/#/g;function Zi(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function nr(o){o.g||(o.g=new Map,o.h=0,o.i&&q1(o.i,function(d,f){o.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Zi.prototype,t.add=function(o,d){nr(this),this.i=null,o=Rs(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(d),this.h+=1,this};function sg(o,d){nr(o),d=Rs(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function ig(o,d){return nr(o),d=Rs(o,d),o.g.has(d)}t.forEach=function(o,d){nr(this),this.g.forEach(function(f,y){f.forEach(function(P){o.call(d,P,y,this)},this)},this)},t.na=function(){nr(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){const P=o[y];for(let D=0;D<P.length;D++)f.push(d[y])}return f},t.V=function(o){nr(this);let d=[];if(typeof o=="string")ig(this,o)&&(d=d.concat(this.g.get(Rs(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)d=d.concat(o[f])}return d},t.set=function(o,d){return nr(this),this.i=null,o=Rs(this,o),ig(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function ag(o,d,f){sg(o,d),0<f.length&&(o.i=null,o.g.set(Rs(o,d),I(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];const D=encodeURIComponent(String(y)),$=this.V(y);for(y=0;y<$.length;y++){var P=D;$[y]!==""&&(P+="="+encodeURIComponent(String($[y]))),o.push(P)}}return this.i=o.join("&")};function Rs(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function Y1(o,d){d&&!o.j&&(nr(o),o.i=null,o.g.forEach(function(f,y){var P=y.toLowerCase();y!=P&&(sg(this,y),ag(this,P,f))},o)),o.j=d}function X1(o,d){const f=new Qi;if(l.Image){const y=new Image;y.onload=C(rr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=C(rr,f,"TestLoadImage: error",!1,d,y),y.onabort=C(rr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=C(rr,f,"TestLoadImage: timeout",!1,d,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else d(!1)}function J1(o,d){const f=new Qi,y=new AbortController,P=setTimeout(()=>{y.abort(),rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:y.signal}).then(D=>{clearTimeout(P),D.ok?rr(f,"TestPingServer: ok",!0,d):rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),rr(f,"TestPingServer: error",!1,d)})}function rr(o,d,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function Z1(){this.g=new L1}function eT(o,d,f){const y=f||"";try{eg(o,function(P,D){let $=P;c(P)&&($=jc(P)),d.push(y+D+"="+encodeURIComponent($))})}catch(P){throw d.push(y+"type="+encodeURIComponent("_badmap")),P}}function Ko(o){this.l=o.Ub||null,this.j=o.eb||!1}T(Ko,Vc),Ko.prototype.g=function(){return new Wo(this.l,this.j)},Ko.prototype.i=function(o){return function(){return o}}({});function Wo(o,d){st.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Wo,st),t=Wo.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,ta(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;og(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function og(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?ea(this):ta(this),this.readyState==3&&og(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,ea(this))},t.Qa=function(o){this.g&&(this.response=o,ea(this))},t.ga=function(){this.g&&ea(this)};function ea(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ta(o)}t.setRequestHeader=function(o,d){this.u.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=d.next();return o.join(`\r
`)};function ta(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function lg(o){let d="";return L(o,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function Yc(o,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=lg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ee(o,d,f))}function Oe(o){st.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Oe,st);var tT=/^https?$/i,nT=["POST","PUT"];t=Oe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bc.g(),this.v=this.o?Fm(this.o):Fm(Bc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(D){ug(this,D);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())f.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(D=>D.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nT,d,void 0))||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,$]of f)this.g.setRequestHeader(D,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hg(this),this.u=!0,this.g.send(o),this.u=!1}catch(D){ug(this,D)}};function ug(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,cg(o),Go(o)}function cg(o){o.A||(o.A=!0,pt(o,"complete"),pt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,pt(this,"complete"),pt(this,"abort"),Go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Go(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},t.bb=function(){dg(this)};function dg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)Pm(o.Ea,0,o);else if(pt(o,"readystatechange"),En(o)==4){o.h=!1;try{const $=o.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=$===0){var P=String(o.D).match(tg)[1]||null;!P&&l.self&&l.self.location&&(P=l.self.location.protocol.slice(0,-1)),y=!tT.test(P?P.toLowerCase():"")}f=y}if(f)pt(o,"complete"),pt(o,"success");else{o.m=6;try{var D=2<En(o)?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.Z()+"]",cg(o)}}finally{Go(o)}}}}function Go(o,d){if(o.g){hg(o);const f=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||pt(o,"ready");try{f.onreadystatechange=y}catch{}}}function hg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),D1(d)}};function fg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function rT(o){const d={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(v(o[y]))continue;var f=N(o[y]);const P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const D=d[P]||[];d[P]=D,D.push(f)}w(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(o,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||d}function pg(o){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,o),this.cb=na("retryDelaySeedMs",1e4,o),this.Wa=na("forwardChannelMaxRetries",2,o),this.wa=na("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Qm(o&&o.concurrentRequestLimit),this.Da=new Z1,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pg.prototype,t.la=8,t.G=1,t.connect=function(o,d,f,y){mt(0),this.W=o,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=kg(this,null,this.W),Yo(this)};function Xc(o){if(mg(o),o.G==3){var d=o.U++,f=wn(o.I);if(Ee(f,"SID",o.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),ra(o,f),d=new tr(o,o.j,d),d.L=2,d.v=Ho(wn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=d.v,f=!0),f||(d.g=Tg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$o(d)}_g(o)}function Qo(o){o.g&&(Zc(o),o.g.cancel(),o.g=null)}function mg(o){Qo(o),o.u&&(l.clearTimeout(o.u),o.u=null),Xo(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Yo(o){if(!Ym(o.h)&&!o.s){o.s=!0;var d=o.Ga;me||K(),j||(me(),j=!0),H.add(d,o),o.B=0}}function sT(o,d){return Xm(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Gi(m(o.Ga,o,d),Eg(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const P=new tr(this,this.j,o);let D=this.o;if(this.S&&(D?(D=g(D),S(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=yg(this,P,d),f=wn(this.I),Ee(f,"RID",o),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),ra(this,f),D&&(this.O?d="headers="+encodeURIComponent(String(lg(D)))+"&"+d:this.m&&Yc(f,this.m,D)),Qc(this.h,P),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),P.T=!0,Hc(P,f,null)):Hc(P,f,d),this.G=2}}else this.G==3&&(o?gg(this,o):this.i.length==0||Ym(this.h)||gg(this))};function gg(o,d){var f;d?f=d.l:f=o.U++;const y=wn(o.I);Ee(y,"SID",o.K),Ee(y,"RID",f),Ee(y,"AID",o.T),ra(o,y),o.m&&o.o&&Yc(y,o.m,o.o),f=new tr(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),d&&(o.i=d.D.concat(o.i)),d=yg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Qc(o.h,f),Hc(f,y,d)}function ra(o,d){o.H&&L(o.H,function(f,y){Ee(d,y,f)}),o.l&&eg({},function(f,y){Ee(d,y,f)})}function yg(o,d,f){f=Math.min(o.i.length,f);var y=o.l?m(o.l.Na,o.l,o):null;e:{var P=o.i;let D=-1;for(;;){const $=["count="+f];D==-1?0<f?(D=P[0].g,$.push("ofs="+D)):D=0:$.push("ofs="+D);let _e=!0;for(let Ye=0;Ye<f;Ye++){let de=P[Ye].g;const it=P[Ye].map;if(de-=D,0>de)D=Math.max(0,P[Ye].g-100),_e=!1;else try{eT(it,$,"req"+de+"_")}catch{y&&y(it)}}if(_e){y=$.join("&");break e}}}return o=o.i.splice(0,f),d.D=o,y}function vg(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;me||K(),j||(me(),j=!0),H.add(d,o),o.v=0}}function Jc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Gi(m(o.Fa,o),Eg(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,bg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Gi(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Qo(this),bg(this))};function Zc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function bg(o){o.g=new tr(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=wn(o.qa);Ee(d,"RID","rpc"),Ee(d,"SID",o.K),Ee(d,"AID",o.T),Ee(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ee(d,"TO",o.ja),Ee(d,"TYPE","xmlhttp"),ra(o,d),o.m&&o.o&&Yc(d,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Ho(wn(d)),f.m=null,f.P=!0,Km(f,o)}t.Za=function(){this.C!=null&&(this.C=null,Qo(this),Jc(this),mt(19))};function Xo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function wg(o,d){var f=null;if(o.g==d){Xo(o),Zc(o),o.g=null;var y=2}else if(Gc(o.h,d))f=d.D,Jm(o.h,d),y=1;else return;if(o.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=o.B;y=jo(),pt(y,new $m(y,f)),Yo(o)}else vg(o);else if(P=d.s,P==3||P==0&&0<d.X||!(y==1&&sT(o,d)||y==2&&Jc(o)))switch(f&&0<f.length&&(d=o.h,d.i=d.i.concat(f)),P){case 1:Hr(o,5);break;case 4:Hr(o,10);break;case 3:Hr(o,6);break;default:Hr(o,2)}}}function Eg(o,d){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*d}function Hr(o,d){if(o.j.info("Error code "+d),d==2){var f=m(o.fb,o),y=o.Xa;const P=!y;y=new qr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bo(y,"https"),Ho(y),P?X1(y.toString(),f):J1(y.toString(),f)}else mt(2);o.G=0,o.l&&o.l.sa(d),_g(o),mg(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function _g(o){if(o.G=0,o.ka=[],o.l){const d=Zm(o.h);(d.length!=0||o.i.length!=0)&&(O(o.ka,d),O(o.ka,o.i),o.h.i.length=0,I(o.i),o.i.length=0),o.l.ra()}}function kg(o,d,f){var y=f instanceof qr?wn(f):new qr(f);if(y.g!="")d&&(y.g=d+"."+y.g),qo(y,y.s);else{var P=l.location;y=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var D=new qr(null);y&&Bo(D,y),d&&(D.g=d),P&&qo(D,P),f&&(D.l=f),y=D}return f=o.D,d=o.ya,f&&d&&Ee(y,f,d),Ee(y,"VER",o.la),ra(o,y),y}function Tg(o,d,f){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Oe(new Ko({eb:f})):new Oe(o.pa),d.Ha(o.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sg(){}t=Sg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jo(){}Jo.prototype.g=function(o,d){return new Ot(o,d)};function Ot(o,d){st.call(this),this.g=new pg(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!v(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new Ps(this)}T(Ot,st),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Xc(this.g)},Ot.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=jc(o),o=f);d.i.push(new z1(d.Ya++,o)),d.G==3&&Yo(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Xc(this.g),delete this.g,Ot.aa.N.call(this)};function Cg(o){zc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const f in d){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}T(Cg,zc);function xg(){$c.call(this),this.status=1}T(xg,$c);function Ps(o){this.g=o}T(Ps,Sg),Ps.prototype.ua=function(){pt(this.g,"a")},Ps.prototype.ta=function(o){pt(this.g,new Cg(o))},Ps.prototype.sa=function(o){pt(this.g,new xg)},Ps.prototype.ra=function(){pt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,pk=function(){return new Jo},fk=function(){return jo()},hk=$r,lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vo.NO_ERROR=0,Vo.TIMEOUT=8,Vo.HTTP_ERROR=6,Wl=Vo,Bm.COMPLETE="complete",dk=Bm,Um.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",st.prototype.listen=st.prototype.K,_a=Um,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,ck=Oe}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Fi="10.14.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ys=new Fp("@firebase/firestore");function fa(){return ys.logLevel}function q(t,...e){if(ys.logLevel<=ae.DEBUG){const n=e.map(Xp);ys.debug(`Firestore (${Fi}): ${t}`,...n)}}function Kn(t,...e){if(ys.logLevel<=ae.ERROR){const n=e.map(Xp);ys.error(`Firestore (${Fi}): ${t}`,...n)}}function Ti(t,...e){if(ys.logLevel<=ae.WARN){const n=e.map(Xp);ys.warn(`Firestore (${Fi}): ${t}`,...n)}}function Xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X(t="Unexpected state"){const e=`FIRESTORE (${Fi}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function fe(t,e){t||X()}function J(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class PP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DP{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new mk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new ut(e)}}class LP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new FP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=jP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Si(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new qe(0,0))}static max(){return new Y(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class co{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends co{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends co{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new W(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new W(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G{constructor(e){this.path=e}static fromPath(e){return new G(Re.fromString(e))}static fromName(e){return new G(Re.fromString(e).popFirst(5))}static empty(){return new G(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Re(e.slice()))}}function zP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Lr(s,G.empty(),e)}function $P(t){return new Lr(t.readTime,t.key,-1)}class Lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lr(Y.min(),G.empty(),-1)}static max(){return new Lr(Y.max(),G.empty(),-1)}}function BP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ro(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==qP)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},u=>r(u))}),a=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{a[c]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function KP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jp.oe=-1;function Cc(t){return t==null}function Uu(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!Uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tt{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new nn([])}unionWith(e){let n=new tt(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Si(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vk("Invalid base64 string: "+s):s}}(e);return new rt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(fe(!!t),typeof t=="string"){let e=0;const n=GP.exec(t);if(fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function em(t){const e=t.mapValue.fields.__previous_value__;return Zp(e)?em(e):e}function ho(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QP{constructor(e,n,r,s,i,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:XP(t)?9007199254740991:YP(t)?10:11:X()}function yn(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ho(t).isEqual(ho(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Mr(r.timestampValue),a=Mr(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return vs(r.bytesValue).isEqual(vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return De(r.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return De(r.integerValue)===De(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=De(r.doubleValue),a=De(s.doubleValue);return i===a?Uu(i)===Uu(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Si(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Qv(i)!==Qv(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!yn(i[l],a[l])))return!1;return!0}(t,e);default:return X()}}function po(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function Ci(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=De(s.integerValue||s.doubleValue),l=De(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Xv(t.timestampValue,e.timestampValue);case 4:return Xv(ho(t),ho(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,i){const a=vs(s),l=vs(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ce(a[u],l[u]);if(c!==0)return c}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=ce(De(s.latitude),De(i.latitude));return a!==0?a:ce(De(s.longitude),De(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Jv(t.arrayValue,e.arrayValue);case 10:return function(s,i){var a,l,u,c;const h=s.fields||{},p=i.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,C=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=ce(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=C==null?void 0:C.values)===null||c===void 0?void 0:c.length)||0);return T!==0?T:Jv(m,C)}(t.mapValue,e.mapValue);case 11:return function(s,i){if(s===Sl.mapValue&&i===Sl.mapValue)return 0;if(s===Sl.mapValue)return 1;if(i===Sl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=i.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const p=ce(l[h],c[h]);if(p!==0)return p;const m=Ci(a[l[h]],u[c[h]]);if(m!==0)return m}return ce(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function Xv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Mr(t),r=Mr(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function Jv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ci(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function xi(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const n=Mr(e);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return vs(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return G.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=uf(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${uf(e.fields[i])}`;return r+"}"}(t.mapValue):X()}function cf(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gl(t){return!!t&&"mapValue"in t}function YP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Ma(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ui(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zt(Ma(this.value))}}function bk(t){const e=[];return Ui(t.fields,(n,r)=>{const s=new Ze([n]);if(Gl(r)){const i=bk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new nn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new dt(e,0,Y.min(),Y.min(),Y.min(),zt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,Y.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,Y.min(),Y.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,Y.min(),Y.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ju{constructor(e,n){this.position=e,this.inclusive=n}}function tb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(a.referenceValue),n.key):r=Ci(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function nb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function JP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wk{}class $e extends wk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eD(e,n,r):n==="array-contains"?new rD(e,r):n==="in"?new sD(e,r):n==="not-in"?new iD(e,r):n==="array-contains-any"?new aD(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tD(e,r):new nD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ci(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Ci(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends wk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vn(e,n)}matches(e){return Ek(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ek(t){return t.op==="and"}function _k(t){return ZP(t)&&Ek(t)}function ZP(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function df(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+xi(t.value);if(_k(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function kk(t,e){return t instanceof $e?function(n,r){return r instanceof $e&&n.op===r.op&&n.field.isEqual(r.field)&&yn(n.value,r.value)}(t,e):t instanceof vn?function(n,r){return r instanceof vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,a)=>s&&kk(i,r.filters[a]),!0):!1}(t,e):void X()}function Tk(t){return t instanceof $e?function(e){return`${e.field.canonicalString()} ${e.op} ${xi(e.value)}`}(t):t instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Tk).join(" ,")+"}"}(t):"Filter"}class eD extends $e{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class tD extends $e{constructor(e,n){super(e,"in",n),this.keys=Sk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nD extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Sk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class rD extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&po(n.arrayValue,this.value)}}class sD extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&po(this.value.arrayValue,n)}}class iD extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!po(this.value.arrayValue,n)}}class aD extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>po(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oD{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function rb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new oD(t,e,n,r,s,i,a)}function nm(t){const e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xi(r)).join(",")),e.ue=n}return e.ue}function rm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nb(t.startAt,e.startAt)&&nb(t.endAt,e.endAt)}function hf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lD(t,e,n,r,s,i,a,l){return new xc(t,e,n,r,s,i,a,l)}function sm(t){return new xc(t)}function sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uD(t){return t.collectionGroup!==null}function Fa(t){const e=J(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new tt(Ze.comparator);return s.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(i=i.add(l.field))})}),i})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vu(s,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Vu(Ze.keyField(),r))}return e.ce}function mn(t){const e=J(t);return e.le||(e.le=cD(e,Fa(t))),e.le}function cD(t,e){if(t.limitType==="F")return rb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vu(s.field,i)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ff(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ic(t,e){return rm(mn(t),mn(e))&&t.limitType===e.limitType}function Ck(t){return`${nm(mn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Tk(r)).join(", ")}]`),Cc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xi(r)).join(",")),`Target(${n})`}(mn(t))}; limitType=${t.limitType})`}function Nc(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):G.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Fa(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,a){const l=tb(s,i,a);return s.inclusive?l<=0:l<0}(n.startAt,Fa(n),r)||n.endAt&&!function(s,i,a){const l=tb(s,i,a);return s.inclusive?l>=0:l>0}(n.endAt,Fa(n),r))}(t,e)}function dD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xk(t){return(e,n)=>{let r=!1;for(const s of Fa(t)){const i=hD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function hD(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,i,a){const l=i.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ci(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yk(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fD=new Ne(G.comparator);function Wn(){return fD}const Ik=new Ne(G.comparator);function ka(...t){let e=Ik;for(const n of t)e=e.insert(n.key,n);return e}function Nk(t){let e=Ik;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rs(){return Ua()}function Ok(){return Ua()}function Ua(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const pD=new Ne(G.comparator),mD=new tt(G.comparator);function se(...t){let e=mD;for(const n of t)e=e.add(n);return e}const gD=new tt(ce);function yD(){return gD}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function im(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function Ak(t){return{integerValue:""+t}}function vD(t,e){return WP(e)?Ak(e):im(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oc{constructor(){this._=void 0}}function bD(t,e,n){return t instanceof zu?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Zp(s)&&(s=em(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof mo?Pk(t,e):t instanceof go?Dk(t,e):function(r,s){const i=Rk(r,s),a=ib(i)+ib(r.Pe);return cf(i)&&cf(r.Pe)?Ak(a):im(r.serializer,a)}(t,e)}function wD(t,e,n){return t instanceof mo?Pk(t,e):t instanceof go?Dk(t,e):n}function Rk(t,e){return t instanceof $u?function(n){return cf(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class zu extends Oc{}class mo extends Oc{constructor(e){super(),this.elements=e}}function Pk(t,e){const n=Lk(e);for(const r of t.elements)n.some(s=>yn(s,r))||n.push(r);return{arrayValue:{values:n}}}class go extends Oc{constructor(e){super(),this.elements=e}}function Dk(t,e){let n=Lk(e);for(const r of t.elements)n=n.filter(s=>!yn(s,r));return{arrayValue:{values:n}}}class $u extends Oc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ib(t){return De(t.integerValue||t.doubleValue)}function Lk(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ED(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof mo&&r instanceof mo||n instanceof go&&r instanceof go?Si(n.elements,r.elements,yn):n instanceof $u&&r instanceof $u?yn(n.Pe,r.Pe):n instanceof zu&&r instanceof zu}(t.transform,e.transform)}class _D{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ac{}function Mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uk(t.key,Un.none()):new Do(t.key,t.data,Un.none());{const n=t.data,r=zt.empty();let s=new tt(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new xs(t.key,r,new nn(s.toArray()),Un.none())}}function kD(t,e,n){t instanceof Do?function(r,s,i){const a=r.value.clone(),l=ob(r.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xs?function(r,s,i){if(!Ql(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=ob(r.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(Fk(r)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof Do?function(s,i,a,l){if(!Ql(s.precondition,i))return a;const u=s.value.clone(),c=lb(s.fieldTransforms,l,i);return u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xs?function(s,i,a,l){if(!Ql(s.precondition,i))return a;const u=lb(s.fieldTransforms,l,i),c=i.data;return c.setAll(Fk(s)),c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,i,a){return Ql(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function TD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Rk(r.transform,s||null);i!=null&&(n===null&&(n=zt.empty()),n.set(r.field,i))}return n||null}function ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Si(n,r,(s,i)=>ED(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Do extends Ac{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xs extends Ac{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ob(t,e,n){const r=new Map;fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,wD(a,l,n[s]))}return r}function lb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,bD(i,a,e))}return r}class Uk extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SD extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ok();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const u=Mk(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Si(this.mutations,e.mutations,(n,r)=>ab(n,r))&&Si(this.baseMutations,e.baseMutations,(n,r)=>ab(n,r))}}class am{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){fe(e.mutations.length===r.length);let s=function(){return pD}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new am(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ID{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Me,oe;function ND(t){switch(t){default:return X();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function jk(t){if(t===void 0)return Kn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Me.OK:return V.OK;case Me.CANCELLED:return V.CANCELLED;case Me.UNKNOWN:return V.UNKNOWN;case Me.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Me.INTERNAL:return V.INTERNAL;case Me.UNAVAILABLE:return V.UNAVAILABLE;case Me.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Me.NOT_FOUND:return V.NOT_FOUND;case Me.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Me.ABORTED:return V.ABORTED;case Me.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Me.DATA_LOSS:return V.DATA_LOSS;default:return X()}}(oe=Me||(Me={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OD(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AD=new ls([4294967295,4294967295],0);function ub(t){const e=OD().encode(t),n=new uk;return n.update(e),new Uint8Array(n.digest())}function cb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ls([n,r],0),new ls([s,i],0)]}class om{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(r<0)throw new Ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ls.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ls.fromNumber(r)));return s.compare(AD)===1&&(s=new ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ub(e),[r,s]=cb(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new om(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=ub(e),[r,s]=cb(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rc(Y.min(),s,new Ne(ce),Wn(),se())}}class Lo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lo(r,n,se(),se(),se())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yl{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Vk{constructor(e,n){this.targetId=e,this.me=n}}class zk{constructor(e,n,r=rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class db{constructor(){this.fe=0,this.ge=fb(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=se(),n=se(),r=se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X()}}),new Lo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=fb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=hb(),this.Qe=new Ne(ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(hf(i))if(r===0){const a=new G(i.path);this.Ue(n,a,dt.newNoDocument(a,Y.min()))}else fe(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=vs(r).toUint8Array()}catch(u){if(u instanceof vk)return Ti("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new om(a,s,i)}catch(u){return Ti(u instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&hf(l.target)){const u=new G(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,dt.newNoDocument(u,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=se();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new Rc(e,n,this.Qe,this.ke,r);return this.ke=Wn(),this.qe=hb(),this.Qe=new Ne(ce),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new db,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new db),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hb(){return new Ne(G.comparator)}function fb(){return new Ne(G.comparator)}const PD={asc:"ASCENDING",desc:"DESCENDING"},DD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LD={and:"AND",or:"OR"};class MD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pf(t,e){return t.useProto3Json||Cc(e)?e:{value:e}}function Bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $k(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FD(t,e){return Bu(t,e.toTimestamp())}function gn(t){return fe(!!t),Y.fromTimestamp(function(e){const n=Mr(e);return new qe(n.seconds,n.nanos)}(t))}function lm(t,e){return mf(t,e).canonicalString()}function mf(t,e){const n=function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bk(t){const e=Re.fromString(t);return fe(Gk(e)),e}function gf(t,e){return lm(t.databaseId,e.path)}function Bd(t,e){const n=Bk(e);if(n.get(1)!==t.databaseId.projectId)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(Hk(n))}function qk(t,e){return lm(t.databaseId,e)}function UD(t){const e=Bk(t);return e.length===4?Re.emptyPath():Hk(e)}function yf(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hk(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pb(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function jD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(fe(c===void 0||typeof c=="string"),rt.fromBase64String(c||"")):(fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),rt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const c=u.code===void 0?V.UNKNOWN:jk(u.code);return new W(c,u.message||"")}(a);n=new zk(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bd(t,r.document.name),i=gn(r.document.updateTime),a=r.document.createTime?gn(r.document.createTime):Y.min(),l=new zt({mapValue:{fields:r.document.fields}}),u=dt.newFoundDocument(s,i,a,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Yl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bd(t,r.document),i=r.readTime?gn(r.readTime):Y.min(),a=dt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Yl([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bd(t,r.document),i=r.removedTargetIds||[];n=new Yl([],i,s,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new ID(s,i),l=r.targetId;n=new Vk(l,a)}}return n}function VD(t,e){let n;if(e instanceof Do)n={update:pb(t,e.key,e.value)};else if(e instanceof Uk)n={delete:gf(t,e.key)};else if(e instanceof xs)n={update:pb(t,e.key,e.data),updateMask:QD(e.fieldMask)};else{if(!(e instanceof SD))return X();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof zu)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof go)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $u)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:FD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function zD(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?gn(r.updateTime):gn(s);return i.isEqual(Y.min())&&(i=gn(s)),new _D(i,r.transformResults||[])}(n,e))):[]}function $D(t,e){return{documents:[qk(t,e.path)]}}function BD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qk(t,s);const i=function(u){if(u.length!==0)return Wk(vn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:zs(h.field),direction:KD(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=pf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function qD(t){let e=UD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){fe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(h){const p=Kk(h);return p instanceof vn&&_k(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(p=>function(m){return new Vu($s(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Cc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,m=h.values||[];return new ju(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new ju(m,p)}(n.endAt)),lD(e,s,a,i,l,"F",u,c)}function HD(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$s(e.unaryFilter.field);return $e.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$s(e.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$s(e.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$s(e.unaryFilter.field);return $e.create(i,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(e){return $e.create($s(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return vn.create(e.compositeFilter.filters.map(n=>Kk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return X()}}(e.compositeFilter.op))}(t):X()}function KD(t){return PD[t]}function WD(t){return DD[t]}function GD(t){return LD[t]}function zs(t){return{fieldPath:t.canonicalString()}}function $s(t){return Ze.fromServerFormat(t.fieldPath)}function Wk(t){return t instanceof $e?function(e){if(e.op==="=="){if(eb(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NAN"}};if(Zv(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eb(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NOT_NAN"}};if(Zv(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(e.field),op:WD(e.op),value:e.value}}}(t):t instanceof vn?function(e){const n=e.getFilters().map(r=>Wk(r));return n.length===1?n[0]:{compositeFilter:{op:GD(e.op),filters:n}}}(t):X()}function QD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Gk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class br{constructor(e,n,r,s,i=Y.min(),a=Y.min(),l=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YD{constructor(e){this.ct=e}}function XD(t){const e=qD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ff(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JD{constructor(){this.un=new ZD}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Lr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class ZD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tt(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tt(Re.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ii{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ii(0)}static kn(){return new Ii(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eL{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ja(r.mutation,s,nn.empty(),qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=ka();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Wn();const a=Ua(),l=function(){return Ua()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof xs)?i=i.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),ja(h.mutation,c,h.mutation.getFieldMask(),qe.now())):a.set(c.key,nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var p;return l.set(c,new tL(h,(p=a.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ua();let s=new Ne((a,l)=>a-l),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||nn.empty();h=l.applyToLocalView(c,h),r.set(u,h);const p=(s.get(l.batchId)||se()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,p=Ok();h.forEach(m=>{if(!i.has(m)){const C=Mk(n.get(m),r.get(m));C!==null&&p.set(m,C),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return G.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(rs());let l=-1,u=i;return a.next(c=>U.forEach(c,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,se())).next(h=>({batchId:l,changes:Nk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=ka();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=ka();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,u=>{const c=function(h,p){return new xc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,dt.newInvalidDocument(h)))});let l=ka();return a.forEach((u,c)=>{const h=i.get(u);h!==void 0&&ja(h.mutation,c,nn.empty(),qe.now()),Nc(n,c)&&(l=l.insert(u,c))}),l})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:gn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:XD(r.bundledQuery),readTime:gn(r.readTime)}}(n)),U.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sL{constructor(){this.overlays=new Ne(G.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rs();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=rs(),i=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ne((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=rs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=rs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return U.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xD(n,r));let i=this.Ir.get(n);i===void 0&&(i=se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iL{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class um{constructor(){this.Tr=new tt(Ke.Er),this.dr=new tt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new G(new Re([])),r=new Ke(n,e),s=new Ke(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new G(new Re([])),r=new Ke(n,e),s=new Ke(n,e+1);let i=se();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||ce(e.wr,n.wr)}static Ar(e,n){return ce(e.wr,n.wr)||G.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tt(Ke.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new CD(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new Ke(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),s=new Ke(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(ce);return n.forEach(s=>{const i=new Ke(s,0),a=new Ke(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const a=new Ke(new G(i),0);let l=new tt(ce);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.wr)),!0)},a),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new Ke(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ke(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oL{constructor(e){this.Mr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Wn();const a=n.path,l=new G(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||BP($P(h),r)<=0||(s.has(h.key)||Nc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lL(this)}getSize(e){return U.resolve(this.size)}}class lL extends eL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uL{constructor(e){this.persistence=e,this.Nr=new ji(n=>nm(n),rm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new um,this.targetCount=0,this.kr=Ii.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ii(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jp(0),this.Kr=!1,this.Kr=!0,this.$r=new iL,this.referenceDelegate=e(this),this.Ur=new uL(this),this.indexManager=new JD,this.remoteDocumentCache=function(r){return new oL(r)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YD(n),this.Gr=new rL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new aL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new dL(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class dL extends HP{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Jr=new um,this.Yr=null}static Zr(e){return new cm(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=G.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Y.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dm(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return G2()?8:KP(ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new hL;return this.Xi(e,n,a).next(l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fa()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(fa()<=ae.DEBUG&&q("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fa()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):U.resolve())}Yi(e,n){if(sb(n))return U.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ff(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=se(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,a,u.readTime)?this.Yi(e,ff(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return sb(n)||s.isEqual(Y.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?U.resolve(null):(fa()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vs(n)),this.rs(e,a,n,zP(s,-1)).next(l=>l))})}ts(e,n){let r=new tt(xk(e));return n.forEach((s,i)=>{Nc(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fa()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Lr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pL{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ne(ce),this._s=new ji(i=>nm(i),rm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function Qk(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let u=se();for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:l}))})})}function gL(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,p=h.keys();let m=U.resolve();return p.forEach(C=>{m=m.next(()=>c.getEntry(l,C)).next(T=>{const I=u.docVersions.get(C);fe(I!==null),T.version.compareTo(I)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),c.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Yk(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=J(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let C=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?C=C.withResumeToken(rt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,r)),s=s.insert(p,C),function(T,I,O){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,C,h)&&l.push(n.Ur.updateTargetData(i,C))});let u=Wn(),c=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(vL(i,a,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(Y.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function vL(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Wn();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:a,Is:s}})}function bL(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new br(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vf(t,e,n){const r=J(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Po(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function mb(t,e,n){const r=J(t);let s=Y.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=J(l),p=h._s.get(c);return p!==void 0?U.resolve(h.os.get(p)):h.Ur.getTargetData(u,c)}(r,a,mn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:Y.min(),n?i:se())).next(l=>(EL(r,dD(e),l),{documents:l,Ts:i})))}function EL(t,e,n){let r=t.us.get(e)||Y.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class gb{constructor(){this.activeTargetIds=yD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _L{constructor(){this.so=new gb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kL{_o(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Cl=null;function qd(){return Cl===null?Cl=function(){return 268435456+Math.round(2147483648*Math.random())}():Cl++,"0x"+Cl.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lt="WebChannelConnection";class CL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(e,n,r,s,i){const a=qd(),l=this.xo(e,n.toUriEncodedString());q("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,i),this.No(e,l,u,r).then(c=>(q("RestConnection",`Received RPC '${e}' ${a}: `,c),c),c=>{throw Ti("RestConnection",`RPC '${e}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(e,n,r,s,i,a){return this.Mo(e,n,r,s,i)}Oo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}xo(e,n){const r=TL[e];return`${this.Do}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=qd();return new Promise((a,l)=>{const u=new ck;u.setWithCredentials(!0),u.listenOnce(dk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wl.NO_ERROR:const h=u.getResponseJson();q(lt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Wl.TIMEOUT:q(lt,`RPC '${e}' ${i} timed out`),l(new W(V.DEADLINE_EXCEEDED,"Request time out"));break;case Wl.HTTP_ERROR:const p=u.getStatus();if(q(lt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const C=m==null?void 0:m.error;if(C&&C.status&&C.message){const T=function(I){const O=I.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(O)>=0?O:V.UNKNOWN}(C.status);l(new W(T,C.message))}else l(new W(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(V.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(lt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);q(lt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=qd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pk(),l=fk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");q(lt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=a.createWebChannel(h,u);let m=!1,C=!1;const T=new SL({Io:O=>{C?q(lt,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(m||(q(lt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),q(lt,`RPC '${e}' stream ${s} sending:`,O),p.send(O))},To:()=>p.close()}),I=(O,_,v)=>{O.listen(_,b=>{try{v(b)}catch(A){setTimeout(()=>{throw A},0)}})};return I(p,_a.EventType.OPEN,()=>{C||(q(lt,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),I(p,_a.EventType.CLOSE,()=>{C||(C=!0,q(lt,`RPC '${e}' stream ${s} transport closed`),T.So())}),I(p,_a.EventType.ERROR,O=>{C||(C=!0,Ti(lt,`RPC '${e}' stream ${s} transport errored:`,O),T.So(new W(V.UNAVAILABLE,"The operation could not be completed")))}),I(p,_a.EventType.MESSAGE,O=>{var _;if(!C){const v=O.data[0];fe(!!v);const b=v,A=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(A){q(lt,`RPC '${e}' stream ${s} received error:`,A);const M=A.status;let L=function(g){const E=Me[g];if(E!==void 0)return jk(E)}(M),w=A.message;L===void 0&&(L=V.INTERNAL,w="Unknown error status: "+M+" with message "+A.message),C=!0,T.So(new W(L,w)),p.close()}else q(lt,`RPC '${e}' stream ${s} received:`,v),T.bo(v)}}),I(l,hk.STAT_EVENT,O=>{O.stat===lf.PROXY?q(lt,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===lf.NOPROXY&&q(lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Hd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pc(t){return new MD(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jk{constructor(e,n,r,s,i,a,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xL extends Jk{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Y.min():i.readTime?gn(i.readTime):Y.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yf(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=hf(l)?{documents:$D(s,l)}:{query:BD(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=$k(s,i.resumeToken);const u=pf(s,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(Y.min())>0){a.readTime=Bu(s,i.snapshotVersion.toTimestamp());const u=pf(s,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=HD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yf(this.serializer),n.removeTarget=e,this.a_(n)}}class IL extends Jk{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=zD(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VD(this.serializer,r))};this.a_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,mf(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(V.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,mf(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new W(V.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class OL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Is(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=J(l);u.L_.add(4),await Mo(u),u.q_.set("Unknown"),u.L_.delete(4),await Dc(u)}(this))})}),this.q_=new OL(r,s)}}async function Dc(t){if(Is(t))for(const e of t.B_)await e(!0)}async function Mo(t){for(const e of t.B_)await e(!1)}function Zk(t,e){const n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mm(n)?pm(n):Vi(n).r_()&&fm(n,e))}function hm(t,e){const n=J(t),r=Vi(n);n.N_.delete(e),r.r_()&&e1(n,e),n.N_.size===0&&(r.r_()?r.o_():Is(n)&&n.q_.set("Unknown"))}function fm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vi(t).A_(e)}function e1(t,e){t.Q_.xe(e),Vi(t).R_(e)}function pm(t){t.Q_=new RD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vi(t).start(),t.q_.v_()}function mm(t){return Is(t)&&!Vi(t).n_()&&t.N_.size>0}function Is(t){return J(t).L_.size===0}function t1(t){t.Q_=void 0}async function RL(t){t.q_.set("Online")}async function PL(t){t.N_.forEach((e,n)=>{fm(t,e)})}async function DL(t,e){t1(t),mm(t)?(t.q_.M_(e),pm(t)):t.q_.set("Unknown")}async function LL(t,e,n){if(t.q_.set("Online"),e instanceof zk&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qu(t,r)}else if(e instanceof Yl?t.Q_.Ke(e):e instanceof Vk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Y.min()))try{const r=await Yk(t.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.Q_.rt(i);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(rt.EMPTY_BYTE_STRING,c.snapshotVersion)),e1(s,l);const h=new br(c.target,l,u,c.sequenceNumber);fm(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await qu(t,r)}}async function qu(t,e,n){if(!Po(e))throw e;t.L_.add(1),await Mo(t),t.q_.set("Offline"),n||(n=()=>Yk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dc(t)})}function n1(t,e){return e().catch(n=>qu(t,n,e))}async function Lc(t){const e=J(t),n=Fr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ML(e);)try{const s=await bL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,FL(e,s)}catch(s){await qu(e,s)}r1(e)&&s1(e)}function ML(t){return Is(t)&&t.O_.length<10}function FL(t,e){t.O_.push(e);const n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function r1(t){return Is(t)&&!Fr(t).n_()&&t.O_.length>0}function s1(t){Fr(t).start()}async function UL(t){Fr(t).p_()}async function jL(t){const e=Fr(t);for(const n of t.O_)e.m_(n.mutations)}async function VL(t,e,n){const r=t.O_.shift(),s=am.from(r,e,n);await n1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lc(t)}async function zL(t,e){e&&Fr(t).V_&&await async function(n,r){if(function(s){return ND(s)&&s!==V.ABORTED}(r.code)){const s=n.O_.shift();Fr(n).s_(),await n1(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Lc(n)}}(t,e),r1(t)&&s1(t)}async function vb(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.L_.add(3),await Mo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dc(n)}async function $L(t,e){const n=J(t);e?(n.L_.delete(2),await Dc(n)):e||(n.L_.add(2),await Mo(n),n.q_.set("Unknown"))}function Vi(t){return t.K_||(t.K_=function(e,n,r){const s=J(e);return s.w_(),new xL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:RL.bind(null,t),Ro:PL.bind(null,t),mo:DL.bind(null,t),d_:LL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mm(t)?pm(t):t.q_.set("Unknown")):(await t.K_.stop(),t1(t))})),t.K_}function Fr(t){return t.U_||(t.U_=function(e,n,r){const s=J(e);return s.w_(),new IL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UL.bind(null,t),mo:zL.bind(null,t),f_:jL.bind(null,t),g_:VL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lc(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new gm(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),Po(t))return new W(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=ka(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new fi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bb{constructor(){this.W_=new Ne(G.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ni{constructor(e,n,r,s,i,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ni(e,n,fi.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class qL{constructor(){this.queries=wb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const r=J(e),s=r.queries;r.queries=wb(),s.forEach((i,a)=>{for(const l of a.j_)l.onError(n)})})(this,new W(V.ABORTED,"Firestore shutting down"))}}function wb(){return new ji(t=>Ck(t),Ic)}async function HL(t,e){const n=J(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new BL,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=ym(a,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&vm(n)}async function KL(t,e){const n=J(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WL(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&vm(n)}function GL(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function vm(t){t.Y_.forEach(e=>{e.next()})}var bf,Eb;(Eb=bf||(bf={})).ea="default",Eb.Cache="cache";class QL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ni(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bf.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class YL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=se(),this.mutatedKeys=se(),this.Aa=xk(e),this.Ra=new fi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new bb,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),C=Nc(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;m&&C?m.data.isEqual(C.data)?T!==I&&(r.track({type:3,doc:C}),O=!0):this.ga(m,C)||(r.track({type:2,doc:C}),O=!0,(u&&this.Aa(C,u)>0||c&&this.Aa(C,c)<0)&&(l=!0)):!m&&C?(r.track({type:0,doc:C}),O=!0):m&&!C&&(r.track({type:1,doc:m}),O=!0,(u||c)&&(l=!0)),O&&(C?(a=a.add(C),i=I?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,p)=>function(m,C){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return T(m)-T(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,a.length!==0||c?{snapshot:new Ni(this.query,e.Ra,i,a,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new a1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new i1(r))}),n}ba(e){this.Ta=e.Ts,this.da=se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ni.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JL{constructor(e){this.key=e,this.va=!1}}class ZL{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ji(l=>Ck(l),Ic),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne(G.comparator),this.Na=new Map,this.La=new um,this.Ba={},this.ka=new Map,this.qa=Ii.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eM(t,e,n=!0){const r=h1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await o1(r,e,n,!0),s}async function tM(t,e){const n=h1(t);await o1(n,e,!0,!1)}async function o1(t,e,n,r){const s=await wL(t.localStore,mn(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await nM(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Zk(t.remoteStore,s),l}async function nM(t,e,n,r,s){t.Ka=(p,m,C)=>async function(T,I,O,_){let v=I.view.ma(O);v.ns&&(v=await mb(T.localStore,I.query,!1).then(({documents:L})=>I.view.ma(L,v)));const b=_&&_.targetChanges.get(I.targetId),A=_&&_.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(v,T.isPrimaryClient,b,A);return kb(T,I.targetId,M.wa),M.snapshot}(t,p,m,C);const i=await mb(t.localStore,e,!0),a=new YL(e,i.Ts),l=a.ma(i.documents),u=Lo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=a.applyChanges(l,t.isPrimaryClient,u);kb(t,n,c.wa);const h=new XL(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function rM(t,e,n){const r=J(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Ic(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hm(r.remoteStore,s.targetId),wf(r,s.targetId)}).catch(Ro)):(wf(r,s.targetId),await vf(r.localStore,s.targetId,!0))}async function sM(t,e){const n=J(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hm(n.remoteStore,r.targetId))}async function iM(t,e,n){const r=hM(t);try{const s=await function(i,a){const l=J(i),u=qe.now(),c=a.reduce((m,C)=>m.add(C.key),se());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Wn(),T=se();return l.cs.getEntries(m,c).next(I=>{C=I,C.forEach((O,_)=>{_.isValidDocument()||(T=T.add(O))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,C)).next(I=>{h=I;const O=[];for(const _ of a){const v=TD(_,h.get(_.key).overlayedDocument);v!=null&&O.push(new xs(_.key,v,bk(v.value.mapValue),Un.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,O,a)}).next(I=>{p=I;const O=I.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,I.batchId,O)})}).then(()=>({batchId:p.batchId,changes:Nk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,l){let u=i.Ba[i.currentUser.toKey()];u||(u=new Ne(ce)),u=u.insert(a,l),i.Ba[i.currentUser.toKey()]=u}(r,s.batchId,n),await Fo(r,s.changes),await Lc(r.remoteStore)}catch(s){const i=ym(s,"Failed to persist write");n.reject(i)}}async function l1(t,e){const n=J(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?fe(a.va):s.removedDocuments.size>0&&(fe(a.va),a.va=!1))}),await Fo(n,r,e)}catch(r){await Ro(r)}}function _b(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(i,a){const l=J(i);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&vm(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aM(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Ne(G.comparator);a=a.insert(i,dt.newNoDocument(i,Y.min()));const l=se().add(i),u=new Rc(Y.min(),new Map,new Ne(ce),a,l);await l1(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),bm(r)}else await vf(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(Ro)}async function oM(t,e){const n=J(t),r=e.batch.batchId;try{const s=await gL(n.localStore,e);c1(n,r,null),u1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fo(n,s)}catch(s){await Ro(s)}}async function lM(t,e,n){const r=J(t);try{const s=await function(i,a){const l=J(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(fe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);c1(r,e,n),u1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fo(r,s)}catch(s){await Ro(s)}}function u1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function c1(t,e,n){const r=J(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||d1(t,r)})}function d1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bm(t))}function kb(t,e,n){for(const r of n)r instanceof i1?(t.La.addReference(r.key,e),uM(t,r)):r instanceof a1?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||d1(t,r.key)):X()}function uM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),bm(t))}function bm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new G(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new JL(n)),t.Oa=t.Oa.insert(n,r),Zk(t.remoteStore,new br(mn(sm(n.path)),r,"TargetPurposeLimboResolution",Jp.oe))}}async function Fo(t,e,n){const r=J(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=dm.Wi(u.targetId,c);i.push(p)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(l,u){const c=J(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,p=>U.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>U.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Po(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=c.os.get(p),C=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(C);c.os=c.os.insert(p,T)}}}(r.localStore,i))}async function cM(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await Qk(n.localStore,e);n.currentUser=e,function(s,i){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new W(V.CANCELLED,i))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fo(n,r.hs)}}function dM(t,e){const n=J(t),r=n.Na.get(e);if(r&&r.va)return se().add(r.key);{let s=se();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function h1(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aM.bind(null,e),e.Ca.d_=WL.bind(null,e.eventManager),e.Ca.$a=GL.bind(null,e.eventManager),e}function hM(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lM.bind(null,e),e}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mL(this.persistence,new fL,e.initialUser,this.serializer)}Ga(e){return new cL(cm.Zr,this.serializer)}Wa(e){return new _L}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class Ef{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_b(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await $L(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qL}()}createDatastore(e){const n=Pc(e.databaseInfo.databaseId),r=function(s){return new CL(s)}(e.databaseInfo);return function(s,i,a,l){return new NL(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(n,r,s,i,a){return new AL(n,r,s,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_b(this.syncEngine,n,0),function(){return yb.D()?new yb:new kL}())}createSyncEngine(e,n){return function(r,s,i,a,l,u,c){const h=new ZL(r,s,i,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=J(r);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Mo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ef.provider={build:()=>new Ef};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=gk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ym(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kd(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Qk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mM(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>vb(e.remoteStore,s)),t._onlineComponents=e}async function mM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===V.FAILED_PRECONDITION||r.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await Kd(t,new Hu)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Kd(t,new Hu);return t._offlineComponents}async function f1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Tb(t,new Ef))),t._onlineComponents}function gM(t){return f1(t).then(e=>e.syncEngine)}async function yM(t){const e=await f1(t),n=e.eventManager;return n.onListen=eM.bind(null,e.syncEngine),n.onUnlisten=rM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sM.bind(null,e.syncEngine),n}function vM(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,u){const c=new fM({next:p=>{c.Za(),i.enqueueAndForget(()=>KL(s,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new W(V.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new W(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new QL(sm(a.path),c,{includeMetadataChanges:!0,_a:!0});return HL(s,h)}(await yM(t),t.asyncQueue,e,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function p1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sb=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bM(t,e,n){if(!n)throw new W(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wM(t,e,n,r){if(e===!0&&r===!0)throw new W(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cb(t){if(!G.isDocumentKey(t))throw new W(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function yo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new W(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RP;switch(n.type){case"firstParty":return new MP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Sb.get(e);n&&(q("ComponentProvider","Removing Datastore"),Sb.delete(e),n.terminate())}(this),Promise.resolve()}}function EM(t,e,n,r={}){var s;const i=(t=yo(t,Em))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=z2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new PP(new mk(l,u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _m{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _m(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class vo extends _m{constructor(e,n,r){super(e,n,sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new G(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function km(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=gk.newId()),bM("doc","path",e),t instanceof Em){const r=Re.fromString(e,...n);return Cb(r),new qt(t,null,new G(r))}{if(!(t instanceof qt||t instanceof vo))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Cb(r),new qt(t.firestore,t instanceof vo?t.converter:null,new G(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ib{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xk(this,"async_queue_retry"),this.Vu=()=>{const r=Hd();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Po(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=gm.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Tm extends Em{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ib,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function _M(t,e){const n=typeof t=="object"?t:x_(),r=typeof t=="string"?t:"(default)",s=jp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=j2("firestore");i&&EM(s,...i)}return s}function m1(t){if(t._terminated)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kM(t),t._firestoreClient}function kM(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new QP(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,p1(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pM(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(rt.fromBase64String(e))}catch(n){throw new W(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g1{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TM=/^__.*__$/;class SM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Do(e,this.data,n,this.fieldTransforms)}}function y1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Im{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ku(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(y1(this.Cu)&&TM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class CM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pc(e)}Qu(e,n,r,s=!1){return new Im({Cu:e,methodName:n,qu:r,path:Ze.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xM(t){const e=t._freezeSettings(),n=Pc(t._databaseId);return new CM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IM(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);E1("Data must be an object, but it was:",a,r);const l=b1(r,a);let u,c;if(i.merge)u=new nn(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=NM(e,p,n);if(!a.contains(m))throw new W(V.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AM(h,m)||h.push(m)}u=new nn(h),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new SM(new zt(l),u,c)}function v1(t,e){if(w1(t=Nt(t)))return E1("Unsupported field value:",e,t),b1(t,e);if(t instanceof g1)return function(n,r){if(!y1(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const a of n){let l=v1(a,r.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return vD(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=qe.fromDate(n);return{timestampValue:Bu(r.serializer,s)}}if(n instanceof qe){const s=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bu(r.serializer,s)}}if(n instanceof Cm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oi)return{bytesValue:$k(r.serializer,n._byteString)};if(n instanceof qt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lm(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof xm)return function(s,i){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(a=>{if(typeof a!="number")throw i.Bu("VectorValues must only contain numeric values.");return im(i.serializer,a)})}}}}}}(n,r);throw r.Bu(`Unsupported field value: ${wm(n)}`)}(t,e)}function b1(t,e){const n={};return yk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,(r,s)=>{const i=v1(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function w1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Cm||t instanceof Oi||t instanceof qt||t instanceof g1||t instanceof xm)}function E1(t,e,n){if(!w1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=wm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function NM(t,e,n){if((e=Nt(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const OM=new RegExp("[~\\*/\\[\\]]");function _1(t,e,n){if(e.search(OM)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ku(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new W(V.INVALID_ARGUMENT,l+t+u)}function AM(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RM extends k1{data(){return super.data()}}function T1(t,e){return typeof e=="string"?_1(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}class PM{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ui(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>De(a.doubleValue));return new xm(i)}convertGeoPoint(e){return new Cm(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);fe(Gk(r));const s=new fo(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||Kn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S1 extends k1{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new MM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class MM extends S1{data(e={}){return super.data(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FM(t){t=yo(t,qt);const e=yo(t.firestore,Tm);return vM(m1(e),t._key).then(n=>VM(e,t,n))}class UM extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function C1(t,e,n){t=yo(t,qt);const r=yo(t.firestore,Tm),s=DM(t.converter,e);return jM(r,[IM(xM(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Un.none())])}function jM(t,e){return function(n,r){const s=new Rr;return n.asyncQueue.enqueueAndForget(async()=>iM(await gM(n),r,s)),s.promise}(m1(t),e)}function VM(t,e,n){const r=n.docs.get(e._key),s=new UM(t);return new S1(t,s,e._key,r,new LM(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Fi=n})(Li),_i(new ps("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new Tm(new DP(n.getProvider("auth-internal")),new UP(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(l.options.projectId,u)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ar(Gv,"4.7.3",t),Ar(Gv,"4.7.3","esm2017")})();const zM={apiKey:"AIzaSyAD3V3YgDjN1ANBYfAfxegOwt6D8JqhDXY",authDomain:"shop-ad98d.firebaseapp.com",projectId:"shop-ad98d",storageBucket:"shop-ad98d.firebasestorage.app",messagingSenderId:"172119085311",appId:"1:172119085311:web:dbf1f64f95a30dce3bbcca",measurementId:"G-L51VV4QYSM"},x1=C_(zM),Nm=_M(x1),js=IP(x1),$M=new xn;ui().shape({name:Ve().trim().required("Product name is required"),price:ts().positive("Price must be positive").required("Price is required"),description:Ve().trim().required("Description is required"),image:Ve().url("Invalid image URL").required("Image URL is required"),category:Ve().trim().required("Category is required"),ingredients:xu().of(Ve().trim()),allergens:xu().of(Ve().trim()),stock:ts().integer().min(0,"Stock must be at least 0").required("Stock is required")});const BM=ui().shape({email:Ve().email("Invalid email").required("Email is required"),displayName:Ve().trim(),isAdmin:n_(),createdAt:Ei().required("Creation date is required"),updatedAt:Ei()});ui().shape({userId:Ve().required("User ID is required"),userEmail:Ve().email("Invalid email").required("User email is required"),items:xu().of(ui().shape({productId:Ve().required("Product ID is required"),quantity:ts().integer().min(1,"Quantity must be at least 1").required("Quantity is required"),price:ts().positive("Price must be positive").required("Price is required"),name:Ve().trim().required("Product name is required")})).required("Items are required"),status:Ve().oneOf(["pending","processing","shipped","delivered","cancelled"]).required("Status is required"),subtotal:ts().positive("Subtotal must be positive").required("Subtotal is required"),total:ts().positive("Total must be positive").required("Total is required"),createdAt:Ei().required("Creation date is required"),updatedAt:Ei(),shippingAddress:ui().shape({street:Ve().trim().required("Street is required"),city:Ve().trim().required("City is required"),state:Ve().trim().required("State is required"),postalCode:Ve().trim().required("Postal code is required"),country:Ve().trim().required("Country is required")})});const qM=async(t,e)=>{await BM.validate(e),await C1(km(Nm,"users",t),{...e,createdAt:new Date().toISOString()})},Nb=async(t,e)=>{await C1(km(Nm,"wishlists",t),{items:e,updatedAt:new Date().toISOString()})},HM=async t=>{const e=km(Nm,"wishlists",t),n=await FM(e);return n.exists()?n.data().items:[]},I1=k.createContext();function N1(){return k.useContext(I1)}function KM({children:t}){const[e,n]=k.useState(null),[r,s]=k.useState(!0);async function i(m,C){try{const T=await cR(js,m,C);return await qM(T.user.uid,{email:T.user.email,displayName:T.user.displayName||m.split("@")[0]}),console.log("Signup success:",T.user),T}catch(T){throw console.error("Signup error:",T),T}}async function a(m,C){try{const T=await dR(js,m,C);return console.log("Login success:",T.user),T}catch(T){throw console.error("Login error:",T),T}}async function l(){try{const m=await FR(js,$M);return console.log("Google sign in success:",m.user),m}catch(m){throw console.error("Google sign in error:",m),m}}async function u(m){try{await fR(e,m),n(C=>({...C,...m}))}catch(C){throw console.error("Profile update error:",C),C}}async function c(m){try{await uR(js,m)}catch(C){throw console.error("Password reset error:",C),C}}function h(){return yR(js)}k.useEffect(()=>gR(js,m=>{n(m),s(!1)}),[]);const p={currentUser:e,loading:r,signup:i,login:a,logout:h,signInWithGoogle:l,isAuthenticated:!!e,updateUserProfile:u,resetPassword:c};return F.jsx(I1.Provider,{value:p,children:!r&&t})}const pa={success:t=>{ge.success(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},error:t=>{ge.error(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},O1=k.createContext();function WM({children:t}){const[e,n]=k.useState([]),{currentUser:r}=N1(),s=k.useCallback(async()=>{try{const l=await HM(r.uid);n(l)}catch(l){console.error("Failed to load wishlist:",l),pa.error("Failed to load wishlist")}},[r]);k.useEffect(()=>{r?s():n([])},[r,s]);const i=async l=>{try{const u=[...e,l];await Nb(r.uid,u),n(u),pa.success("Added to wishlist")}catch(u){console.error("Failed to add to wishlist:",u),pa.error("Failed to add to wishlist")}},a=async l=>{try{const u=e.filter(c=>c.id!==l);await Nb(r.uid,u),n(u),pa.success("Removed from wishlist")}catch(u){console.error("Failed to remove from wishlist:",u),pa.error("Failed to remove from wishlist")}};return F.jsx(O1.Provider,{value:{items:e,addToWishlist:i,removeFromWishlist:a},children:t})}function GM(){return k.useContext(O1)}function QM({products:t}){const[e,n]=k.useState(""),r=Q0(),s=i=>{i.preventDefault(),e.trim()&&(r(`/search?q=${encodeURIComponent(e.trim())}`),n(""))};return F.jsxs(Xy,{className:"d-flex",onSubmit:s,children:[F.jsx(Xy.Control,{type:"search",placeholder:"Search products...",className:"me-2","aria-label":"Search",value:e,onChange:i=>n(i.target.value)}),F.jsx(hE,{variant:"outline-success",type:"submit",children:"Search"})]})}function YM({products:t}){const{currentUser:e}=N1(),{cartItems:n}=A2(),{wishlistItems:r}=GM();return F.jsx(vl,{bg:"light",expand:"lg",sticky:"top",children:F.jsxs(mE,{children:[F.jsx(vl.Brand,{as:Kr,to:"/",children:"Deleen's Home Bake"}),F.jsx(vl.Toggle,{"aria-controls":"basic-navbar-nav"}),F.jsxs(vl.Collapse,{id:"basic-navbar-nav",children:[F.jsxs(Wr,{className:"me-auto",children:[F.jsx(Wr.Link,{as:Kr,to:"/",children:"Home"}),F.jsxs(Wr.Link,{as:Kr,to:"/cart",children:["Cart (",n.length,")"]}),F.jsxs(Wr.Link,{as:Kr,to:"/wishlist",children:["Wishlist (",r.length,")"]}),e&&F.jsx(Wr.Link,{as:Kr,to:"/profile",children:"Profile"}),!e&&F.jsxs(F.Fragment,{children:[F.jsx(Wr.Link,{as:Kr,to:"/login",children:"Login"}),F.jsx(Wr.Link,{as:Kr,to:"/signup",children:"Sign Up"})]})]}),F.jsx(QM,{products:t})]})]})})}function XM(){const[t]=k.useState([{id:1,name:"Classic Chocolate Cake",price:29.99,image:"https://placehold.co/300x200/png?text=Chocolate+Cake",description:"Rich chocolate layers with ganache"}]);return F.jsx(KM,{children:F.jsx(O2,{children:F.jsx(WM,{children:F.jsx(kx,{children:F.jsxs("div",{className:"App",children:[F.jsx(YM,{products:t}),F.jsx("div",{className:"main-content",children:F.jsx(gx,{})}),F.jsx(N2,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})})}Jh.createRoot(document.getElementById("root")).render(F.jsx(te.StrictMode,{children:F.jsx(XM,{})}));
//# sourceMappingURL=index-CgPUmX6r.js.map
