function gR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function To(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NE={exports:{}},id={},OE={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),vR=Symbol.for("react.portal"),yR=Symbol.for("react.fragment"),_R=Symbol.for("react.strict_mode"),ER=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),TR=Symbol.for("react.context"),IR=Symbol.for("react.forward_ref"),SR=Symbol.for("react.suspense"),CR=Symbol.for("react.memo"),xR=Symbol.for("react.lazy"),dy=Symbol.iterator;function RR(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var DE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LE=Object.assign,VE={};function Io(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||DE}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=Io.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||DE}var Kp=qp.prototype=new ME;Kp.constructor=qp;LE(Kp,Io.prototype);Kp.isPureReactComponent=!0;var hy=Array.isArray,FE=Object.prototype.hasOwnProperty,Gp={current:null},jE={key:!0,ref:!0,__self:!0,__source:!0};function $E(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)FE.call(e,r)&&!jE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vl,type:t,key:s,ref:o,props:i,_owner:Gp.current}}function AR(t,e){return{$$typeof:vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===vl}function kR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fy=/\/+/g;function mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kR(""+t.key):e.toString(36)}function Du(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vl:case vR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mh(o,0):r,hy(i)?(n="",t!=null&&(n=t.replace(fy,"$&/")+"/"),Du(i,e,n,"",function(c){return c})):i!=null&&(Qp(i)&&(i=AR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mh(s,a);o+=Du(s,e,n,l,i)}else if(l=RR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mh(s,a++),o+=Du(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return Du(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Lu={transition:null},bR={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Gp};function UE(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Io;ae.Fragment=yR;ae.Profiler=ER;ae.PureComponent=qp;ae.StrictMode=_R;ae.Suspense=SR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;ae.act=UE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)FE.call(e,l)&&!jE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vl,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:TR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wR,_context:t},t.Consumer=t};ae.createElement=$E;ae.createFactory=function(t){var e=$E.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:IR,render:t}};ae.isValidElement=Qp;ae.lazy=function(t){return{$$typeof:xR,_payload:{_status:-1,_result:t},_init:PR}};ae.memo=function(t,e){return{$$typeof:CR,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Lu.transition;Lu.transition={};try{t()}finally{Lu.transition=e}};ae.unstable_act=UE;ae.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ae.useContext=function(t){return Ct.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ae.useId=function(){return Ct.current.useId()};ae.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ae.useRef=function(t){return Ct.current.useRef(t)};ae.useState=function(t){return Ct.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ct.current.useTransition()};ae.version="18.3.1";OE.exports=ae;var v=OE.exports;const ne=To(v),NR=gR({__proto__:null,default:ne},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR=v,DR=Symbol.for("react.element"),LR=Symbol.for("react.fragment"),VR=Object.prototype.hasOwnProperty,MR=OR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FR={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VR.call(e,r)&&!FR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DR,type:t,key:s,ref:o,props:i,_owner:MR.current}}id.Fragment=LR;id.jsx=BE;id.jsxs=BE;NE.exports=id;var _=NE.exports,ff={},zE={exports:{}},Kt={},WE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var q=j.length;j.push(W);e:for(;0<q;){var le=q-1>>>1,oe=j[le];if(0<i(oe,W))j[le]=W,j[q]=oe,q=le;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],q=j.pop();if(q!==W){j[0]=q;e:for(var le=0,oe=j.length,fe=oe>>>1;le<fe;){var ve=2*(le+1)-1,Se=j[ve],tt=ve+1,nt=j[tt];if(0>i(Se,q))tt<oe&&0>i(nt,Se)?(j[le]=nt,j[tt]=q,le=tt):(j[le]=Se,j[ve]=q,le=ve);else if(tt<oe&&0>i(nt,q))j[le]=nt,j[tt]=q,le=tt;else break e}}return W}function i(j,W){var q=j.sortIndex-W.sortIndex;return q!==0?q:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,w=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=j)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function N(j){if(R=!1,S(j),!w)if(n(l)!==null)w=!0,Z(D);else{var W=n(c);W!==null&&se(N,W.startTime-j)}}function D(j,W){w=!1,R&&(R=!1,T(y),y=-1),g=!0;var q=p;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||j&&!b());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var oe=le(f.expirationTime<=W);W=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),S(W)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var ve=n(c);ve!==null&&se(N,ve.startTime-W),fe=!1}return fe}finally{f=null,p=q,g=!1}}var V=!1,C=null,y=-1,A=5,P=-1;function b(){return!(t.unstable_now()-P<A)}function O(){if(C!==null){var j=t.unstable_now();P=j;var W=!0;try{W=C(!0,j)}finally{W?k():(V=!1,C=null)}}else V=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=O,k=function(){de.postMessage(null)}}else k=function(){x(O,0)};function Z(j){C=j,V||(V=!0,k())}function se(j,W){y=x(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Z(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var q=p;p=W;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return W()}finally{p=q}},t.unstable_scheduleCallback=function(j,W,q){var le=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?le+q:le):q=le,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=q+oe,j={id:d++,callback:W,priorityLevel:j,startTime:q,expirationTime:oe,sortIndex:-1},q>le?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(R?(T(y),y=-1):R=!0,se(N,q-le))):(j.sortIndex=oe,e(l,j),w||g||(w=!0,Z(D))),j},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(j){var W=p;return function(){var q=p;p=W;try{return j.apply(this,arguments)}finally{p=q}}}})(HE);WE.exports=HE;var jR=WE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=v,zt=jR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,Fa={};function os(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(Fa[t]=e,t=0;t<e.length;t++)qE.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,UR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,py={},my={};function BR(t){return pf.call(my,t)?!0:pf.call(py,t)?!1:UR.test(t)?my[t]=!0:(py[t]=!0,!1)}function zR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WR(t,e,n,r){if(e===null||typeof e>"u"||zR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xp,Yp);lt[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xp,Yp);lt[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xp,Yp);lt[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WR(e,n,i,r)&&(n=null),r||i===null?BR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),vf=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),QE=Symbol.for("react.offscreen"),gy=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,gh;function la(t){if(gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var vh=!1;function yh(t,e){if(!t||vh)return"";vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function HR(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=yh(t.type,!1),t;case 11:return t=yh(t.type.render,!1),t;case 1:return t=yh(t.type,!0),t;default:return""}}function yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bs:return"Fragment";case Ps:return"Portal";case mf:return"Profiler";case Zp:return"StrictMode";case gf:return"Suspense";case vf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GE:return(t.displayName||"Context")+".Consumer";case KE:return(t._context.displayName||"Context")+".Provider";case em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tm:return e=t.displayName||null,e!==null?e:yf(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return yf(t(e))}catch{}}return null}function qR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KR(t){var e=XE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=KR(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _f(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JE(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function Ef(t,e){JE(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||oc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ua=Array.isArray;function Ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ua(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function ZE(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ey(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,tw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GR=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(t){GR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_a[e]=_a[t]})});function nw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_a.hasOwnProperty(t)&&_a[t]?(""+e).trim():e+"px"}function rw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QR=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(QR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Cf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=null;function nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rf=null,Hs=null,qs=null;function wy(t){if(t=El(t)){if(typeof Rf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=ud(e),Rf(t.stateNode,t.type,e))}}function iw(t){Hs?qs?qs.push(t):qs=[t]:Hs=t}function sw(){if(Hs){var t=Hs,e=qs;if(qs=Hs=null,wy(t),e)for(t=0;t<e.length;t++)wy(e[t])}}function ow(t,e){return t(e)}function aw(){}var _h=!1;function lw(t,e,n){if(_h)return t(e,n);_h=!0;try{return ow(t,e,n)}finally{_h=!1,(Hs!==null||qs!==null)&&(aw(),sw())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Af=!1;if(hr)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Af=!1}function XR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ea=!1,ac=null,lc=!1,kf=null,YR={onError:function(t){Ea=!0,ac=t}};function JR(t,e,n,r,i,s,o,a,l){Ea=!1,ac=null,XR.apply(YR,arguments)}function ZR(t,e,n,r,i,s,o,a,l){if(JR.apply(this,arguments),Ea){if(Ea){var c=ac;Ea=!1,ac=null}else throw Error(U(198));lc||(lc=!0,kf=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(as(t)!==t)throw Error(U(188))}function eA(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ty(i),t;if(s===r)return Ty(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function cw(t){return t=eA(t),t!==null?dw(t):null}function dw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dw(t);if(e!==null)return e;t=t.sibling}return null}var hw=zt.unstable_scheduleCallback,Iy=zt.unstable_cancelCallback,tA=zt.unstable_shouldYield,nA=zt.unstable_requestPaint,$e=zt.unstable_now,rA=zt.unstable_getCurrentPriorityLevel,rm=zt.unstable_ImmediatePriority,fw=zt.unstable_UserBlockingPriority,uc=zt.unstable_NormalPriority,iA=zt.unstable_LowPriority,pw=zt.unstable_IdlePriority,sd=null,Dn=null;function sA(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(sd,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:lA,oA=Math.log,aA=Math.LN2;function lA(t){return t>>>=0,t===0?32:31-(oA(t)/aA|0)|0}var lu=64,uu=4194304;function ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ca(a):(s&=o,s!==0&&(r=ca(s)))}else o=n&~i,o!==0?r=ca(o):s!==0&&(r=ca(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function uA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mw(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function Eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function dA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vw,sm,yw,_w,Ew,bf=!1,cu=[],Jr=null,Zr=null,ei=null,Ua=new Map,Ba=new Map,Ur=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sy(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function Zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=El(e),e!==null&&sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fA(t,e,n,r,i){switch(e){case"focusin":return Jr=Zo(Jr,t,e,n,r,i),!0;case"dragenter":return Zr=Zo(Zr,t,e,n,r,i),!0;case"mouseover":return ei=Zo(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ua.set(s,Zo(Ua.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ba.set(s,Zo(Ba.get(s)||null,t,e,n,r,i)),!0}return!1}function ww(t){var e=Fi(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=uw(n),e!==null){t.blockedOn=e,Ew(t.priority,function(){yw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xf=r,n.target.dispatchEvent(r),xf=null}else return e=El(n),e!==null&&sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Cy(t,e,n){Vu(t)&&n.delete(e)}function pA(){bf=!1,Jr!==null&&Vu(Jr)&&(Jr=null),Zr!==null&&Vu(Zr)&&(Zr=null),ei!==null&&Vu(ei)&&(ei=null),Ua.forEach(Cy),Ba.forEach(Cy)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,bf||(bf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,pA)))}function za(t){function e(i){return ea(i,t)}if(0<cu.length){ea(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&ea(Jr,t),Zr!==null&&ea(Zr,t),ei!==null&&ea(ei,t),Ua.forEach(e),Ba.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)ww(n),n.blockedOn===null&&Ur.shift()}var Ks=Tr.ReactCurrentBatchConfig,dc=!0;function mA(t,e,n,r){var i=_e,s=Ks.transition;Ks.transition=null;try{_e=1,om(t,e,n,r)}finally{_e=i,Ks.transition=s}}function gA(t,e,n,r){var i=_e,s=Ks.transition;Ks.transition=null;try{_e=4,om(t,e,n,r)}finally{_e=i,Ks.transition=s}}function om(t,e,n,r){if(dc){var i=Nf(t,e,n,r);if(i===null)Ph(t,e,r,hc,n),Sy(t,r);else if(fA(i,t,e,n,r))r.stopPropagation();else if(Sy(t,r),e&4&&-1<hA.indexOf(t)){for(;i!==null;){var s=El(i);if(s!==null&&vw(s),s=Nf(t,e,n,r),s===null&&Ph(t,e,r,hc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ph(t,e,r,null,n)}}var hc=null;function Nf(t,e,n,r){if(hc=null,t=nm(r),t=Fi(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hc=t,null}function Tw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rA()){case rm:return 1;case fw:return 4;case uc:case iA:return 16;case pw:return 536870912;default:return 16}default:return 16}}var qr=null,am=null,Mu=null;function Iw(){if(Mu)return Mu;var t,e=am,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mu=i.slice(t,1<r?1-r:void 0)}function Fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function xy(){return!1}function Gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:xy,this.isPropagationStopped=xy,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Gt(So),_l=Oe({},So,{view:0,detail:0}),vA=Gt(_l),wh,Th,ta,od=Oe({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(wh=t.screenX-ta.screenX,Th=t.screenY-ta.screenY):Th=wh=0,ta=t),wh)},movementY:function(t){return"movementY"in t?t.movementY:Th}}),Ry=Gt(od),yA=Oe({},od,{dataTransfer:0}),_A=Gt(yA),EA=Oe({},_l,{relatedTarget:0}),Ih=Gt(EA),wA=Oe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),TA=Gt(wA),IA=Oe({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SA=Gt(IA),CA=Oe({},So,{data:0}),Ay=Gt(CA),xA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AA[t])?!!e[t]:!1}function um(){return kA}var PA=Oe({},_l,{key:function(t){if(t.key){var e=xA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(t){return t.type==="keypress"?Fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bA=Gt(PA),NA=Oe({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=Gt(NA),OA=Oe({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),DA=Gt(OA),LA=Oe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),VA=Gt(LA),MA=Oe({},od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=Gt(MA),jA=[9,13,27,32],cm=hr&&"CompositionEvent"in window,wa=null;hr&&"documentMode"in document&&(wa=document.documentMode);var $A=hr&&"TextEvent"in window&&!wa,Sw=hr&&(!cm||wa&&8<wa&&11>=wa),Py=String.fromCharCode(32),by=!1;function Cw(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function UA(t,e){switch(t){case"compositionend":return xw(e);case"keypress":return e.which!==32?null:(by=!0,Py);case"textInput":return t=e.data,t===Py&&by?null:t;default:return null}}function BA(t,e){if(Ns)return t==="compositionend"||!cm&&Cw(t,e)?(t=Iw(),Mu=am=qr=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sw&&e.locale!=="ko"?null:e.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zA[t.type]:e==="textarea"}function Rw(t,e,n,r){iw(r),e=fc(e,"onChange"),0<e.length&&(n=new lm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ta=null,Wa=null;function WA(t){Fw(t,0)}function ad(t){var e=Ls(t);if(YE(e))return t}function HA(t,e){if(t==="change")return e}var Aw=!1;if(hr){var Sh;if(hr){var Ch="oninput"in document;if(!Ch){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Ch=typeof Oy.oninput=="function"}Sh=Ch}else Sh=!1;Aw=Sh&&(!document.documentMode||9<document.documentMode)}function Dy(){Ta&&(Ta.detachEvent("onpropertychange",kw),Wa=Ta=null)}function kw(t){if(t.propertyName==="value"&&ad(Wa)){var e=[];Rw(e,Wa,t,nm(t)),lw(WA,e)}}function qA(t,e,n){t==="focusin"?(Dy(),Ta=e,Wa=n,Ta.attachEvent("onpropertychange",kw)):t==="focusout"&&Dy()}function KA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(Wa)}function GA(t,e){if(t==="click")return ad(e)}function QA(t,e){if(t==="input"||t==="change")return ad(e)}function XA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:XA;function Ha(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pf.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vy(t,e){var n=Ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ly(n)}}function Pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bw(){for(var t=window,e=oc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oc(t.document)}return e}function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YA(t){var e=bw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pw(n.ownerDocument.documentElement,n)){if(r!==null&&dm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Vy(n,s);var o=Vy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JA=hr&&"documentMode"in document&&11>=document.documentMode,Os=null,Of=null,Ia=null,Df=!1;function My(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Df||Os==null||Os!==oc(r)||(r=Os,"selectionStart"in r&&dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ia&&Ha(Ia,r)||(Ia=r,r=fc(Of,"onSelect"),0<r.length&&(e=new lm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Os)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},xh={},Nw={};hr&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ld(t){if(xh[t])return xh[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nw)return xh[t]=e[n];return t}var Ow=ld("animationend"),Dw=ld("animationiteration"),Lw=ld("animationstart"),Vw=ld("transitionend"),Mw=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){Mw.set(t,e),os(e,[t])}for(var Rh=0;Rh<Fy.length;Rh++){var Ah=Fy[Rh],ZA=Ah.toLowerCase(),ek=Ah[0].toUpperCase()+Ah.slice(1);Ti(ZA,"on"+ek)}Ti(Ow,"onAnimationEnd");Ti(Dw,"onAnimationIteration");Ti(Lw,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(Vw,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function jy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZR(r,e,void 0,t),t.currentTarget=null}function Fw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jy(i,a,c),s=l}}}if(lc)throw t=kf,lc=!1,kf=null,t}function Re(t,e){var n=e[jf];n===void 0&&(n=e[jf]=new Set);var r=t+"__bubble";n.has(r)||(jw(e,t,2,!1),n.add(r))}function kh(t,e,n){var r=0;e&&(r|=4),jw(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[fu]){t[fu]=!0,qE.forEach(function(n){n!=="selectionchange"&&(tk.has(n)||kh(n,!1,t),kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,kh("selectionchange",!1,e))}}function jw(t,e,n,r){switch(Tw(e)){case 1:var i=mA;break;case 4:i=gA;break;default:i=om}n=i.bind(null,e,n,t),i=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ph(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}lw(function(){var c=s,d=nm(n),f=[];e:{var p=Mw.get(t);if(p!==void 0){var g=lm,w=t;switch(t){case"keypress":if(Fu(n)===0)break e;case"keydown":case"keyup":g=bA;break;case"focusin":w="focus",g=Ih;break;case"focusout":w="blur",g=Ih;break;case"beforeblur":case"afterblur":g=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DA;break;case Ow:case Dw:case Lw:g=TA;break;case Vw:g=VA;break;case"scroll":g=vA;break;case"wheel":g=FA;break;case"copy":case"cut":case"paste":g=SA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ky}var R=(e&4)!==0,x=!R&&t==="scroll",T=R?p!==null?p+"Capture":null:p;R=[];for(var E=c,S;E!==null;){S=E;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,T!==null&&(N=$a(E,T),N!=null&&R.push(Ka(E,N,S)))),x)break;E=E.return}0<R.length&&(p=new g(p,w,null,n,d),f.push({event:p,listeners:R}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==xf&&(w=n.relatedTarget||n.fromElement)&&(Fi(w)||w[fr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Fi(w):null,w!==null&&(x=as(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(R=Ry,N="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(R=ky,N="onPointerLeave",T="onPointerEnter",E="pointer"),x=g==null?p:Ls(g),S=w==null?p:Ls(w),p=new R(N,E+"leave",g,n,d),p.target=x,p.relatedTarget=S,N=null,Fi(d)===c&&(R=new R(T,E+"enter",w,n,d),R.target=S,R.relatedTarget=x,N=R),x=N,g&&w)t:{for(R=g,T=w,E=0,S=R;S;S=ws(S))E++;for(S=0,N=T;N;N=ws(N))S++;for(;0<E-S;)R=ws(R),E--;for(;0<S-E;)T=ws(T),S--;for(;E--;){if(R===T||T!==null&&R===T.alternate)break t;R=ws(R),T=ws(T)}R=null}else R=null;g!==null&&$y(f,p,g,R,!1),w!==null&&x!==null&&$y(f,x,w,R,!0)}}e:{if(p=c?Ls(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=HA;else if(Ny(p))if(Aw)D=QA;else{D=KA;var V=qA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=GA);if(D&&(D=D(t,c))){Rw(f,D,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&wf(p,"number",p.value)}switch(V=c?Ls(c):window,t){case"focusin":(Ny(V)||V.contentEditable==="true")&&(Os=V,Of=c,Ia=null);break;case"focusout":Ia=Of=Os=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,My(f,n,d);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":My(f,n,d)}var C;if(cm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ns?Cw(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Sw&&n.locale!=="ko"&&(Ns||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ns&&(C=Iw()):(qr=d,am="value"in qr?qr.value:qr.textContent,Ns=!0)),V=fc(c,y),0<V.length&&(y=new Ay(y,t,null,n,d),f.push({event:y,listeners:V}),C?y.data=C:(C=xw(n),C!==null&&(y.data=C)))),(C=$A?UA(t,n):BA(t,n))&&(c=fc(c,"onBeforeInput"),0<c.length&&(d=new Ay("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}Fw(f,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,n),s!=null&&r.unshift(Ka(t,s,i)),s=$a(t,e),s!=null&&r.push(Ka(t,s,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $y(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=$a(n,s),l!=null&&o.unshift(Ka(n,l,a))):i||(l=$a(n,s),l!=null&&o.push(Ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nk=/\r\n?/g,rk=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(nk,`
`).replace(rk,"")}function pu(t,e,n){if(e=Uy(e),Uy(t)!==e&&n)throw Error(U(425))}function pc(){}var Lf=null,Vf=null;function Mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,sk=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(ok)}:Ff;function ok(t){setTimeout(function(){throw t})}function bh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),za(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);za(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),On="__reactFiber$"+Co,Ga="__reactProps$"+Co,fr="__reactContainer$"+Co,jf="__reactEvents$"+Co,ak="__reactListeners$"+Co,lk="__reactHandles$"+Co;function Fi(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zy(t);t!==null;){if(n=t[On])return n;t=zy(t)}return e}t=n,n=t.parentNode}return null}function El(t){return t=t[On]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function ud(t){return t[Ga]||null}var $f=[],Vs=-1;function Ii(t){return{current:t}}function Ae(t){0>Vs||(t.current=$f[Vs],$f[Vs]=null,Vs--)}function Ce(t,e){Vs++,$f[Vs]=t.current,t.current=e}var pi={},Et=Ii(pi),Ot=Ii(!1),Qi=pi;function to(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(t){return t=t.childContextTypes,t!=null}function mc(){Ae(Ot),Ae(Et)}function Wy(t,e,n){if(Et.current!==pi)throw Error(U(168));Ce(Et,e),Ce(Ot,n)}function $w(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,qR(t)||"Unknown",i));return Oe({},n,r)}function gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Qi=Et.current,Ce(Et,t),Ce(Ot,Ot.current),!0}function Hy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=$w(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ae(Ot),Ae(Et),Ce(Et,t)):Ae(Ot),Ce(Ot,n)}var Jn=null,cd=!1,Nh=!1;function Uw(t){Jn===null?Jn=[t]:Jn.push(t)}function uk(t){cd=!0,Uw(t)}function Si(){if(!Nh&&Jn!==null){Nh=!0;var t=0,e=_e;try{var n=Jn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,cd=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),hw(rm,Si),i}finally{_e=e,Nh=!1}}return null}var Ms=[],Fs=0,vc=null,yc=0,Xt=[],Yt=0,Xi=null,nr=1,rr="";function Di(t,e){Ms[Fs++]=yc,Ms[Fs++]=vc,vc=t,yc=e}function Bw(t,e,n){Xt[Yt++]=nr,Xt[Yt++]=rr,Xt[Yt++]=Xi,Xi=t;var r=nr;t=rr;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nr=1<<32-_n(e)+i|n<<i|r,rr=s+t}else nr=1<<s|n<<i|r,rr=t}function hm(t){t.return!==null&&(Di(t,1),Bw(t,1,0))}function fm(t){for(;t===vc;)vc=Ms[--Fs],Ms[Fs]=null,yc=Ms[--Fs],Ms[Fs]=null;for(;t===Xi;)Xi=Xt[--Yt],Xt[Yt]=null,rr=Xt[--Yt],Xt[Yt]=null,nr=Xt[--Yt],Xt[Yt]=null}var Bt=null,Ut=null,Pe=!1,pn=null;function zw(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ut=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,Ut=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(Pe){var e=Ut;if(e){var n=e;if(!qy(t,e)){if(Uf(t))throw Error(U(418));e=ti(n.nextSibling);var r=Bt;e&&qy(t,e)?zw(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Bt=t)}}else{if(Uf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Pe=!1,Bt=t}}}function Ky(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function mu(t){if(t!==Bt)return!1;if(!Pe)return Ky(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mf(t.type,t.memoizedProps)),e&&(e=Ut)){if(Uf(t))throw Ww(),Error(U(418));for(;e;)zw(t,e),e=ti(e.nextSibling)}if(Ky(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=Bt?ti(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=Ut;t;)t=ti(t.nextSibling)}function no(){Ut=Bt=null,Pe=!1}function pm(t){pn===null?pn=[t]:pn.push(t)}var ck=Tr.ReactCurrentBatchConfig;function na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gy(t){var e=t._init;return e(t._payload)}function Hw(t){function e(T,E){if(t){var S=T.deletions;S===null?(T.deletions=[E],T.flags|=16):S.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=si(T,E),T.index=0,T.sibling=null,T}function s(T,E,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<E?(T.flags|=2,E):S):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,S,N){return E===null||E.tag!==6?(E=jh(S,T.mode,N),E.return=T,E):(E=i(E,S),E.return=T,E)}function l(T,E,S,N){var D=S.type;return D===bs?d(T,E,S.props.children,N,S.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fr&&Gy(D)===E.type)?(N=i(E,S.props),N.ref=na(T,E,S),N.return=T,N):(N=Hu(S.type,S.key,S.props,null,T.mode,N),N.ref=na(T,E,S),N.return=T,N)}function c(T,E,S,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=$h(S,T.mode,N),E.return=T,E):(E=i(E,S.children||[]),E.return=T,E)}function d(T,E,S,N,D){return E===null||E.tag!==7?(E=qi(S,T.mode,N,D),E.return=T,E):(E=i(E,S),E.return=T,E)}function f(T,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=jh(""+E,T.mode,S),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case su:return S=Hu(E.type,E.key,E.props,null,T.mode,S),S.ref=na(T,null,E),S.return=T,S;case Ps:return E=$h(E,T.mode,S),E.return=T,E;case Fr:var N=E._init;return f(T,N(E._payload),S)}if(ua(E)||Yo(E))return E=qi(E,T.mode,S,null),E.return=T,E;gu(T,E)}return null}function p(T,E,S,N){var D=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(T,E,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return S.key===D?l(T,E,S,N):null;case Ps:return S.key===D?c(T,E,S,N):null;case Fr:return D=S._init,p(T,E,D(S._payload),N)}if(ua(S)||Yo(S))return D!==null?null:d(T,E,S,N,null);gu(T,S)}return null}function g(T,E,S,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(S)||null,a(E,T,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case su:return T=T.get(N.key===null?S:N.key)||null,l(E,T,N,D);case Ps:return T=T.get(N.key===null?S:N.key)||null,c(E,T,N,D);case Fr:var V=N._init;return g(T,E,S,V(N._payload),D)}if(ua(N)||Yo(N))return T=T.get(S)||null,d(E,T,N,D,null);gu(E,N)}return null}function w(T,E,S,N){for(var D=null,V=null,C=E,y=E=0,A=null;C!==null&&y<S.length;y++){C.index>y?(A=C,C=null):A=C.sibling;var P=p(T,C,S[y],N);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(T,C),E=s(P,E,y),V===null?D=P:V.sibling=P,V=P,C=A}if(y===S.length)return n(T,C),Pe&&Di(T,y),D;if(C===null){for(;y<S.length;y++)C=f(T,S[y],N),C!==null&&(E=s(C,E,y),V===null?D=C:V.sibling=C,V=C);return Pe&&Di(T,y),D}for(C=r(T,C);y<S.length;y++)A=g(C,T,y,S[y],N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?y:A.key),E=s(A,E,y),V===null?D=A:V.sibling=A,V=A);return t&&C.forEach(function(b){return e(T,b)}),Pe&&Di(T,y),D}function R(T,E,S,N){var D=Yo(S);if(typeof D!="function")throw Error(U(150));if(S=D.call(S),S==null)throw Error(U(151));for(var V=D=null,C=E,y=E=0,A=null,P=S.next();C!==null&&!P.done;y++,P=S.next()){C.index>y?(A=C,C=null):A=C.sibling;var b=p(T,C,P.value,N);if(b===null){C===null&&(C=A);break}t&&C&&b.alternate===null&&e(T,C),E=s(b,E,y),V===null?D=b:V.sibling=b,V=b,C=A}if(P.done)return n(T,C),Pe&&Di(T,y),D;if(C===null){for(;!P.done;y++,P=S.next())P=f(T,P.value,N),P!==null&&(E=s(P,E,y),V===null?D=P:V.sibling=P,V=P);return Pe&&Di(T,y),D}for(C=r(T,C);!P.done;y++,P=S.next())P=g(C,T,y,P.value,N),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?y:P.key),E=s(P,E,y),V===null?D=P:V.sibling=P,V=P);return t&&C.forEach(function(O){return e(T,O)}),Pe&&Di(T,y),D}function x(T,E,S,N){if(typeof S=="object"&&S!==null&&S.type===bs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case su:e:{for(var D=S.key,V=E;V!==null;){if(V.key===D){if(D=S.type,D===bs){if(V.tag===7){n(T,V.sibling),E=i(V,S.props.children),E.return=T,T=E;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fr&&Gy(D)===V.type){n(T,V.sibling),E=i(V,S.props),E.ref=na(T,V,S),E.return=T,T=E;break e}n(T,V);break}else e(T,V);V=V.sibling}S.type===bs?(E=qi(S.props.children,T.mode,N,S.key),E.return=T,T=E):(N=Hu(S.type,S.key,S.props,null,T.mode,N),N.ref=na(T,E,S),N.return=T,T=N)}return o(T);case Ps:e:{for(V=S.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(T,E.sibling),E=i(E,S.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=$h(S,T.mode,N),E.return=T,T=E}return o(T);case Fr:return V=S._init,x(T,E,V(S._payload),N)}if(ua(S))return w(T,E,S,N);if(Yo(S))return R(T,E,S,N);gu(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,S),E.return=T,T=E):(n(T,E),E=jh(S,T.mode,N),E.return=T,T=E),o(T)):n(T,E)}return x}var ro=Hw(!0),qw=Hw(!1),_c=Ii(null),Ec=null,js=null,mm=null;function gm(){mm=js=Ec=null}function vm(t){var e=_c.current;Ae(_c),t._currentValue=e}function zf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gs(t,e){Ec=t,mm=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(mm!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(Ec===null)throw Error(U(308));js=t,Ec.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var ji=null;function ym(t){ji===null?ji=[t]:ji.push(t)}function Kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ym(e)):(n.next=i.next,i.next=n),e.interleaved=n,pr(t,r)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function _m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pr(t,n)}return i=r.interleaved,i===null?(e.next=e,ym(r)):(e.next=i.next,i.next=e),r.interleaved=e,pr(t,n)}function ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}function Qy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,r){var i=t.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,R=a;switch(p=e,g=n,R.tag){case 1:if(w=R.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=R.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=Oe({},f,p);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ji|=o,t.lanes=o,t.memoizedState=f}}function Xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var wl={},Ln=Ii(wl),Qa=Ii(wl),Xa=Ii(wl);function $i(t){if(t===wl)throw Error(U(174));return t}function Em(t,e){switch(Ce(Xa,e),Ce(Qa,t),Ce(Ln,wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:If(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=If(e,t)}Ae(Ln),Ce(Ln,e)}function io(){Ae(Ln),Ae(Qa),Ae(Xa)}function Qw(t){$i(Xa.current);var e=$i(Ln.current),n=If(e,t.type);e!==n&&(Ce(Qa,t),Ce(Ln,n))}function wm(t){Qa.current===t&&(Ae(Ln),Ae(Qa))}var be=Ii(0);function Tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oh=[];function Tm(){for(var t=0;t<Oh.length;t++)Oh[t]._workInProgressVersionPrimary=null;Oh.length=0}var $u=Tr.ReactCurrentDispatcher,Dh=Tr.ReactCurrentBatchConfig,Yi=0,Ne=null,He=null,Ze=null,Ic=!1,Sa=!1,Ya=0,dk=0;function ht(){throw Error(U(321))}function Im(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Sm(t,e,n,r,i,s){if(Yi=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$u.current=t===null||t.memoizedState===null?mk:gk,t=n(r,i),Sa){s=0;do{if(Sa=!1,Ya=0,25<=s)throw Error(U(301));s+=1,Ze=He=null,e.updateQueue=null,$u.current=vk,t=n(r,i)}while(Sa)}if($u.current=Sc,e=He!==null&&He.next!==null,Yi=0,Ze=He=Ne=null,Ic=!1,e)throw Error(U(300));return t}function Cm(){var t=Ya!==0;return Ya=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function rn(){if(He===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ze===null?Ne.memoizedState:Ze.next;if(e!==null)Ze=e,He=t;else{if(t===null)throw Error(U(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ja(t,e){return typeof e=="function"?e(t):e}function Lh(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Yi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ne.lanes|=d,Ji|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Xw(){}function Yw(t,e){var n=Ne,r=rn(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,xm(eT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Za(9,Zw.bind(null,n,r,i,e),void 0,null),et===null)throw Error(U(349));Yi&30||Jw(n,e,i)}return i}function Jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zw(t,e,n,r){e.value=n,e.getSnapshot=r,tT(e)&&nT(t)}function eT(t,e,n){return n(function(){tT(e)&&nT(t)})}function tT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function nT(t){var e=pr(t,1);e!==null&&En(e,t,1,-1)}function Yy(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},e.queue=t,t=t.dispatch=pk.bind(null,Ne,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rT(){return rn().memoizedState}function Uu(t,e,n,r){var i=kn();Ne.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function dd(t,e,n,r){var i=rn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Im(r,o.deps)){i.memoizedState=Za(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Za(1|e,n,s,r)}function Jy(t,e){return Uu(8390656,8,t,e)}function xm(t,e){return dd(2048,8,t,e)}function iT(t,e){return dd(4,2,t,e)}function sT(t,e){return dd(4,4,t,e)}function oT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aT(t,e,n){return n=n!=null?n.concat([t]):null,dd(4,4,oT.bind(null,e,t),n)}function Rm(){}function lT(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uT(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cT(t,e,n){return Yi&21?(Tn(n,e)||(n=mw(),Ne.lanes|=n,Ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function hk(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Dh.transition;Dh.transition={};try{t(!1),e()}finally{_e=n,Dh.transition=r}}function dT(){return rn().memoizedState}function fk(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hT(t))fT(e,n);else if(n=Kw(t,e,n,r),n!==null){var i=St();En(n,t,r,i),pT(n,e,r)}}function pk(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hT(t))fT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(i.next=i,ym(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Kw(t,e,i,r),n!==null&&(i=St(),En(n,t,r,i),pT(n,e,r))}}function hT(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function fT(t,e){Sa=Ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}var Sc={readContext:nn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},mk={readContext:nn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:Jy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uu(4194308,4,oT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uu(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fk.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Yy,useDebugValue:Rm,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Yy(!1),e=t[0];return t=hk.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=kn();if(Pe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),et===null)throw Error(U(349));Yi&30||Jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jy(eT.bind(null,r,s,t),[t]),r.flags|=2048,Za(9,Zw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=et.identifierPrefix;if(Pe){var n=rr,r=nr;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gk={readContext:nn,useCallback:lT,useContext:nn,useEffect:xm,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:Lh,useRef:rT,useState:function(){return Lh(Ja)},useDebugValue:Rm,useDeferredValue:function(t){var e=rn();return cT(e,He.memoizedState,t)},useTransition:function(){var t=Lh(Ja)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Yw,useId:dT,unstable_isNewReconciler:!1},vk={readContext:nn,useCallback:lT,useContext:nn,useEffect:xm,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:Vh,useRef:rT,useState:function(){return Vh(Ja)},useDebugValue:Rm,useDeferredValue:function(t){var e=rn();return He===null?e.memoizedState=t:cT(e,He.memoizedState,t)},useTransition:function(){var t=Vh(Ja)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Yw,useId:dT,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=ii(t),s=ar(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(En(e,t,i,r),ju(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=ii(t),s=ar(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(En(e,t,i,r),ju(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=ii(t),i=ar(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(En(e,t,r,n),ju(e,t,r))}};function Zy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ha(n,r)||!Ha(i,s):!0}function mT(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=nn(s):(i=Dt(e)?Qi:Et.current,r=e.contextTypes,s=(r=r!=null)?to(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function e_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Hf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_m(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nn(s):(s=Dt(e)?Qi:Et.current,i.context=to(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hd.enqueueReplaceState(i,i.state,null),wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=HR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yk=typeof WeakMap=="function"?WeakMap:Map;function gT(t,e,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xc||(xc=!0,np=r),qf(t,e)},n}function vT(t,e,n){n=ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qf(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function t_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Nk.bind(null,t,e,n),e.then(t,t))}function n_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function r_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ar(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var _k=Tr.ReactCurrentOwner,bt=!1;function It(t,e,n,r){e.child=t===null?qw(e,null,n,r):ro(e,t.child,n,r)}function i_(t,e,n,r,i){n=n.render;var s=e.ref;return Gs(e,i),r=Sm(t,e,n,r,s,i),n=Cm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(Pe&&n&&hm(e),e.flags|=1,It(t,e,r,i),e.child)}function s_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yT(t,e,s,r,i)):(t=Hu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ha,n(o,r)&&t.ref===e.ref)return mr(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function yT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ha(s,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,mr(t,e,i)}return Kf(t,e,n,r,i)}function _T(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Us,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Us,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Us,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(Us,$t),$t|=r;return It(t,e,i,n),e.child}function ET(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kf(t,e,n,r,i){var s=Dt(n)?Qi:Et.current;return s=to(e,s),Gs(e,i),n=Sm(t,e,n,r,s,i),r=Cm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(Pe&&r&&hm(e),e.flags|=1,It(t,e,n,i),e.child)}function o_(t,e,n,r,i){if(Dt(n)){var s=!0;gc(e)}else s=!1;if(Gs(e,i),e.stateNode===null)Bu(t,e),mT(e,n,r),Hf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=Dt(n)?Qi:Et.current,c=to(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&e_(e,o,r,c),jr=!1;var p=e.memoizedState;o.state=p,wc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ot.current||jr?(typeof d=="function"&&(Wf(e,n,d,r),l=e.memoizedState),(a=jr||Zy(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=Dt(n)?Qi:Et.current,l=to(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&e_(e,o,r,l),jr=!1,p=e.memoizedState,o.state=p,wc(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||Ot.current||jr?(typeof g=="function"&&(Wf(e,n,g,r),w=e.memoizedState),(c=jr||Zy(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Gf(t,e,n,r,s,i)}function Gf(t,e,n,r,i,s){ET(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Hy(e,n,!1),mr(t,e,s);r=e.stateNode,_k.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,s),e.child=ro(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&Hy(e,n,!0),e.child}function wT(t){var e=t.stateNode;e.pendingContext?Wy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wy(t,e.context,!1),Em(t,e.containerInfo)}function a_(t,e,n,r,i){return no(),pm(i),e.flags|=256,It(t,e,n,r),e.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function TT(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(be,i&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=md(o,r,0,null),t=qi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xf(n),e.memoizedState=Qf,t):Am(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ek(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=qi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qf,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Am(t,e){return e=md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vu(t,e,n,r){return r!==null&&pm(r),ro(e,t.child,null,n),t=Am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ek(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mh(Error(U(422))),vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=md({mode:"visible",children:r.children},i,0,null),s=qi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=Xf(o),e.memoizedState=Qf,s);if(!(e.mode&1))return vu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Mh(s,r,void 0),vu(t,e,o,r)}if(a=(o&t.childLanes)!==0,bt||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pr(t,i),En(r,t,i,-1))}return Dm(),r=Mh(Error(U(421))),vu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ok.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ut=ti(i.nextSibling),Bt=e,Pe=!0,pn=null,t!==null&&(Xt[Yt++]=nr,Xt[Yt++]=rr,Xt[Yt++]=Xi,nr=t.id,rr=t.overflow,Xi=e),e=Am(e,r.children),e.flags|=4096,e)}function l_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zf(t.return,e,n)}function Fh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l_(t,n,e);else if(t.tag===19)l_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fh(e,!0,n,null,s);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wk(t,e,n){switch(e.tag){case 3:wT(e),no();break;case 5:Qw(e);break;case 1:Dt(e.type)&&gc(e);break;case 4:Em(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(_c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?TT(t,e,n):(Ce(be,be.current&1),t=mr(t,e,n),t!==null?t.sibling:null);Ce(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,_T(t,e,n)}return mr(t,e,n)}var ST,Yf,CT,xT;ST=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yf=function(){};CT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$i(Ln.current);var s=null;switch(n){case"input":i=_f(t,i),r=_f(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=Tf(t,i),r=Tf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pc)}Sf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ra(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tk(t,e,n){var r=e.pendingProps;switch(fm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Dt(e.type)&&mc(),ft(e),null;case 3:return r=e.stateNode,io(),Ae(Ot),Ae(Et),Tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(sp(pn),pn=null))),Yf(t,e),ft(e),null;case 5:wm(e);var i=$i(Xa.current);if(n=e.type,t!==null&&e.stateNode!=null)CT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ft(e),null}if(t=$i(Ln.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[On]=e,r[Ga]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<da.length;i++)Re(da[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":vy(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":_y(r,s),Re("invalid",r)}Sf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):Fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":ou(r),yy(r,s,!0);break;case"textarea":ou(r),Ey(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ew(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[On]=e,t[Ga]=r,ST(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<da.length;i++)Re(da[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":vy(t,r),i=_f(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":_y(t,r),i=Tf(t,r),Re("invalid",t);break;default:i=r}Sf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ja(t,l):typeof l=="number"&&ja(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Jp(t,s,l,o))}switch(n){case"input":ou(t),yy(t,r,!1);break;case"textarea":ou(t),Ey(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=$i(Xa.current),$i(Ln.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(s=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return ft(e),null;case 13:if(Ae(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Ut!==null&&e.mode&1&&!(e.flags&128))Ww(),no(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[On]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else pn!==null&&(sp(pn),pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Ke===0&&(Ke=3):Dm())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return io(),Yf(t,e),t===null&&qa(e.stateNode.containerInfo),ft(e),null;case 10:return vm(e.type._context),ft(e),null;case 17:return Dt(e.type)&&mc(),ft(e),null;case 19:if(Ae(be),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ra(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tc(t),o!==null){for(e.flags|=128,ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>oo&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return ft(e),null}else 2*$e()-s.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=be.current,Ce(be,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Om(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Ik(t,e){switch(fm(e),e.tag){case 1:return Dt(e.type)&&mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return io(),Ae(Ot),Ae(Et),Tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wm(e),null;case 13:if(Ae(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(be),null;case 4:return io(),null;case 10:return vm(e.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var yu=!1,vt=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,H=null;function $s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Jf(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var u_=!1;function Ck(t,e){if(Lf=dc,t=bw(),dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vf={focusedElem:t,selectionRange:n},dc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var R=w.memoizedProps,x=w.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:dn(e.type,R),x);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return w=u_,u_=!1,w}function Ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jf(e,n,s)}i=i.next}while(i!==r)}}function fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RT(t){var e=t.alternate;e!==null&&(t.alternate=null,RT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Ga],delete e[jf],delete e[ak],delete e[lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AT(t){return t.tag===5||t.tag===3||t.tag===4}function c_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pc));else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tp(t,e,n),t=t.sibling;t!==null;)tp(t,e,n),t=t.sibling}var it=null,fn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)kT(t,e,n),n=n.sibling}function kT(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(sd,n)}catch{}switch(n.tag){case 5:vt||$s(n,e);case 6:var r=it,i=fn;it=null,Dr(t,e,n),it=r,fn=i,it!==null&&(fn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(fn?(t=it,n=n.stateNode,t.nodeType===8?bh(t.parentNode,n):t.nodeType===1&&bh(t,n),za(t)):bh(it,n.stateNode));break;case 4:r=it,i=fn,it=n.stateNode.containerInfo,fn=!0,Dr(t,e,n),it=r,fn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jf(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!vt&&($s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Dr(t,e,n),vt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function d_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sk),e.forEach(function(r){var i=Dk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,fn=!1;break e;case 3:it=a.stateNode.containerInfo,fn=!0;break e;case 4:it=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(it===null)throw Error(U(160));kT(s,o,i),it=null,fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}function PT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),An(t),r&4){try{Ca(3,t,t.return),fd(3,t)}catch(R){Ve(t,t.return,R)}try{Ca(5,t,t.return)}catch(R){Ve(t,t.return,R)}}break;case 1:cn(e,t),An(t),r&512&&n!==null&&$s(n,n.return);break;case 5:if(cn(e,t),An(t),r&512&&n!==null&&$s(n,n.return),t.flags&32){var i=t.stateNode;try{ja(i,"")}catch(R){Ve(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JE(i,s),Cf(a,o);var c=Cf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?rw(i,f):d==="dangerouslySetInnerHTML"?tw(i,f):d==="children"?ja(i,f):Jp(i,d,f,c)}switch(a){case"input":Ef(i,s);break;case"textarea":ZE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ws(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ws(i,!!s.multiple,s.defaultValue,!0):Ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ga]=s}catch(R){Ve(t,t.return,R)}}break;case 6:if(cn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){Ve(t,t.return,R)}}break;case 3:if(cn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{za(e.containerInfo)}catch(R){Ve(t,t.return,R)}break;case 4:cn(e,t),An(t);break;case 13:cn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bm=$e())),r&4&&d_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||d,cn(e,t),vt=c):cn(e,t),An(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(f=H=d;H!==null;){switch(p=H,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ca(4,p,p.return);break;case 1:$s(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(R){Ve(r,n,R)}}break;case 5:$s(p,p.return);break;case 22:if(p.memoizedState!==null){f_(f);continue}}g!==null?(g.return=p,H=g):f_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nw("display",o))}catch(R){Ve(t,t.return,R)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){Ve(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cn(e,t),An(t),r&4&&d_(t);break;case 21:break;default:cn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ja(i,""),r.flags&=-33);var s=c_(t);tp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=c_(t);ep(t,a,o);break;default:throw Error(U(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xk(t,e,n){H=t,bT(t)}function bT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=yu;var c=vt;if(yu=o,(vt=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?p_(i):l!==null?(l.return=o,H=l):p_(i);for(;s!==null;)H=s,bT(s),s=s.sibling;H=i,yu=a,vt=c}h_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):h_(t)}}function h_(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&za(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}vt||e.flags&512&&Zf(e)}catch(p){Ve(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function f_(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function p_(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fd(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Zf(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Zf(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var Rk=Math.ceil,Cc=Tr.ReactCurrentDispatcher,km=Tr.ReactCurrentOwner,en=Tr.ReactCurrentBatchConfig,me=0,et=null,ze=null,at=0,$t=0,Us=Ii(0),Ke=0,el=null,Ji=0,pd=0,Pm=0,xa=null,kt=null,bm=0,oo=1/0,Yn=null,xc=!1,np=null,ri=null,_u=!1,Kr=null,Rc=0,Ra=0,rp=null,zu=-1,Wu=0;function St(){return me&6?$e():zu!==-1?zu:zu=$e()}function ii(t){return t.mode&1?me&2&&at!==0?at&-at:ck.transition!==null?(Wu===0&&(Wu=mw()),Wu):(t=_e,t!==0||(t=window.event,t=t===void 0?16:Tw(t.type)),t):1}function En(t,e,n,r){if(50<Ra)throw Ra=0,rp=null,Error(U(185));yl(t,n,r),(!(me&2)||t!==et)&&(t===et&&(!(me&2)&&(pd|=n),Ke===4&&Br(t,at)),Lt(t,r),n===1&&me===0&&!(e.mode&1)&&(oo=$e()+500,cd&&Si()))}function Lt(t,e){var n=t.callbackNode;cA(t,e);var r=cc(t,t===et?at:0);if(r===0)n!==null&&Iy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iy(n),e===1)t.tag===0?uk(m_.bind(null,t)):Uw(m_.bind(null,t)),sk(function(){!(me&6)&&Si()}),n=null;else{switch(gw(r)){case 1:n=rm;break;case 4:n=fw;break;case 16:n=uc;break;case 536870912:n=pw;break;default:n=uc}n=jT(n,NT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NT(t,e){if(zu=-1,Wu=0,me&6)throw Error(U(327));var n=t.callbackNode;if(Qs()&&t.callbackNode!==n)return null;var r=cc(t,t===et?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ac(t,r);else{e=r;var i=me;me|=2;var s=DT();(et!==t||at!==e)&&(Yn=null,oo=$e()+500,Hi(t,e));do try{Pk();break}catch(a){OT(t,a)}while(1);gm(),Cc.current=s,me=i,ze!==null?e=0:(et=null,at=0,e=Ke)}if(e!==0){if(e===2&&(i=Pf(t),i!==0&&(r=i,e=ip(t,i))),e===1)throw n=el,Hi(t,0),Br(t,r),Lt(t,$e()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ak(i)&&(e=Ac(t,r),e===2&&(s=Pf(t),s!==0&&(r=s,e=ip(t,s))),e===1))throw n=el,Hi(t,0),Br(t,r),Lt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Li(t,kt,Yn);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=bm+500-$e(),10<e)){if(cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ff(Li.bind(null,t,kt,Yn),e);break}Li(t,kt,Yn);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rk(r/1960))-r,10<r){t.timeoutHandle=Ff(Li.bind(null,t,kt,Yn),r);break}Li(t,kt,Yn);break;case 5:Li(t,kt,Yn);break;default:throw Error(U(329))}}}return Lt(t,$e()),t.callbackNode===n?NT.bind(null,t):null}function ip(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(Hi(t,e).flags|=256),t=Ac(t,e),t!==2&&(e=kt,kt=n,e!==null&&sp(e)),t}function sp(t){kt===null?kt=t:kt.push.apply(kt,t)}function Ak(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Pm,e&=~pd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function m_(t){if(me&6)throw Error(U(327));Qs();var e=cc(t,0);if(!(e&1))return Lt(t,$e()),null;var n=Ac(t,e);if(t.tag!==0&&n===2){var r=Pf(t);r!==0&&(e=r,n=ip(t,r))}if(n===1)throw n=el,Hi(t,0),Br(t,e),Lt(t,$e()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,kt,Yn),Lt(t,$e()),null}function Nm(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(oo=$e()+500,cd&&Si())}}function Zi(t){Kr!==null&&Kr.tag===0&&!(me&6)&&Qs();var e=me;me|=1;var n=en.transition,r=_e;try{if(en.transition=null,_e=1,t)return t()}finally{_e=r,en.transition=n,me=e,!(me&6)&&Si()}}function Om(){$t=Us.current,Ae(Us)}function Hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ik(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mc();break;case 3:io(),Ae(Ot),Ae(Et),Tm();break;case 5:wm(r);break;case 4:io();break;case 13:Ae(be);break;case 19:Ae(be);break;case 10:vm(r.type._context);break;case 22:case 23:Om()}n=n.return}if(et=t,ze=t=si(t.current,null),at=$t=e,Ke=0,el=null,Pm=pd=Ji=0,kt=xa=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ji=null}return t}function OT(t,e){do{var n=ze;try{if(gm(),$u.current=Sc,Ic){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ic=!1}if(Yi=0,Ze=He=Ne=null,Sa=!1,Ya=0,km.current=null,n===null||n.return===null){Ke=1,el=e,ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=n_(o);if(g!==null){g.flags&=-257,r_(g,o,a,s,e),g.mode&1&&t_(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var R=new Set;R.add(l),e.updateQueue=R}else w.add(l);break e}else{if(!(e&1)){t_(s,c,e),Dm();break e}l=Error(U(426))}}else if(Pe&&a.mode&1){var x=n_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),r_(x,o,a,s,e),pm(so(l,a));break e}}s=l=so(l,a),Ke!==4&&(Ke=2),xa===null?xa=[s]:xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=gT(s,l,e);Qy(s,T);break e;case 1:a=l;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ri===null||!ri.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=vT(s,a,e);Qy(s,N);break e}}s=s.return}while(s!==null)}VT(n)}catch(D){e=D,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function DT(){var t=Cc.current;return Cc.current=Sc,t===null?Sc:t}function Dm(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),et===null||!(Ji&268435455)&&!(pd&268435455)||Br(et,at)}function Ac(t,e){var n=me;me|=2;var r=DT();(et!==t||at!==e)&&(Yn=null,Hi(t,e));do try{kk();break}catch(i){OT(t,i)}while(1);if(gm(),me=n,Cc.current=r,ze!==null)throw Error(U(261));return et=null,at=0,Ke}function kk(){for(;ze!==null;)LT(ze)}function Pk(){for(;ze!==null&&!tA();)LT(ze)}function LT(t){var e=FT(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?VT(t):ze=e,km.current=null}function VT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ik(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,ze=null;return}}else if(n=Tk(n,e,$t),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Ke===0&&(Ke=5)}function Li(t,e,n){var r=_e,i=en.transition;try{en.transition=null,_e=1,bk(t,e,n,r)}finally{en.transition=i,_e=r}return null}function bk(t,e,n,r){do Qs();while(Kr!==null);if(me&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dA(t,s),t===et&&(ze=et=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,jT(uc,function(){return Qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=_e;_e=1;var a=me;me|=4,km.current=null,Ck(t,n),PT(n,t),YA(Vf),dc=!!Lf,Vf=Lf=null,t.current=n,xk(n),nA(),me=a,_e=o,en.transition=s}else t.current=n;if(_u&&(_u=!1,Kr=t,Rc=i),s=t.pendingLanes,s===0&&(ri=null),sA(n.stateNode),Lt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xc)throw xc=!1,t=np,np=null,t;return Rc&1&&t.tag!==0&&Qs(),s=t.pendingLanes,s&1?t===rp?Ra++:(Ra=0,rp=t):Ra=0,Si(),null}function Qs(){if(Kr!==null){var t=gw(Rc),e=en.transition,n=_e;try{if(en.transition=null,_e=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Rc=0,me&6)throw Error(U(331));var i=me;for(me|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Ca(8,d,s)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var p=d.sibling,g=d.return;if(RT(d),d===c){H=null;break}if(p!==null){p.return=g,H=p;break}H=g}}}var w=s.alternate;if(w!==null){var R=w.child;if(R!==null){w.child=null;do{var x=R.sibling;R.sibling=null,R=x}while(R!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ca(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,H=T;break e}H=s.return}}var E=t.current;for(H=E;H!==null;){o=H;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,H=S;else e:for(o=E;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fd(9,a)}}catch(D){Ve(a,a.return,D)}if(a===o){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(me=i,Si(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(sd,t)}catch{}r=!0}return r}finally{_e=n,en.transition=e}}return!1}function g_(t,e,n){e=so(n,e),e=gT(t,e,1),t=ni(t,e,1),e=St(),t!==null&&(yl(t,1,e),Lt(t,e))}function Ve(t,e,n){if(t.tag===3)g_(t,t,n);else for(;e!==null;){if(e.tag===3){g_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=so(n,t),t=vT(e,t,1),e=ni(e,t,1),t=St(),e!==null&&(yl(e,1,t),Lt(e,t));break}}e=e.return}}function Nk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(at&n)===n&&(Ke===4||Ke===3&&(at&130023424)===at&&500>$e()-bm?Hi(t,0):Pm|=n),Lt(t,e)}function MT(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=St();t=pr(t,e),t!==null&&(yl(t,e,n),Lt(t,n))}function Ok(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MT(t,n)}function Dk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),MT(t,n)}var FT;FT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,wk(t,e,n);bt=!!(t.flags&131072)}else bt=!1,Pe&&e.flags&1048576&&Bw(e,yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bu(t,e),t=e.pendingProps;var i=to(e,Et.current);Gs(e,n),i=Sm(null,e,r,t,i,n);var s=Cm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(s=!0,gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_m(e),i.updater=hd,e.stateNode=i,i._reactInternals=e,Hf(e,r,t,n),e=Gf(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&hm(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Vk(r),t=dn(r,t),i){case 0:e=Kf(null,e,r,t,n);break e;case 1:e=o_(null,e,r,t,n);break e;case 11:e=i_(null,e,r,t,n);break e;case 14:e=s_(null,e,r,dn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Kf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),o_(t,e,r,i,n);case 3:e:{if(wT(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Gw(t,e),wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=so(Error(U(423)),e),e=a_(t,e,r,n,i);break e}else if(r!==i){i=so(Error(U(424)),e),e=a_(t,e,r,n,i);break e}else for(Ut=ti(e.stateNode.containerInfo.firstChild),Bt=e,Pe=!0,pn=null,n=qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===i){e=mr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return Qw(e),t===null&&Bf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mf(r,i)?o=null:s!==null&&Mf(r,s)&&(e.flags|=32),ET(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Bf(e),null;case 13:return TT(t,e,n);case 4:return Em(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),i_(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(_c,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Ot.current){e=mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ar(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gs(e,n),i=nn(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=dn(r,e.pendingProps),i=dn(r.type,i),s_(t,e,r,i,n);case 15:return yT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Bu(t,e),e.tag=1,Dt(r)?(t=!0,gc(e)):t=!1,Gs(e,n),mT(e,r,i),Hf(e,r,i,n),Gf(null,e,r,!0,t,n);case 19:return IT(t,e,n);case 22:return _T(t,e,n)}throw Error(U(156,e.tag))};function jT(t,e){return hw(t,e)}function Lk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new Lk(t,e,n,r)}function Lm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vk(t){if(typeof t=="function")return Lm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===em)return 11;if(t===tm)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bs:return qi(n.children,i,s,e);case Zp:o=8,i|=8;break;case mf:return t=Zt(12,n,e,i|2),t.elementType=mf,t.lanes=s,t;case gf:return t=Zt(13,n,e,i),t.elementType=gf,t.lanes=s,t;case vf:return t=Zt(19,n,e,i),t.elementType=vf,t.lanes=s,t;case QE:return md(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KE:o=10;break e;case GE:o=9;break e;case em:o=11;break e;case tm:o=14;break e;case Fr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qi(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function md(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=QE,t.lanes=n,t.stateNode={isHidden:!1},t}function jh(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function $h(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vm(t,e,n,r,i,s,o,a,l){return t=new Mk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(s),t}function Fk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $T(t){if(!t)return pi;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Dt(n))return $w(t,n,e)}return e}function UT(t,e,n,r,i,s,o,a,l){return t=Vm(n,r,!0,t,i,s,o,a,l),t.context=$T(null),n=t.current,r=St(),i=ii(n),s=ar(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,yl(t,i,r),Lt(t,r),t}function gd(t,e,n,r){var i=e.current,s=St(),o=ii(i);return n=$T(n),e.context===null?e.context=n:e.pendingContext=n,e=ar(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(En(t,i,o,s),ju(t,i,o)),o}function kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mm(t,e){v_(t,e),(t=t.alternate)&&v_(t,e)}function jk(){return null}var BT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fm(t){this._internalRoot=t}vd.prototype.render=Fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));gd(t,e,null,null)};vd.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){gd(null,t,null,null)}),e[fr]=null}};function vd(t){this._internalRoot=t}vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&ww(t)}};function jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y_(){}function $k(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=kc(o);s.call(c)}}var o=UT(e,r,t,0,null,!1,!1,"",y_);return t._reactRootContainer=o,t[fr]=o.current,qa(t.nodeType===8?t.parentNode:t),Zi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=kc(l);a.call(c)}}var l=Vm(t,0,!1,null,null,!1,!1,"",y_);return t._reactRootContainer=l,t[fr]=l.current,qa(t.nodeType===8?t.parentNode:t),Zi(function(){gd(e,l,n,r)}),l}function _d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=kc(o);a.call(l)}}gd(e,o,t,i)}else o=$k(n,e,t,i,r);return kc(o)}vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ca(e.pendingLanes);n!==0&&(im(e,n|1),Lt(e,$e()),!(me&6)&&(oo=$e()+500,Si()))}break;case 13:Zi(function(){var r=pr(t,1);if(r!==null){var i=St();En(r,t,1,i)}}),Mm(t,1)}};sm=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=St();En(e,t,134217728,n)}Mm(t,134217728)}};yw=function(t){if(t.tag===13){var e=ii(t),n=pr(t,e);if(n!==null){var r=St();En(n,t,e,r)}Mm(t,e)}};_w=function(){return _e};Ew=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Rf=function(t,e,n){switch(e){case"input":if(Ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ud(r);if(!i)throw Error(U(90));YE(r),Ef(r,i)}}}break;case"textarea":ZE(t,n);break;case"select":e=n.value,e!=null&&Ws(t,!!n.multiple,e,!1)}};ow=Nm;aw=Zi;var Uk={usingClientEntryPoint:!1,Events:[El,Ls,ud,iw,sw,Nm]},ia={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cw(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{sd=Eu.inject(Bk),Dn=Eu}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(e))throw Error(U(200));return Fk(t,e,null,n)};Kt.createRoot=function(t,e){if(!jm(t))throw Error(U(299));var n=!1,r="",i=BT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vm(t,1,!1,null,null,n,!1,r,i),t[fr]=e.current,qa(t.nodeType===8?t.parentNode:t),new Fm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=cw(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Zi(t)};Kt.hydrate=function(t,e,n){if(!yd(e))throw Error(U(200));return _d(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!jm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UT(e,null,t,1,n??null,i,!1,s,o),t[fr]=e.current,qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vd(e)};Kt.render=function(t,e,n){if(!yd(e))throw Error(U(200));return _d(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!yd(t))throw Error(U(40));return t._reactRootContainer?(Zi(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};Kt.unstable_batchedUpdates=Nm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return _d(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function zT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zT)}catch(t){console.error(t)}}zT(),zE.exports=Kt;var WT=zE.exports;const Bs=To(WT);var __=WT;ff.createRoot=__.createRoot,ff.hydrateRoot=__.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const E_="popstate";function zk(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ls(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),op("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Pc(s))}function r(i,s){$m(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Hk(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $m(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substr(2,8)}function w_(t,e){return{usr:t.state,key:t.key,idx:e}}function op(t,e,n,r){return n===void 0&&(n=null),tl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:n,key:e&&e.key||r||Wk()})}function Pc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(tl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Gr.Pop;let x=d(),T=x==null?null:x-c;c=x,l&&l({action:a,location:R.location,delta:T})}function p(x,T){a=Gr.Push;let E=op(R.location,x,T);n&&n(E,x),c=d()+1;let S=w_(E,c),N=R.createHref(E);try{o.pushState(S,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}s&&l&&l({action:a,location:R.location,delta:1})}function g(x,T){a=Gr.Replace;let E=op(R.location,x,T);n&&n(E,x),c=d();let S=w_(E,c),N=R.createHref(E);o.replaceState(S,"",N),s&&l&&l({action:a,location:R.location,delta:0})}function w(x){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:Pc(x);return E=E.replace(/ $/,"%20"),Ue(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let R={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E_,f),l=x,()=>{i.removeEventListener(E_,f),l=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let T=w(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:g,go(x){return o.go(x)}};return R}var T_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T_||(T_={}));function qk(t,e,n){return n===void 0&&(n="/"),Kk(t,e,n,!1)}function Kk(t,e,n,r){let i=typeof e=="string"?ls(e):e,s=Um(i.pathname||"/",n);if(s==null)return null;let o=HT(t);Gk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=sP(s);a=rP(o[l],c,r)}return a}function HT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),HT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of qT(s.path))i(s,o,l)}),e}function qT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=qT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qk=/^:[\w-]+$/,Xk=3,Yk=2,Jk=1,Zk=10,eP=-2,I_=t=>t==="*";function tP(t,e){let n=t.split("/"),r=n.length;return n.some(I_)&&(r+=eP),e&&(r+=Yk),n.filter(i=>!I_(i)).reduce((i,s)=>i+(Qk.test(s)?Xk:s===""?Jk:Zk),r)}function nP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=S_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=S_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:oi([s,f.pathname]),pathnameBase:uP(oi([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=oi([s,f.pathnameBase]))}return o}function S_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let R=a[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function iP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$m(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $m(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Um(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:aP(n,e):e,search:cP(r),hash:dP(i)}}function aP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(t,e){let n=lP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ls(t):(i=tl({},t),Ue(!i.pathname||!i.pathname.includes("?"),Uh("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Uh("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Uh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=oP(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),uP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KT=["post","put","patch","delete"];new Set(KT);const fP=["get",...KT];new Set(fP);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}const Wm=v.createContext(null),pP=v.createContext(null),Ci=v.createContext(null),Ed=v.createContext(null),Ir=v.createContext({outlet:null,matches:[],isDataRoute:!1}),GT=v.createContext(null);function mP(t,e){let{relative:n}=e===void 0?{}:e;xo()||Ue(!1);let{basename:r,navigator:i}=v.useContext(Ci),{hash:s,pathname:o,search:a}=XT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function xo(){return v.useContext(Ed)!=null}function Tl(){return xo()||Ue(!1),v.useContext(Ed).location}function QT(t){v.useContext(Ci).static||v.useLayoutEffect(t)}function xi(){let{isDataRoute:t}=v.useContext(Ir);return t?kP():gP()}function gP(){xo()||Ue(!1);let t=v.useContext(Wm),{basename:e,future:n,navigator:r}=v.useContext(Ci),{matches:i}=v.useContext(Ir),{pathname:s}=Tl(),o=JSON.stringify(Bm(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return QT(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=zm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function vP(){let{matches:t}=v.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function XT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ci),{matches:i}=v.useContext(Ir),{pathname:s}=Tl(),o=JSON.stringify(Bm(i,r.v7_relativeSplatPath));return v.useMemo(()=>zm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function yP(t,e){return _P(t,e)}function _P(t,e,n,r){xo()||Ue(!1);let{navigator:i}=v.useContext(Ci),{matches:s}=v.useContext(Ir),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Tl(),d;if(e){var f;let x=typeof e=="string"?ls(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Ue(!1),d=x}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=qk(t,{pathname:g}),R=SP(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:oi([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:oi([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&R?v.createElement(Ed.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gr.Pop}},R):R}function EP(){let t=AP(),e=hP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const wP=v.createElement(EP,null);class TP extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ir.Provider,{value:this.props.routeContext},v.createElement(GT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IP(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Wm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ir.Provider,{value:e},r)}function SP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ue(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,w=!1,R=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,R=f.route.errorElement||wP,l&&(c<0&&p===0?(PP("route-fallback",!1),w=!0,x=null):c===p&&(w=!0,x=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),E=()=>{let S;return g?S=R:w?S=x:f.route.Component?S=v.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,v.createElement(IP,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(TP,{location:n.location,revalidation:n.revalidation,component:R,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var YT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YT||{}),bc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bc||{});function CP(t){let e=v.useContext(Wm);return e||Ue(!1),e}function xP(t){let e=v.useContext(pP);return e||Ue(!1),e}function RP(t){let e=v.useContext(Ir);return e||Ue(!1),e}function JT(t){let e=RP(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function AP(){var t;let e=v.useContext(GT),n=xP(bc.UseRouteError),r=JT(bc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kP(){let{router:t}=CP(YT.UseNavigateStable),e=JT(bc.UseNavigateStable),n=v.useRef(!1);return QT(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nl({fromRouteId:e},s)))},[t,e])}const C_={};function PP(t,e,n){!e&&!C_[t]&&(C_[t]=!0)}const x_={};function bP(t,e){x_[e]||(x_[e]=!0,console.warn(e))}const Ts=(t,e,n)=>bP(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function NP(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&Ts("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&Ts("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&Ts("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&Ts("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&Ts("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&Ts("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function OP(t){let{to:e,replace:n,state:r,relative:i}=t;xo()||Ue(!1);let{future:s,static:o}=v.useContext(Ci),{matches:a}=v.useContext(Ir),{pathname:l}=Tl(),c=xi(),d=zm(e,Bm(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Pn(t){Ue(!1)}function DP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1,future:a}=t;xo()&&Ue(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:nl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ls(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,R=v.useMemo(()=>{let x=Um(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:w},navigationType:i}},[l,d,f,p,g,w,i]);return R==null?null:v.createElement(Ci.Provider,{value:c},v.createElement(Ed.Provider,{children:n,value:R}))}function ZT(t){let{children:e,location:n}=t;return yP(ap(e),n)}new Promise(()=>{});function ap(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,ap(r.props.children,s));return}r.type!==Pn&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ap(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function LP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MP(t,e){return t.button===0&&(!e||e==="_self")&&!VP(t)}const FP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jP="6";try{window.__reactRouterVersion=jP}catch{}const $P="startTransition",R_=NR[$P];function UP(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=zk({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(f=>{c&&R_?R_(()=>l(f)):l(f)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>NP(r),[r]),v.createElement(DP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const BP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=LP(e,FP),{basename:g}=v.useContext(Ci),w,R=!1;if(typeof c=="string"&&zP.test(c)&&(w=c,BP))try{let S=new URL(window.location.href),N=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=Um(N.pathname,g);N.origin===S.origin&&D!=null?c=D+N.search+N.hash:R=!0}catch{}let x=mP(c,{relative:i}),T=WP(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function E(S){r&&r(S),S.defaultPrevented||T(S)}return v.createElement("a",lp({},p,{href:w||x,onClick:R||s?r:E,ref:n,target:l}))});var A_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A_||(A_={}));var k_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k_||(k_={}));function WP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=xi(),c=Tl(),d=XT(t,{relative:o});return v.useCallback(f=>{if(MP(f,n)){f.preventDefault();let p=r!==void 0?r:Pc(c)===Pc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var e1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(e1);var HP=e1.exports;const K=To(HP);function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(null,arguments)}function t1(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P_(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function qP(t){var e=KP(t,"string");return typeof e=="symbol"?e:String(e)}function KP(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GP(t,e,n){var r=v.useRef(t!==void 0),i=v.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,v.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(f)),o(c)},[n])]}function Il(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[P_(r)],a=s[r],l=t1(s,[P_(r),r].map(qP)),c=e[r],d=GP(a,o,t[c]),f=d[0],p=d[1];return up({},l,(i={},i[r]=f,i[c]=p,i))},t)}function cp(t,e){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cp(t,e)}function QP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cp(t,e)}const XP=["xxl","xl","lg","md","sm","xs"],YP="xs",wd=v.createContext({prefixes:{},breakpoints:XP,minBreakpoint:YP});function Q(t,e){const{prefixes:n}=v.useContext(wd);return t||n[e]||e}function n1(){const{breakpoints:t}=v.useContext(wd);return t}function r1(){const{minBreakpoint:t}=v.useContext(wd);return t}function JP(){const{dir:t}=v.useContext(wd);return t==="rtl"}function Td(t){return t&&t.ownerDocument||document}function ZP(t){var e=Td(t);return e&&e.defaultView||window}function eb(t,e){return ZP(t).getComputedStyle(t,e)}var tb=/([A-Z])/g;function nb(t){return t.replace(tb,"-$1").toLowerCase()}var rb=/^ms-/;function wu(t){return nb(t).replace(rb,"-ms-")}var ib=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sb(t){return!!(t&&ib.test(t))}function lr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(wu(e))||eb(t).getPropertyValue(wu(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(wu(i)):sb(i)?r+=i+"("+s+") ":n+=wu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var i1={exports:{}},ob="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ab=ob,lb=ab;function s1(){}function o1(){}o1.resetWarningCache=s1;var ub=function(){function t(r,i,s,o,a,l){if(l!==lb){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o1,resetWarningCache:s1};return n.PropTypes=n,n};i1.exports=ub();var cb=i1.exports;const gt=To(cb),b_={disabled:!1},a1=ne.createContext(null);var db=function(e){return e.scrollTop},ha="unmounted",$r="exited",mn="entering",er="entered",rl="exiting",Sr=function(t){QP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=$r,s.appearStatus=mn):l=er:r.unmountOnExit||r.mountOnEnter?l=ha:l=$r,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ha?{status:$r}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==mn&&o!==er&&(s=mn):(o===mn||o===er)&&(s=rl)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===mn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Bs.findDOMNode(this);o&&db(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$r&&this.setState({status:ha})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Bs.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||b_.disabled){this.safeSetState({status:er},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:mn},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:er},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Bs.findDOMNode(this);if(!s||b_.disabled){this.safeSetState({status:$r},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:rl},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:$r},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Bs.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ha)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=t1(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ne.createElement(a1.Provider,{value:null},typeof o=="function"?o(i,a):ne.cloneElement(ne.Children.only(o),a))},e}(ne.Component);Sr.contextType=a1;Sr.propTypes={};function Is(){}Sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Is,onEntering:Is,onEntered:Is,onExit:Is,onExiting:Is,onExited:Is};Sr.UNMOUNTED=ha;Sr.EXITED=$r;Sr.ENTERING=mn;Sr.ENTERED=er;Sr.EXITING=rl;const hb=Sr;function fb(t){return t.code==="Escape"||t.keyCode===27}function pb(){const t=v.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Id(t){if(!t||typeof t=="function")return null;const{major:e}=pb();return e>=19?t.props.ref:t.ref}const Sd=!!(typeof window<"u"&&window.document&&window.document.createElement);var dp=!1,hp=!1;try{var Bh={get passive(){return dp=!0},get once(){return hp=dp=!0}};Sd&&(window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,!0))}catch{}function l1(t,e,n,r){if(r&&typeof r!="boolean"&&!hp){var i=r.once,s=r.capture,o=n;!hp&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,dp?r:s)}t.addEventListener(e,n,r)}function mb(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Qr(t,e,n,r){return l1(t,e,n,r),function(){mb(t,e,n,r)}}function gb(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function vb(t){var e=lr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function yb(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||gb(t,"transitionend",!0)},e+n),s=Qr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function _b(t,e,n,r){n==null&&(n=vb(t)||0);var i=yb(t,n,r),s=Qr(t,"transitionend",e);return function(){i(),s()}}function N_(t,e){const n=lr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Hm(t,e){const n=N_(t,"transitionDuration"),r=N_(t,"transitionDelay"),i=_b(t,s=>{s.target===t&&(i(),e(s))},n+r)}function sa(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function u1(t){t.offsetHeight}const O_=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Eb(t,e){const n=O_(t),r=O_(e);return i=>{n&&n(i),r&&r(i)}}function qm(t,e){return v.useMemo(()=>Eb(t,e),[t,e])}function wb(t){return t&&"setState"in t?Bs.findDOMNode(t):t??null}const Tb=ne.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},d)=>{const f=v.useRef(null),p=qm(f,l),g=V=>{p(wb(V))},w=V=>C=>{V&&f.current&&V(f.current,C)},R=v.useCallback(w(t),[t]),x=v.useCallback(w(e),[e]),T=v.useCallback(w(n),[n]),E=v.useCallback(w(r),[r]),S=v.useCallback(w(i),[i]),N=v.useCallback(w(s),[s]),D=v.useCallback(w(o),[o]);return _.jsx(hb,{ref:d,...c,onEnter:R,onEntered:T,onEntering:x,onExit:E,onExited:N,onExiting:S,addEndListener:D,nodeRef:f,children:typeof a=="function"?(V,C)=>a(V,{...C,ref:g}):ne.cloneElement(a,{ref:g})})}),Km=Tb,Ib={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Sb(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=Ib[t];return r+parseInt(lr(e,i[0]),10)+parseInt(lr(e,i[1]),10)}const Cb={[$r]:"collapse",[rl]:"collapsing",[mn]:"collapsing",[er]:"collapse show"},xb=ne.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:g=Sb,...w},R)=>{const x=typeof a=="function"?a():a,T=v.useMemo(()=>sa(V=>{V.style[x]="0"},t),[x,t]),E=v.useMemo(()=>sa(V=>{const C=`scroll${x[0].toUpperCase()}${x.slice(1)}`;V.style[x]=`${V[C]}px`},e),[x,e]),S=v.useMemo(()=>sa(V=>{V.style[x]=null},n),[x,n]),N=v.useMemo(()=>sa(V=>{V.style[x]=`${g(x,V)}px`,u1(V)},r),[r,g,x]),D=v.useMemo(()=>sa(V=>{V.style[x]=null},i),[x,i]);return _.jsx(Km,{ref:R,addEndListener:Hm,...w,"aria-expanded":w.role?l:null,onEnter:T,onEntering:E,onEntered:S,onExit:N,onExiting:D,childRef:Id(o),in:l,timeout:c,mountOnEnter:d,unmountOnExit:f,appear:p,children:(V,C)=>ne.cloneElement(o,{...C,className:K(s,o.props.className,Cb[V],x==="width"&&"collapse-horizontal")})})}),Rb=xb;function Ab(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t},[t]),e}function Ro(t){const e=Ab(t);return v.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Gm=t=>v.forwardRef((e,n)=>_.jsx("div",{...e,ref:n,className:K(e.className,t)}));function kb(){return v.useState(null)}function Pb(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t},[t]),e}function _t(t){const e=Pb(t);return v.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function bb(t,e,n,r=!1){const i=_t(n);v.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function c1(){const t=v.useRef(!0),e=v.useRef(()=>t.current);return v.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function d1(t){const e=v.useRef(null);return v.useEffect(()=>{e.current=t}),e.current}const Nb=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ob=typeof document<"u",D_=Ob||Nb?v.useLayoutEffect:v.useEffect,Db=["as","disabled"];function Lb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vb(t){return!t||t.trim()==="#"}function Qm({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const d=p=>{if((e||t==="a"&&Vb(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:f},c]}const Xm=v.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Lb(t,Db);const[s,{tagName:o}]=Qm(Object.assign({tagName:n,disabled:r},i));return _.jsx(o,Object.assign({},i,s,{ref:e}))});Xm.displayName="Button";const Mb=["onKeyDown"];function Fb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jb(t){return!t||t.trim()==="#"}const h1=v.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Fb(t,Mb);const[i]=Qm(Object.assign({tagName:"a"},r)),s=_t(o=>{i.onKeyDown(o),n==null||n(o)});return jb(r.href)||r.role==="button"?_.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):_.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});h1.displayName="Anchor";const f1=h1,$b={[mn]:"show",[er]:"show"},p1=v.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=v.useCallback((l,c)=>{u1(l),r==null||r(l,c)},[r]);return _.jsx(Km,{ref:s,addEndListener:Hm,...o,onEnter:a,childRef:Id(e),children:(l,c)=>v.cloneElement(e,{...c,className:K("fade",t,e.props.className,$b[l],n[l])})})});p1.displayName="Fade";const Ym=p1,Ub={"aria-label":gt.string,onClick:gt.func,variant:gt.oneOf(["white"])},Jm=v.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>_.jsx("button",{ref:i,type:"button",className:K("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Jm.displayName="CloseButton";Jm.propTypes=Ub;const Bb=Jm,m1=v.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=Q(e,"btn"),[d,{tagName:f}]=Qm({tagName:t,disabled:s,...a}),p=f;return _.jsx(p,{...d,...a,ref:l,disabled:s,className:K(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});m1.displayName="Button";const Ge=m1,g1=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"card-body"),_.jsx(n,{ref:i,className:K(t,e),...r})));g1.displayName="CardBody";const v1=g1,y1=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"card-footer"),_.jsx(n,{ref:i,className:K(t,e),...r})));y1.displayName="CardFooter";const zb=y1,_1=v.createContext(null);_1.displayName="CardHeaderContext";const E1=_1,w1=v.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Q(t,"card-header"),o=v.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return _.jsx(E1.Provider,{value:o,children:_.jsx(n,{ref:i,...r,className:K(e,s)})})});w1.displayName="CardHeader";const Wb=w1,T1=v.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=Q(t,"card-img");return _.jsx(r,{ref:s,className:K(n?`${o}-${n}`:o,e),...i})});T1.displayName="CardImg";const Hb=T1,I1=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"card-img-overlay"),_.jsx(n,{ref:i,className:K(t,e),...r})));I1.displayName="CardImgOverlay";const qb=I1,S1=v.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=Q(e,"card-link"),_.jsx(n,{ref:i,className:K(t,e),...r})));S1.displayName="CardLink";const Kb=S1,Gb=Gm("h6"),C1=v.forwardRef(({className:t,bsPrefix:e,as:n=Gb,...r},i)=>(e=Q(e,"card-subtitle"),_.jsx(n,{ref:i,className:K(t,e),...r})));C1.displayName="CardSubtitle";const Qb=C1,x1=v.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=Q(e,"card-text"),_.jsx(n,{ref:i,className:K(t,e),...r})));x1.displayName="CardText";const Xb=x1,Yb=Gm("h5"),R1=v.forwardRef(({className:t,bsPrefix:e,as:n=Yb,...r},i)=>(e=Q(e,"card-title"),_.jsx(n,{ref:i,className:K(t,e),...r})));R1.displayName="CardTitle";const Jb=R1,A1=v.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const d=Q(t,"card");return _.jsx(a,{ref:c,...l,className:K(e,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?_.jsx(v1,{children:o}):o})});A1.displayName="Card";const Me=Object.assign(A1,{Img:Hb,Title:Jb,Subtitle:Qb,Body:v1,Link:Kb,Text:Xb,Header:Wb,Footer:zb,ImgOverlay:qb});function L_(t,e){let n=0;return v.Children.map(t,r=>v.isValidElement(r)?e(r,n++):r)}function Zb(t,e){let n=0;v.Children.forEach(t,r=>{v.isValidElement(r)&&e(r,n++)})}function eN(t,e){return v.Children.toArray(t).some(n=>v.isValidElement(n)&&n.type===e)}function tN({as:t,bsPrefix:e,className:n,...r}){e=Q(e,"col");const i=n1(),s=r1(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let d,f,p;typeof c=="object"&&c!=null?{span:d,offset:f,order:p}=c:d=c;const g=l!==s?`-${l}`:"";d&&o.push(d===!0?`${e}${g}`:`${e}${g}-${d}`),p!=null&&a.push(`order${g}-${p}`),f!=null&&a.push(`offset${g}-${f}`)}),[{...r,className:K(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const k1=v.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=tN(t);return _.jsx(i,{...r,ref:e,className:K(n,!o.length&&s)})});k1.displayName="Col";const il=k1,P1=v.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Q(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return _.jsx(n,{ref:s,...i,className:K(r,e?`${o}${a}`:o)})});P1.displayName="Container";const Wt=P1;var nN=Function.prototype.bind.call(Function.prototype.call,[].slice);function Zn(t,e){return nN(t.querySelectorAll(e))}function b1(t,e,n){const r=v.useRef(t!==void 0),[i,s]=v.useState(e),o=t!==void 0,a=r.current;return r.current=o,!o&&a&&i!==e&&s(e),[o?t:i,v.useCallback((...l)=>{const[c,...d]=l;let f=n==null?void 0:n(c,...d);return s(c),f},[n])]}function N1(){const[,t]=v.useReducer(e=>e+1,0);return t}const rN=v.createContext(null),Cd=rN;var V_=Object.prototype.hasOwnProperty;function M_(t,e,n){for(n of t.keys())if(Aa(n,e))return n}function Aa(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Aa(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=M_(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=M_(e,i),!i)||!Aa(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(V_.call(t,n)&&++r&&!V_.call(e,n)||!(n in e)||!Aa(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function iN(t){const e=c1();return[t[0],v.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Vt="top",sn="bottom",on="right",Mt="left",Zm="auto",Sl=[Vt,sn,on,Mt],ao="start",sl="end",sN="clippingParents",O1="viewport",oa="popper",oN="reference",F_=Sl.reduce(function(t,e){return t.concat([e+"-"+ao,e+"-"+sl])},[]),D1=[].concat(Sl,[Zm]).reduce(function(t,e){return t.concat([e,e+"-"+ao,e+"-"+sl])},[]),aN="beforeRead",lN="read",uN="afterRead",cN="beforeMain",dN="main",hN="afterMain",fN="beforeWrite",pN="write",mN="afterWrite",gN=[aN,lN,uN,cN,dN,hN,fN,pN,mN];function Vn(t){return t.split("-")[0]}function Ht(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function es(t){var e=Ht(t).Element;return t instanceof e||t instanceof Element}function Mn(t){var e=Ht(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function eg(t){if(typeof ShadowRoot>"u")return!1;var e=Ht(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ki=Math.max,Nc=Math.min,lo=Math.round;function fp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function L1(){return!/^((?!chrome|android).)*safari/i.test(fp())}function uo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Mn(t)&&(i=t.offsetWidth>0&&lo(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&lo(r.height)/t.offsetHeight||1);var o=es(t)?Ht(t):window,a=o.visualViewport,l=!L1()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,p=r.height/s;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function tg(t){var e=uo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function V1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&eg(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mi(t){return t?(t.nodeName||"").toLowerCase():null}function gr(t){return Ht(t).getComputedStyle(t)}function vN(t){return["table","td","th"].indexOf(mi(t))>=0}function Ri(t){return((es(t)?t.ownerDocument:t.document)||window.document).documentElement}function xd(t){return mi(t)==="html"?t:t.assignedSlot||t.parentNode||(eg(t)?t.host:null)||Ri(t)}function j_(t){return!Mn(t)||gr(t).position==="fixed"?null:t.offsetParent}function yN(t){var e=/firefox/i.test(fp()),n=/Trident/i.test(fp());if(n&&Mn(t)){var r=gr(t);if(r.position==="fixed")return null}var i=xd(t);for(eg(i)&&(i=i.host);Mn(i)&&["html","body"].indexOf(mi(i))<0;){var s=gr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Cl(t){for(var e=Ht(t),n=j_(t);n&&vN(n)&&gr(n).position==="static";)n=j_(n);return n&&(mi(n)==="html"||mi(n)==="body"&&gr(n).position==="static")?e:n||yN(t)||e}function ng(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ka(t,e,n){return Ki(t,Nc(e,n))}function _N(t,e,n){var r=ka(t,e,n);return r>n?n:r}function M1(){return{top:0,right:0,bottom:0,left:0}}function F1(t){return Object.assign({},M1(),t)}function j1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var EN=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,F1(typeof e!="number"?e:j1(e,Sl))};function wN(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vn(n.placement),l=ng(a),c=[Mt,on].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var f=EN(i.padding,n),p=tg(s),g=l==="y"?Vt:Mt,w=l==="y"?sn:on,R=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],x=o[l]-n.rects.reference[l],T=Cl(s),E=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,S=R/2-x/2,N=f[g],D=E-p[d]-f[w],V=E/2-p[d]/2+S,C=ka(N,V,D),y=l;n.modifiersData[r]=(e={},e[y]=C,e.centerOffset=C-V,e)}}function TN(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||V1(e.elements.popper,i)&&(e.elements.arrow=i))}const IN={name:"arrow",enabled:!0,phase:"main",fn:wN,effect:TN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function co(t){return t.split("-")[1]}var SN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CN(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:lo(n*i)/i||0,y:lo(r*i)/i||0}}function $_(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,p=o.x,g=p===void 0?0:p,w=o.y,R=w===void 0?0:w,x=typeof d=="function"?d({x:g,y:R}):{x:g,y:R};g=x.x,R=x.y;var T=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=Mt,N=Vt,D=window;if(c){var V=Cl(n),C="clientHeight",y="clientWidth";if(V===Ht(n)&&(V=Ri(n),gr(V).position!=="static"&&a==="absolute"&&(C="scrollHeight",y="scrollWidth")),V=V,i===Vt||(i===Mt||i===on)&&s===sl){N=sn;var A=f&&V===D&&D.visualViewport?D.visualViewport.height:V[C];R-=A-r.height,R*=l?1:-1}if(i===Mt||(i===Vt||i===sn)&&s===sl){S=on;var P=f&&V===D&&D.visualViewport?D.visualViewport.width:V[y];g-=P-r.width,g*=l?1:-1}}var b=Object.assign({position:a},c&&SN),O=d===!0?CN({x:g,y:R},Ht(n)):{x:g,y:R};if(g=O.x,R=O.y,l){var k;return Object.assign({},b,(k={},k[N]=E?"0":"",k[S]=T?"0":"",k.transform=(D.devicePixelRatio||1)<=1?"translate("+g+"px, "+R+"px)":"translate3d("+g+"px, "+R+"px, 0)",k))}return Object.assign({},b,(e={},e[N]=E?R+"px":"",e[S]=T?g+"px":"",e.transform="",e))}function xN(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vn(e.placement),variation:co(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$_(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$_(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xN,data:{}};var Tu={passive:!0};function AN(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ht(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,Tu)}),a&&l.addEventListener("resize",n.update,Tu),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Tu)}),a&&l.removeEventListener("resize",n.update,Tu)}}const kN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AN,data:{}};var PN={left:"right",right:"left",bottom:"top",top:"bottom"};function qu(t){return t.replace(/left|right|bottom|top/g,function(e){return PN[e]})}var bN={start:"end",end:"start"};function U_(t){return t.replace(/start|end/g,function(e){return bN[e]})}function rg(t){var e=Ht(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ig(t){return uo(Ri(t)).left+rg(t).scrollLeft}function NN(t,e){var n=Ht(t),r=Ri(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=L1();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+ig(t),y:l}}function ON(t){var e,n=Ri(t),r=rg(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ki(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ki(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ig(t),l=-r.scrollTop;return gr(i||n).direction==="rtl"&&(a+=Ki(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function sg(t){var e=gr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function $1(t){return["html","body","#document"].indexOf(mi(t))>=0?t.ownerDocument.body:Mn(t)&&sg(t)?t:$1(xd(t))}function Pa(t,e){var n;e===void 0&&(e=[]);var r=$1(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ht(r),o=i?[s].concat(s.visualViewport||[],sg(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Pa(xd(o)))}function pp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function DN(t,e){var n=uo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function B_(t,e,n){return e===O1?pp(NN(t,n)):es(e)?DN(e,n):pp(ON(Ri(t)))}function LN(t){var e=Pa(xd(t)),n=["absolute","fixed"].indexOf(gr(t).position)>=0,r=n&&Mn(t)?Cl(t):t;return es(r)?e.filter(function(i){return es(i)&&V1(i,r)&&mi(i)!=="body"}):[]}function VN(t,e,n,r){var i=e==="clippingParents"?LN(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var d=B_(t,c,r);return l.top=Ki(d.top,l.top),l.right=Nc(d.right,l.right),l.bottom=Nc(d.bottom,l.bottom),l.left=Ki(d.left,l.left),l},B_(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function U1(t){var e=t.reference,n=t.element,r=t.placement,i=r?Vn(r):null,s=r?co(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Vt:l={x:o,y:e.y-n.height};break;case sn:l={x:o,y:e.y+e.height};break;case on:l={x:e.x+e.width,y:a};break;case Mt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?ng(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case ao:l[c]=l[c]-(e[d]/2-n[d]/2);break;case sl:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function ol(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?sN:a,c=n.rootBoundary,d=c===void 0?O1:c,f=n.elementContext,p=f===void 0?oa:f,g=n.altBoundary,w=g===void 0?!1:g,R=n.padding,x=R===void 0?0:R,T=F1(typeof x!="number"?x:j1(x,Sl)),E=p===oa?oN:oa,S=t.rects.popper,N=t.elements[w?E:p],D=VN(es(N)?N:N.contextElement||Ri(t.elements.popper),l,d,o),V=uo(t.elements.reference),C=U1({reference:V,element:S,strategy:"absolute",placement:i}),y=pp(Object.assign({},S,C)),A=p===oa?y:V,P={top:D.top-A.top+T.top,bottom:A.bottom-D.bottom+T.bottom,left:D.left-A.left+T.left,right:A.right-D.right+T.right},b=t.modifiersData.offset;if(p===oa&&b){var O=b[i];Object.keys(P).forEach(function(k){var G=[on,sn].indexOf(k)>=0?1:-1,de=[Vt,sn].indexOf(k)>=0?"y":"x";P[k]+=O[de]*G})}return P}function MN(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?D1:l,d=co(r),f=d?a?F_:F_.filter(function(w){return co(w)===d}):Sl,p=f.filter(function(w){return c.indexOf(w)>=0});p.length===0&&(p=f);var g=p.reduce(function(w,R){return w[R]=ol(t,{placement:R,boundary:i,rootBoundary:s,padding:o})[Vn(R)],w},{});return Object.keys(g).sort(function(w,R){return g[w]-g[R]})}function FN(t){if(Vn(t)===Zm)return[];var e=qu(t);return[U_(t),e,U_(e)]}function jN(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,R=n.allowedAutoPlacements,x=e.options.placement,T=Vn(x),E=T===x,S=l||(E||!w?[qu(x)]:FN(x)),N=[x].concat(S).reduce(function(ve,Se){return ve.concat(Vn(Se)===Zm?MN(e,{placement:Se,boundary:d,rootBoundary:f,padding:c,flipVariations:w,allowedAutoPlacements:R}):Se)},[]),D=e.rects.reference,V=e.rects.popper,C=new Map,y=!0,A=N[0],P=0;P<N.length;P++){var b=N[P],O=Vn(b),k=co(b)===ao,G=[Vt,sn].indexOf(O)>=0,de=G?"width":"height",Z=ol(e,{placement:b,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),se=G?k?on:Mt:k?sn:Vt;D[de]>V[de]&&(se=qu(se));var j=qu(se),W=[];if(s&&W.push(Z[O]<=0),a&&W.push(Z[se]<=0,Z[j]<=0),W.every(function(ve){return ve})){A=b,y=!1;break}C.set(b,W)}if(y)for(var q=w?3:1,le=function(Se){var tt=N.find(function(nt){var ln=C.get(nt);if(ln)return ln.slice(0,Se).every(function(Hn){return Hn})});if(tt)return A=tt,"break"},oe=q;oe>0;oe--){var fe=le(oe);if(fe==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const $N={name:"flip",enabled:!0,phase:"main",fn:jN,requiresIfExists:["offset"],data:{_skip:!1}};function z_(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function W_(t){return[Vt,on,sn,Mt].some(function(e){return t[e]>=0})}function UN(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ol(e,{elementContext:"reference"}),a=ol(e,{altBoundary:!0}),l=z_(o,r),c=z_(a,i,s),d=W_(l),f=W_(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const BN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UN};function zN(t,e,n){var r=Vn(t),i=[Mt,Vt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Mt,on].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function WN(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=D1.reduce(function(d,f){return d[f]=zN(f,e.rects,s),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const HN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WN};function qN(t){var e=t.state,n=t.name;e.modifiersData[n]=U1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const KN={name:"popperOffsets",enabled:!0,phase:"read",fn:qN,data:{}};function GN(t){return t==="x"?"y":"x"}function QN(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,w=n.tetherOffset,R=w===void 0?0:w,x=ol(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),T=Vn(e.placement),E=co(e.placement),S=!E,N=ng(T),D=GN(N),V=e.modifiersData.popperOffsets,C=e.rects.reference,y=e.rects.popper,A=typeof R=="function"?R(Object.assign({},e.rects,{placement:e.placement})):R,P=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(V){if(s){var k,G=N==="y"?Vt:Mt,de=N==="y"?sn:on,Z=N==="y"?"height":"width",se=V[N],j=se+x[G],W=se-x[de],q=g?-y[Z]/2:0,le=E===ao?C[Z]:y[Z],oe=E===ao?-y[Z]:-C[Z],fe=e.elements.arrow,ve=g&&fe?tg(fe):{width:0,height:0},Se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:M1(),tt=Se[G],nt=Se[de],ln=ka(0,C[Z],ve[Z]),Hn=S?C[Z]/2-q-ln-tt-P.mainAxis:le-ln-tt-P.mainAxis,In=S?-C[Z]/2+q+ln+nt+P.mainAxis:oe+ln+nt+P.mainAxis,Sn=e.elements.arrow&&Cl(e.elements.arrow),Ar=Sn?N==="y"?Sn.clientTop||0:Sn.clientLeft||0:0,Cn=(k=b==null?void 0:b[N])!=null?k:0,xn=se+Hn-Cn-Ar,Ee=se+In-Cn,kr=ka(g?Nc(j,xn):j,se,g?Ki(W,Ee):W);V[N]=kr,O[N]=kr-se}if(a){var qn,Jd=N==="x"?Vt:Mt,$l=N==="x"?sn:on,Rn=V[D],Pr=D==="y"?"height":"width",Mo=Rn+x[Jd],Ul=Rn-x[$l],ki=[Vt,Mt].indexOf(T)!==-1,ms=(qn=b==null?void 0:b[D])!=null?qn:0,gs=ki?Mo:Rn-C[Pr]-y[Pr]-ms+P.altAxis,We=ki?Rn+C[Pr]+y[Pr]-ms-P.altAxis:Ul,Ye=g&&ki?_N(gs,Rn,We):ka(g?gs:Mo,Rn,g?We:Ul);V[D]=Ye,O[D]=Ye-Rn}e.modifiersData[r]=O}}const XN={name:"preventOverflow",enabled:!0,phase:"main",fn:QN,requiresIfExists:["offset"]};function YN(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JN(t){return t===Ht(t)||!Mn(t)?rg(t):YN(t)}function ZN(t){var e=t.getBoundingClientRect(),n=lo(e.width)/t.offsetWidth||1,r=lo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function eO(t,e,n){n===void 0&&(n=!1);var r=Mn(e),i=Mn(e)&&ZN(e),s=Ri(e),o=uo(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((mi(e)!=="body"||sg(s))&&(a=JN(e)),Mn(e)?(l=uo(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=ig(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function tO(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function nO(t){var e=tO(t);return gN.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function rO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iO(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var H_={placement:"bottom",modifiers:[],strategy:"absolute"};function q_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sO(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?H_:i;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},H_,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,g={state:d,setOptions:function(T){var E=typeof T=="function"?T(d.options):T;R(),d.options=Object.assign({},s,d.options,E),d.scrollParents={reference:es(a)?Pa(a):a.contextElement?Pa(a.contextElement):[],popper:Pa(l)};var S=nO(iO([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(N){return N.enabled}),w(),g.update()},forceUpdate:function(){if(!p){var T=d.elements,E=T.reference,S=T.popper;if(q_(E,S)){d.rects={reference:eO(E,Cl(S),d.options.strategy==="fixed"),popper:tg(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var D=d.orderedModifiers[N],V=D.fn,C=D.options,y=C===void 0?{}:C,A=D.name;typeof V=="function"&&(d=V({state:d,options:y,name:A,instance:g})||d)}}}},update:rO(function(){return new Promise(function(x){g.forceUpdate(),x(d)})}),destroy:function(){R(),p=!0}};if(!q_(a,l))return g;g.setOptions(c).then(function(x){!p&&c.onFirstUpdate&&c.onFirstUpdate(x)});function w(){d.orderedModifiers.forEach(function(x){var T=x.name,E=x.options,S=E===void 0?{}:E,N=x.effect;if(typeof N=="function"){var D=N({state:d,name:T,instance:g,options:S}),V=function(){};f.push(D||V)}})}function R(){f.forEach(function(x){return x()}),f=[]}return g}}const oO=sO({defaultModifiers:[BN,KN,RN,kN,HN,$N,XN,IN]}),aO=["enabled","placement","strategy","modifiers"];function lO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const uO={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},cO={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},dO=[];function hO(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=dO}=n,a=lO(n,aO);const l=v.useRef(o),c=v.useRef(),d=v.useCallback(()=>{var x;(x=c.current)==null||x.update()},[]),f=v.useCallback(()=>{var x;(x=c.current)==null||x.forceUpdate()},[]),[p,g]=iN(v.useState({placement:i,update:d,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),w=v.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const T={},E={};Object.keys(x.elements).forEach(S=>{T[S]=x.styles[S],E[S]=x.attributes[S]}),g({state:x,styles:T,attributes:E,update:d,forceUpdate:f,placement:x.placement})}}),[d,f,g]),R=v.useMemo(()=>(Aa(l.current,o)||(l.current=o),l.current),[o]);return v.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...R,w,uO]})},[s,i,w,r,R]),v.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=oO(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...R,cO,w]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,g(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),p}function Oc(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var fO=function(){},pO=fO;const mO=To(pO),K_=()=>{};function gO(t){return t.button===0}function vO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const zh=t=>t&&("current"in t?t.current:t),G_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function yO(t,e=K_,{disabled:n,clickTrigger:r="click"}={}){const i=v.useRef(!1),s=v.useRef(!1),o=v.useCallback(c=>{const d=zh(t);mO(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!d||vO(c)||!gO(c)||!!Oc(d,c.target)||s.current,s.current=!1},[t]),a=_t(c=>{const d=zh(t);d&&Oc(d,c.target)?s.current=!0:s.current=!1}),l=_t(c=>{i.current||e(c)});v.useEffect(()=>{var c,d;if(n||t==null)return;const f=Td(zh(t)),p=f.defaultView||window;let g=(c=p.event)!=null?c:(d=p.parent)==null?void 0:d.event,w=null;G_[r]&&(w=Qr(f,G_[r],a,!0));const R=Qr(f,r,o,!0),x=Qr(f,r,E=>{if(E===g){g=void 0;return}l(E)});let T=[];return"ontouchstart"in f.documentElement&&(T=[].slice.call(f.body.children).map(E=>Qr(E,"mousemove",K_))),()=>{w==null||w(),R(),x(),T.forEach(E=>E())}},[t,n,r,o,a,l])}function _O(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function EO(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function wO({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,d,f,p,g;const w=_O(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:EO(Object.assign({},w,{eventListeners:{enabled:e,options:(c=w.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},w.preventOverflow,{options:o?Object.assign({padding:o},(d=w.preventOverflow)==null?void 0:d.options):(f=w.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:i},(p=w.offset)==null?void 0:p.options)},arrow:Object.assign({},w.arrow,{enabled:!!a,options:Object.assign({},(g=w.arrow)==null?void 0:g.options,{element:a})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const TO=["children","usePopper"];function IO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const SO=()=>{};function B1(t={}){const e=v.useContext(Cd),[n,r]=kb(),i=v.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:d={},enableEventListeners:f=!0,usePopper:p=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!i.current&&(i.current=!0);const w=V=>{e==null||e.toggle(!1,V)},{placement:R,setMenu:x,menuElement:T,toggleElement:E}=e||{},S=hO(E,T,wO({placement:c||R||"bottom-start",enabled:p,enableEvents:f??g,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:d})),N=Object.assign({ref:x||SO,"aria-labelledby":E==null?void 0:E.id},S.attributes.popper,{style:S.styles.popper}),D={show:g,placement:R,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:p?S:null,arrowProps:p?Object.assign({ref:r},S.attributes.arrow,{style:S.styles.arrow}):{}};return yO(T,w,{clickTrigger:a,disabled:!g}),[N,D]}function z1(t){let{children:e,usePopper:n=!0}=t,r=IO(t,TO);const[i,s]=B1(Object.assign({},r,{usePopper:n}));return _.jsx(_.Fragment,{children:e(i,s)})}z1.displayName="DropdownMenu";const Dc={prefix:String(Math.round(Math.random()*1e10)),current:0},W1=ne.createContext(Dc),CO=ne.createContext(!1);let xO=!!(typeof window<"u"&&window.document&&window.document.createElement),Wh=new WeakMap;function RO(t=!1){let e=v.useContext(W1),n=v.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=Wh.get(s);o==null?Wh.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,Wh.delete(s))}n.current=++e.current}return n.current}function AO(t){let e=v.useContext(W1);e===Dc&&!xO&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=RO(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function kO(t){let e=ne.useId(),[n]=v.useState(OO()),r=n?"react-aria":`react-aria${Dc.prefix}`;return t||`${r}-${e}`}const H1=typeof ne.useId=="function"?kO:AO;function PO(){return!1}function bO(){return!0}function NO(t){return()=>{}}function OO(){return typeof ne.useSyncExternalStore=="function"?ne.useSyncExternalStore(NO,PO,bO):v.useContext(CO)}const q1=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Q_=()=>{};function K1(){const t=H1(),{show:e=!1,toggle:n=Q_,setToggle:r,menuElement:i}=v.useContext(Cd)||{},s=v.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||Q_,onClick:s,"aria-expanded":!!e};return i&&q1(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function G1({children:t}){const[e,n]=K1();return _.jsx(_.Fragment,{children:t(e,n)})}G1.displayName="DropdownToggle";const DO=v.createContext(null),gi=(t,e=null)=>t!=null?String(t):e||null,Un=DO,Q1=v.createContext(null);Q1.displayName="NavContext";const og=Q1,LO="data-rr-ui-",VO="rrUi";function Ao(t){return`${LO}${t}`}function MO(t){return`${VO}${t}`}const FO=["eventKey","disabled","onClick","active","as"];function jO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X1({key:t,href:e,active:n,disabled:r,onClick:i}){const s=v.useContext(Un),o=v.useContext(og),{activeKey:a}=o||{},l=gi(t,e),c=n==null&&t!=null?gi(a)===l:n;return[{onClick:_t(f=>{r||(i==null||i(f),s&&!f.isPropagationStopped()&&s(l,f))}),"aria-disabled":r||void 0,"aria-selected":c,[Ao("dropdown-item")]:""},{isActive:c}]}const Y1=v.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=Xm}=t,a=jO(t,FO);const[l]=X1({key:n,href:a.href,disabled:r,onClick:i,active:s});return _.jsx(o,Object.assign({},a,{ref:e},l))});Y1.displayName="DropdownItem";const J1=v.createContext(Sd?window:void 0);J1.Provider;function Rd(){return v.useContext(J1)}function X_(){const t=N1(),e=v.useRef(null),n=v.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function xl({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ao("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=Rd(),[c,d]=b1(e,t,r),[f,p]=X_(),g=f.current,[w,R]=X_(),x=w.current,T=d1(c),E=v.useRef(null),S=v.useRef(!1),N=v.useContext(Un),D=v.useCallback((b,O,k=O==null?void 0:O.type)=>{d(b,{originalEvent:O,source:k})},[d]),V=_t((b,O)=>{n==null||n(b,O),D(!1,O,"select"),O.isPropagationStopped()||N==null||N(b,O)}),C=v.useMemo(()=>({toggle:D,placement:o,show:c,menuElement:g,toggleElement:x,setMenu:p,setToggle:R}),[D,o,c,g,x,p,R]);g&&T&&!c&&(S.current=g.contains(g.ownerDocument.activeElement));const y=_t(()=>{x&&x.focus&&x.focus()}),A=_t(()=>{const b=E.current;let O=s;if(O==null&&(O=f.current&&q1(f.current)?"keyboard":!1),O===!1||O==="keyboard"&&!/^key.+$/.test(b))return;const k=Zn(f.current,i)[0];k&&k.focus&&k.focus()});v.useEffect(()=>{c?A():S.current&&(S.current=!1,y())},[c,S,y,A]),v.useEffect(()=>{E.current=null});const P=(b,O)=>{if(!f.current)return null;const k=Zn(f.current,i);let G=k.indexOf(b)+O;return G=Math.max(0,Math.min(G,k.length)),k[G]};return bb(v.useCallback(()=>l.document,[l]),"keydown",b=>{var O,k;const{key:G}=b,de=b.target,Z=(O=f.current)==null?void 0:O.contains(de),se=(k=w.current)==null?void 0:k.contains(de);if(/input|textarea/i.test(de.tagName)&&(G===" "||G!=="Escape"&&Z||G==="Escape"&&de.type==="search")||!Z&&!se||G==="Tab"&&(!f.current||!c))return;E.current=b.type;const W={originalEvent:b,source:b.type};switch(G){case"ArrowUp":{const q=P(de,-1);q&&q.focus&&q.focus(),b.preventDefault();return}case"ArrowDown":if(b.preventDefault(),!c)d(!0,W);else{const q=P(de,1);q&&q.focus&&q.focus()}return;case"Tab":l1(de.ownerDocument,"keyup",q=>{var le;(q.key==="Tab"&&!q.target||!((le=f.current)!=null&&le.contains(q.target)))&&d(!1,W)},{once:!0});break;case"Escape":G==="Escape"&&(b.preventDefault(),b.stopPropagation()),d(!1,W);break}}),_.jsx(Un.Provider,{value:V,children:_.jsx(Cd.Provider,{value:C,children:a})})}xl.displayName="Dropdown";xl.Menu=z1;xl.Toggle=G1;xl.Item=Y1;const Z1=v.createContext({});Z1.displayName="DropdownContext";const eI=Z1,tI=v.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=Q(e,"dropdown-divider"),_.jsx(n,{ref:s,className:K(t,e),role:r,...i})));tI.displayName="DropdownDivider";const $O=tI,nI=v.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=Q(e,"dropdown-header"),_.jsx(n,{ref:s,className:K(t,e),role:r,...i})));nI.displayName="DropdownHeader";const UO=nI,rI=v.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=f1,...a},l)=>{const c=Q(t,"dropdown-item"),[d,f]=X1({key:n,href:a.href,disabled:r,onClick:i,active:s});return _.jsx(o,{...a,...d,ref:l,className:K(e,c,f.isActive&&"active",r&&"disabled")})});rI.displayName="DropdownItem";const BO=rI,iI=v.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Q(e,"dropdown-item-text"),_.jsx(n,{ref:i,className:K(t,e),...r})));iI.displayName="DropdownItemText";const zO=iI,WO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",HO=typeof document<"u",sI=HO||WO?v.useLayoutEffect:v.useEffect,oI=v.createContext(null);oI.displayName="InputGroupContext";const ag=oI,aI=v.createContext(null);aI.displayName="NavbarContext";const ko=aI;function lI(t,e){return t}function uI(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",d=n?"left-end":"right-end";let f=t?o:s;return e==="up"?f=t?i:r:e==="end"?f=t?d:c:e==="start"?f=t?l:a:e==="down-centered"?f="bottom":e==="up-centered"&&(f="top"),f}const cI=v.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...d},f)=>{let p=!1;const g=v.useContext(ko),w=Q(t,"dropdown-menu"),{align:R,drop:x,isRTL:T}=v.useContext(eI);n=n||R;const E=v.useContext(ag),S=[];if(n)if(typeof n=="object"){const b=Object.keys(n);if(b.length){const O=b[0],k=n[O];p=k==="start",S.push(`${w}-${O}-${k}`)}}else n==="end"&&(p=!0);const N=uI(p,x,T),[D,{hasShown:V,popper:C,show:y,toggle:A}]=B1({flip:i,rootCloseEvent:r,show:s,usePopper:!g&&S.length===0,offset:[0,2],popperConfig:l,placement:N});if(D.ref=qm(lI(f),D.ref),sI(()=>{y&&(C==null||C.update())},[y]),!V&&!o&&!E)return null;typeof a!="string"&&(D.show=y,D.close=()=>A==null?void 0:A(!1),D.align=n);let P=d.style;return C!=null&&C.placement&&(P={...d.style,...D.style},d["x-placement"]=C.placement),_.jsx(a,{...d,...D,style:P,...(S.length||g)&&{"data-bs-popper":"static"},className:K(e,w,y&&"show",p&&`${w}-end`,c&&`${w}-${c}`,...S)})});cI.displayName="DropdownMenu";const qO=cI,dI=v.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Ge,...s},o)=>{const a=Q(t,"dropdown-toggle"),l=v.useContext(Cd);r!==void 0&&(s.bsPrefix=r);const[c]=K1();return c.ref=qm(c.ref,lI(o)),_.jsx(i,{className:K(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});dI.displayName="DropdownToggle";const KO=dI,hI=v.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:d="div",navbar:f,autoClose:p=!0,...g}=Il(t,{show:"onToggle"}),w=v.useContext(ag),R=Q(n,"dropdown"),x=JP(),T=C=>p===!1?C==="click":p==="inside"?C!=="rootClose":p==="outside"?C!=="select":!0,E=Ro((C,y)=>{var A;!((A=y.originalEvent)==null||(A=A.target)==null)&&A.classList.contains("dropdown-toggle")&&y.source==="mousedown"||(y.originalEvent.currentTarget===document&&(y.source!=="keydown"||y.originalEvent.key==="Escape")&&(y.source="rootClose"),T(y.source)&&(l==null||l(C,y)))}),N=uI(o==="end",r,x),D=v.useMemo(()=>({align:o,drop:r,isRTL:x}),[o,r,x]),V={down:R,"down-centered":`${R}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return _.jsx(eI.Provider,{value:D,children:_.jsx(xl,{placement:N,show:i,onSelect:a,onToggle:E,focusFirstItemOnShow:c,itemSelector:`.${R}-item:not(.disabled):not(:disabled)`,children:w?g.children:_.jsx(d,{...g,ref:e,className:K(s,i&&"show",V[r])})})})});hI.displayName="Dropdown";const Ui=Object.assign(hI,{Toggle:KO,Menu:qO,Item:BO,ItemText:zO,Divider:$O,Header:UO}),GO={type:gt.string,tooltip:gt.bool,as:gt.elementType},lg=v.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>_.jsx(t,{...i,ref:s,className:K(e,`${n}-${r?"tooltip":"feedback"}`)}));lg.displayName="Feedback";lg.propTypes=GO;const fI=lg,QO=v.createContext({}),vr=QO,pI=v.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=v.useContext(vr);return e=Q(e,"form-check-input"),_.jsx(o,{...a,ref:l,type:r,id:t||c,className:K(n,e,i&&"is-valid",s&&"is-invalid")})});pI.displayName="FormCheckInput";const Ad=pI,mI=v.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=v.useContext(vr);return t=Q(t,"form-check-label"),_.jsx("label",{...r,ref:i,htmlFor:n||s,className:K(e,t)})});mI.displayName="FormCheckLabel";const mp=mI,gI=v.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:d,className:f,style:p,title:g="",type:w="checkbox",label:R,children:x,as:T="input",...E},S)=>{e=Q(e,"form-check"),n=Q(n,"form-switch");const{controlId:N}=v.useContext(vr),D=v.useMemo(()=>({controlId:t||N}),[N,t]),V=!x&&R!=null&&R!==!1||eN(x,mp),C=_.jsx(Ad,{...E,type:w==="switch"?"checkbox":w,ref:S,isValid:o,isInvalid:a,disabled:s,as:T});return _.jsx(vr.Provider,{value:D,children:_.jsx("div",{style:p,className:K(f,V&&e,r&&`${e}-inline`,i&&`${e}-reverse`,w==="switch"&&n),children:x||_.jsxs(_.Fragment,{children:[C,V&&_.jsx(mp,{title:g,children:R}),c&&_.jsx(fI,{type:d,tooltip:l,children:c})]})})})});gI.displayName="FormCheck";const Lc=Object.assign(gI,{Input:Ad,Label:mp}),vI=v.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:d="input",...f},p)=>{const{controlId:g}=v.useContext(vr);return t=Q(t,"form-control"),_.jsx(d,{...f,type:e,size:r,ref:p,readOnly:c,id:i||g,className:K(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});vI.displayName="FormControl";const XO=Object.assign(vI,{Feedback:fI}),yI=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"form-floating"),_.jsx(n,{ref:i,className:K(t,e),...r})));yI.displayName="FormFloating";const YO=yI,_I=v.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=v.useMemo(()=>({controlId:t}),[t]);return _.jsx(vr.Provider,{value:i,children:_.jsx(e,{...n,ref:r})})});_I.displayName="FormGroup";const EI=_I,wI=v.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=v.useContext(vr);e=Q(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=K(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?_.jsx(il,{ref:a,as:"label",className:d,htmlFor:s,...o}):_.jsx(t,{ref:a,className:d,htmlFor:s,...o})});wI.displayName="FormLabel";const JO=wI,TI=v.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=v.useContext(vr);return t=Q(t,"form-range"),_.jsx("input",{...r,type:"range",ref:i,className:K(e,t),id:n||s})});TI.displayName="FormRange";const ZO=TI,II=v.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=v.useContext(vr);return t=Q(t,"form-select"),_.jsx("select",{...a,size:n,ref:l,className:K(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});II.displayName="FormSelect";const eD=II,SI=v.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Q(t,"form-text"),_.jsx(n,{...i,ref:s,className:K(e,t,r&&"text-muted")})));SI.displayName="FormText";const tD=SI,CI=v.forwardRef((t,e)=>_.jsx(Lc,{...t,ref:e,type:"switch"}));CI.displayName="Switch";const nD=Object.assign(CI,{Input:Lc.Input,Label:Lc.Label}),xI=v.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=Q(t,"form-floating"),_.jsxs(EI,{ref:o,className:K(e,t),controlId:r,...s,children:[n,_.jsx("label",{htmlFor:r,children:i})]})));xI.displayName="FloatingLabel";const rD=xI,iD={_ref:gt.any,validated:gt.bool,as:gt.elementType},ug=v.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>_.jsx(n,{...r,ref:i,className:K(t,e&&"was-validated")}));ug.displayName="Form";ug.propTypes=iD;const Ie=Object.assign(ug,{Group:EI,Control:XO,Floating:YO,Check:Lc,Switch:nD,Label:JO,Text:tD,Range:ZO,Select:eD,FloatingLabel:rD}),RI=v.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Q(e,"input-group-text"),_.jsx(n,{ref:i,className:K(t,e),...r})));RI.displayName="InputGroupText";const cg=RI,sD=t=>_.jsx(cg,{children:_.jsx(Ad,{type:"checkbox",...t})}),oD=t=>_.jsx(cg,{children:_.jsx(Ad,{type:"radio",...t})}),AI=v.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=Q(t,"input-group");const a=v.useMemo(()=>({}),[]);return _.jsx(ag.Provider,{value:a,children:_.jsx(i,{ref:o,...s,className:K(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});AI.displayName="InputGroup";const aD=Object.assign(AI,{Text:cg,Radio:oD,Checkbox:sD}),Y_=t=>!t||typeof t=="function"?t:e=>{t.current=e};function lD(t,e){const n=Y_(t),r=Y_(e);return i=>{n&&n(i),r&&r(i)}}function kd(t,e){return v.useMemo(()=>lD(t,e),[t,e])}const uD=v.createContext(null),Po=uD,cD=["as","active","eventKey"];function dD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dg({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=v.useContext(Un),a=v.useContext(og),l=v.useContext(Po);let c=n;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(t??null),p=a.getControlledId(t??null);d[Ao("event-key")]=t,d.id=f||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=_t(f=>{s||(e==null||e(f),t!=null&&o&&!f.isPropagationStopped()&&o(t,f))}),[d,{isActive:c}]}const kI=v.forwardRef((t,e)=>{let{as:n=Xm,active:r,eventKey:i}=t,s=dD(t,cD);const[o,a]=dg(Object.assign({key:gi(i,s.href),active:r},s));return o[Ao("active")]=a.isActive,_.jsx(n,Object.assign({},s,o,{ref:e}))});kI.displayName="NavItem";const hD=kI,fD=["as","onSelect","activeKey","role","onKeyDown"];function pD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const J_=()=>{},Z_=Ao("event-key"),PI=v.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=pD(t,fD);const l=N1(),c=v.useRef(!1),d=v.useContext(Un),f=v.useContext(Po);let p,g;f&&(s=s||"tablist",i=f.activeKey,p=f.getControlledId,g=f.getControllerId);const w=v.useRef(null),R=S=>{const N=w.current;if(!N)return null;const D=Zn(N,`[${Z_}]:not([aria-disabled=true])`),V=N.querySelector("[aria-selected=true]");if(!V||V!==document.activeElement)return null;const C=D.indexOf(V);if(C===-1)return null;let y=C+S;return y>=D.length&&(y=0),y<0&&(y=D.length-1),D[y]},x=(S,N)=>{S!=null&&(r==null||r(S,N),d==null||d(S,N))},T=S=>{if(o==null||o(S),!f)return;let N;switch(S.key){case"ArrowLeft":case"ArrowUp":N=R(-1);break;case"ArrowRight":case"ArrowDown":N=R(1);break;default:return}N&&(S.preventDefault(),x(N.dataset[MO("EventKey")]||null,S),c.current=!0,l())};v.useEffect(()=>{if(w.current&&c.current){const S=w.current.querySelector(`[${Z_}][aria-selected=true]`);S==null||S.focus()}c.current=!1});const E=kd(e,w);return _.jsx(Un.Provider,{value:x,children:_.jsx(og.Provider,{value:{role:s,activeKey:gi(i),getControlledId:p||J_,getControllerId:g||J_},children:_.jsx(n,Object.assign({},a,{onKeyDown:T,ref:E,role:s}))})})});PI.displayName="Nav";const bI=Object.assign(PI,{Item:hD}),NI=v.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{t=Q(t,"list-group-item");const[d,f]=dg({key:gi(r,l.href),active:e,...l}),p=Ro(w=>{if(n){w.preventDefault(),w.stopPropagation();return}d.onClick(w)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const g=a||(o?l.href?"a":"button":"div");return _.jsx(g,{ref:c,...l,...d,onClick:p,className:K(i,t,f.isActive&&"active",n&&"disabled",s&&`${t}-${s}`,o&&`${t}-action`)})});NI.displayName="ListGroupItem";const mD=NI,OI=v.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=Il(t,{activeKey:"onSelect"}),c=Q(r,"list-group");let d;return s&&(d=s===!0?"horizontal":`horizontal-${s}`),_.jsx(bI,{ref:e,...l,as:a,className:K(n,c,i&&`${c}-${i}`,d&&`${c}-${d}`,o&&`${c}-numbered`)})});OI.displayName="ListGroup";const e0=Object.assign(OI,{Item:mD});function Hh(t){t===void 0&&(t=Td());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function gD(t){const e=v.useRef(t);return e.current=t,e}function vD(t){const e=gD(t);v.useEffect(()=>()=>e.current(),[])}function yD(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const t0=Ao("modal-open");class _D{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return yD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(lr(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(t0,""),lr(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(t0),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=_D,qh=(t,e)=>Sd?t==null?(e||Td()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function ED(t,e){const n=Rd(),[r,i]=v.useState(()=>qh(t,n==null?void 0:n.document));if(!r){const s=qh(t);s&&i(s)}return v.useEffect(()=>{e&&r&&e(r)},[e,r]),v.useEffect(()=>{const s=qh(t);s!==r&&i(s)},[t,r]),r}function fg({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=v.useRef(null),o=v.useRef(e),a=_t(n);v.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=kd(s,t.ref),c=v.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}const wD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function TD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ID(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,c=TD(t,wD);const d=v.useRef(null),f=kd(d,Id(l)),p=N=>D=>{N&&d.current&&N(d.current,D)},g=v.useCallback(p(e),[e]),w=v.useCallback(p(n),[n]),R=v.useCallback(p(r),[r]),x=v.useCallback(p(i),[i]),T=v.useCallback(p(s),[s]),E=v.useCallback(p(o),[o]),S=v.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:d},e&&{onEnter:g},n&&{onEntering:w},r&&{onEntered:R},i&&{onExit:x},s&&{onExiting:T},o&&{onExited:E},a&&{addEndListener:S},{children:typeof l=="function"?(N,D)=>l(N,Object.assign({},D,{ref:f})):v.cloneElement(l,{ref:f})})}const SD=["component"];function CD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const xD=v.forwardRef((t,e)=>{let{component:n}=t,r=CD(t,SD);const i=ID(r);return _.jsx(n,Object.assign({ref:e},i))}),RD=xD;function AD({in:t,onTransition:e}){const n=v.useRef(null),r=v.useRef(!0),i=_t(e);return D_(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),D_(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function kD({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=v.useState(!e);e&&s&&o(!1);const a=AD({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,f=>{throw c.in||o(!0),f})}}),l=kd(a,t.ref);return s&&!e?null:v.cloneElement(t,{ref:l})}function n0(t,e,n){return t?_.jsx(RD,Object.assign({},n,{component:t})):e?_.jsx(kD,Object.assign({},n,{transition:e})):_.jsx(fg,Object.assign({},n))}const PD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function bD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Kh;function ND(t){return Kh||(Kh=new hg({ownerDocument:t==null?void 0:t.document})),Kh}function OD(t){const e=Rd(),n=t||ND(e),r=v.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:v.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:v.useCallback(i=>{r.current.backdrop=i},[])})}const DI=v.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:g,runBackdropTransition:w,autoFocus:R=!0,enforceFocus:x=!0,restoreFocus:T=!0,restoreFocusOptions:E,renderDialog:S,renderBackdrop:N=Ee=>_.jsx("div",Object.assign({},Ee)),manager:D,container:V,onShow:C,onHide:y=()=>{},onExit:A,onExited:P,onExiting:b,onEnter:O,onEntering:k,onEntered:G}=t,de=bD(t,PD);const Z=Rd(),se=ED(V),j=OD(D),W=c1(),q=d1(n),[le,oe]=v.useState(!n),fe=v.useRef(null);v.useImperativeHandle(e,()=>j,[j]),Sd&&!q&&n&&(fe.current=Hh(Z==null?void 0:Z.document)),n&&le&&oe(!1);const ve=_t(()=>{if(j.add(),In.current=Qr(document,"keydown",ln),Hn.current=Qr(document,"focus",()=>setTimeout(tt),!0),C&&C(),R){var Ee,kr;const qn=Hh((Ee=(kr=j.dialog)==null?void 0:kr.ownerDocument)!=null?Ee:Z==null?void 0:Z.document);j.dialog&&qn&&!Oc(j.dialog,qn)&&(fe.current=qn,j.dialog.focus())}}),Se=_t(()=>{if(j.remove(),In.current==null||In.current(),Hn.current==null||Hn.current(),T){var Ee;(Ee=fe.current)==null||Ee.focus==null||Ee.focus(E),fe.current=null}});v.useEffect(()=>{!n||!se||ve()},[n,se,ve]),v.useEffect(()=>{le&&Se()},[le,Se]),vD(()=>{Se()});const tt=_t(()=>{if(!x||!W()||!j.isTopModal())return;const Ee=Hh(Z==null?void 0:Z.document);j.dialog&&Ee&&!Oc(j.dialog,Ee)&&j.dialog.focus()}),nt=_t(Ee=>{Ee.target===Ee.currentTarget&&(c==null||c(Ee),a===!0&&y())}),ln=_t(Ee=>{l&&fb(Ee)&&j.isTopModal()&&(d==null||d(Ee),Ee.defaultPrevented||y())}),Hn=v.useRef(),In=v.useRef(),Sn=(...Ee)=>{oe(!0),P==null||P(...Ee)};if(!se)return null;const Ar=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},de,{style:s,className:i,tabIndex:-1});let Cn=S?S(Ar):_.jsx("div",Object.assign({},Ar,{children:v.cloneElement(o,{role:"document"})}));Cn=n0(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:b,onExited:Sn,onEnter:O,onEntering:k,onEntered:G,children:Cn});let xn=null;return a&&(xn=N({ref:j.setBackdropRef,onClick:nt}),xn=n0(g,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:xn})),_.jsx(_.Fragment,{children:Bs.createPortal(_.jsxs(_.Fragment,{children:[xn,Cn]}),se)})});DI.displayName="Modal";const DD=Object.assign(DI,{Manager:hg});function LD(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function VD(t,e){t.classList?t.classList.add(e):LD(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function r0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MD(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=r0(t.className,e):t.setAttribute("class",r0(t.className&&t.className.baseVal||"",e))}const Ss={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class LI extends hg{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,lr(n,{[e]:`${parseFloat(lr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],lr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(VD(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Zn(n,Ss.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Zn(n,Ss.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Zn(n,Ss.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();MD(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Zn(n,Ss.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Zn(n,Ss.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Zn(n,Ss.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Gh;function FD(t){return Gh||(Gh=new LI(t)),Gh}const jD=LI,$D=v.createContext({onHide(){}}),VI=$D,UD=v.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=v.useContext(VI),l=Ro(()=>{a==null||a.onHide(),r==null||r()});return _.jsxs("div",{ref:o,...s,children:[i,n&&_.jsx(Bb,{"aria-label":t,variant:e,onClick:l})]})}),BD=UD,MI=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"nav-item"),_.jsx(n,{ref:i,className:K(t,e),...r})));MI.displayName="NavItem";const FI=MI,jI=v.forwardRef(({bsPrefix:t,className:e,as:n=f1,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=Q(t,"nav-link");const[l,c]=dg({key:gi(i,o.href),active:r,disabled:s,...o});return _.jsx(n,{...o,...l,ref:a,disabled:s,className:K(e,t,s&&"disabled",c.isActive&&"active")})});jI.displayName="NavLink";const pg=jI,$I=v.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:d,...f}=Il(t,{activeKey:"onSelect"}),p=Q(r,"nav");let g,w,R=!1;const x=v.useContext(ko),T=v.useContext(E1);return x?(g=x.bsPrefix,R=a??!0):T&&({cardHeaderBsPrefix:w}=T),_.jsx(bI,{as:n,ref:e,activeKey:d,className:K(c,{[p]:!R,[`${g}-nav`]:R,[`${g}-nav-scroll`]:R&&l,[`${w}-${i}`]:!!w,[`${p}-${i}`]:!!i,[`${p}-fill`]:s,[`${p}-justified`]:o}),...f})});$I.displayName="Nav";const Xn=Object.assign($I,{Item:FI,Link:pg}),UI=v.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Q(t,"navbar-brand");const s=n||(r.href?"a":"span");return _.jsx(s,{...r,ref:i,className:K(e,t)})});UI.displayName="NavbarBrand";const zD=UI,BI=v.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Q(e,"navbar-collapse");const i=v.useContext(ko);return _.jsx(Rb,{in:!!(i&&i.expanded),...n,children:_.jsx("div",{ref:r,className:e,children:t})})});BI.displayName="NavbarCollapse";const WD=BI,zI=v.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=Q(t,"navbar-toggler");const{onToggle:l,expanded:c}=v.useContext(ko)||{},d=Ro(f=>{s&&s(f),l&&l()});return i==="button"&&(o.type="button"),_.jsx(i,{...o,ref:a,onClick:d,"aria-label":r,className:K(e,t,!c&&"collapsed"),children:n||_.jsx("span",{className:`${t}-icon`})})});zI.displayName="NavbarToggle";const HD=zI,gp=new WeakMap,i0=(t,e)=>{if(!t||!e)return;const n=gp.get(e)||new Map;gp.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function qD(t,e=typeof window>"u"?void 0:window){const n=i0(t,e),[r,i]=v.useState(()=>n?n.matches:!1);return sI(()=>{let s=i0(t,e);if(!s)return i(!1);let o=gp.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function KD(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let c=t[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let d;typeof a=="object"?(d=a,c=l,l=!0):(l=l||!0,d={[a]:l});let f=v.useMemo(()=>Object.entries(d).reduce((p,[g,w])=>((w==="up"||w===!0)&&(p=n(p,s(g))),(w==="down"||w===!0)&&(p=n(p,i(g))),p),""),[JSON.stringify(d)]);return qD(f,c)}return o}const GD=KD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),WI=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"offcanvas-body"),_.jsx(n,{ref:i,className:K(t,e),...r})));WI.displayName="OffcanvasBody";const QD=WI,XD={[mn]:"show",[er]:"show"},HI=v.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(t=Q(t,"offcanvas"),_.jsx(Km,{ref:l,addEndListener:Hm,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:Id(n),children:(c,d)=>v.cloneElement(n,{...d,className:K(e,n.props.className,(c===mn||c===rl)&&`${t}-toggling`,XD[c])})})));HI.displayName="OffcanvasToggling";const YD=HI,qI=v.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Q(t,"offcanvas-header"),_.jsx(BD,{ref:s,...i,className:K(e,t),closeLabel:n,closeButton:r})));qI.displayName="OffcanvasHeader";const JD=qI,ZD=Gm("h5"),KI=v.forwardRef(({className:t,bsPrefix:e,as:n=ZD,...r},i)=>(e=Q(e,"offcanvas-title"),_.jsx(n,{ref:i,className:K(t,e),...r})));KI.displayName="OffcanvasTitle";const e2=KI;function t2(t){return _.jsx(YD,{...t})}function n2(t){return _.jsx(Ym,{...t})}const GI=v.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:g,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:T,onEntered:E,onExit:S,onExiting:N,onEnter:D,onEntering:V,onExited:C,backdropClassName:y,manager:A,renderStaticNode:P=!1,...b},O)=>{const k=v.useRef();t=Q(t,"offcanvas");const[G,de]=v.useState(!1),Z=Ro(p),se=GD(s||"xs","up");v.useEffect(()=>{de(s?o&&!se:o)},[o,s,se]);const j=v.useMemo(()=>({onHide:Z}),[Z]);function W(){return A||(c?(k.current||(k.current=new jD({handleContainerOverflow:!1})),k.current):FD())}const q=(ve,...Se)=>{ve&&(ve.style.visibility="visible"),D==null||D(ve,...Se)},le=(ve,...Se)=>{ve&&(ve.style.visibility=""),C==null||C(...Se)},oe=v.useCallback(ve=>_.jsx("div",{...ve,className:K(`${t}-backdrop`,y)}),[y,t]),fe=ve=>_.jsx("div",{...ve,...b,className:K(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return _.jsxs(_.Fragment,{children:[!G&&(s||P)&&fe({}),_.jsx(VI.Provider,{value:j,children:_.jsx(DD,{show:G,ref:O,backdrop:a,container:g,keyboard:l,autoFocus:w,enforceFocus:R&&!c,restoreFocus:x,restoreFocusOptions:T,onEscapeKeyDown:d,onShow:f,onHide:Z,onEnter:q,onEntering:V,onEntered:E,onExit:S,onExiting:N,onExited:le,manager:W(),transition:t2,backdropTransition:n2,renderBackdrop:oe,renderDialog:fe})})]})});GI.displayName="Offcanvas";const r2=Object.assign(GI,{Body:QD,Header:JD,Title:e2}),QI=v.forwardRef(({onHide:t,...e},n)=>{const r=v.useContext(ko),i=Ro(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return _.jsx(r2,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});QI.displayName="NavbarOffcanvas";const i2=QI,XI=v.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Q(e,"navbar-text"),_.jsx(n,{ref:i,className:K(t,e),...r})));XI.displayName="NavbarText";const s2=XI,YI=v.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:g=!1,...w}=Il(t,{expanded:"onToggle"}),R=Q(n,"navbar"),x=v.useCallback((...S)=>{p==null||p(...S),g&&d&&(f==null||f(!1))},[p,g,d,f]);w.role===void 0&&c!=="nav"&&(w.role="navigation");let T=`${R}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const E=v.useMemo(()=>({onToggle:()=>f==null?void 0:f(!d),bsPrefix:R,expanded:!!d,expand:r}),[R,d,r,f]);return _.jsx(ko.Provider,{value:E,children:_.jsx(Un.Provider,{value:x,children:_.jsx(c,{ref:e,...w,className:K(l,R,r&&T,i&&`${R}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});YI.displayName="Navbar";const Iu=Object.assign(YI,{Brand:zD,Collapse:WD,Offcanvas:i2,Text:s2,Toggle:HD}),JI=v.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:c,menuVariant:d,...f},p)=>{const g=Q(void 0,"nav-item");return _.jsxs(Ui,{ref:p,...f,className:K(i,g),children:[_.jsx(Ui.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:pg,children:e}),_.jsx(Ui.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:d,children:n})]})});JI.displayName="NavDropdown";const Su=Object.assign(JI,{Item:Ui.Item,ItemText:Ui.ItemText,Divider:Ui.Divider,Header:Ui.Header}),ZI=v.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Q(t,"row"),o=n1(),a=r1(),l=`${s}-cols`,c=[];return o.forEach(d=>{const f=r[d];delete r[d];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const g=d!==a?`-${d}`:"";p!=null&&c.push(`${l}${g}-${p}`)}),_.jsx(n,{ref:i,...r,className:K(e,s,...c)})});ZI.displayName="Row";const mg=ZI,o2=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],a2=["activeKey","getControlledId","getControllerId"],l2=["as"];function vp(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eS(t){let{active:e,eventKey:n,mountOnEnter:r,transition:i,unmountOnExit:s,role:o="tabpanel",onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}=t,g=vp(t,o2);const w=v.useContext(Po);if(!w)return[Object.assign({},g,{role:o}),{eventKey:n,isActive:e,mountOnEnter:r,transition:i,unmountOnExit:s,onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}];const{activeKey:R,getControlledId:x,getControllerId:T}=w,E=vp(w,a2),S=gi(n);return[Object.assign({},g,{role:o,id:x(n),"aria-labelledby":T(n)}),{eventKey:n,isActive:e==null&&S!=null?gi(R)===S:e,transition:i||E.transition,mountOnEnter:r??E.mountOnEnter,unmountOnExit:s??E.unmountOnExit,onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}]}const tS=v.forwardRef((t,e)=>{let{as:n="div"}=t,r=vp(t,l2);const[i,{isActive:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,transition:w=fg}]=eS(r);return _.jsx(Po.Provider,{value:null,children:_.jsx(Un.Provider,{value:null,children:_.jsx(w,{in:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,children:_.jsx(n,Object.assign({},i,{ref:e,hidden:!s,"aria-hidden":!s}))})})})});tS.displayName="TabPanel";const nS=t=>{const{id:e,generateChildId:n,onSelect:r,activeKey:i,defaultActiveKey:s,transition:o,mountOnEnter:a,unmountOnExit:l,children:c}=t,[d,f]=b1(i,s,r),p=H1(e),g=v.useMemo(()=>n||((R,x)=>p?`${p}-${x}-${R}`:null),[p,n]),w=v.useMemo(()=>({onSelect:f,activeKey:d,transition:o,mountOnEnter:a||!1,unmountOnExit:l||!1,getControlledId:R=>g(R,"tabpane"),getControllerId:R=>g(R,"tab")}),[f,d,o,a,l,g]);return _.jsx(Po.Provider,{value:w,children:_.jsx(Un.Provider,{value:f||null,children:c})})};nS.Panel=tS;const rS=nS;function gg(t){return typeof t=="boolean"?t?Ym:fg:t}const iS=({transition:t,...e})=>_.jsx(rS,{...e,transition:gg(t)});iS.displayName="TabContainer";const u2=iS,sS=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Q(e,"tab-content"),_.jsx(n,{ref:i,className:K(t,e),...r})));sS.displayName="TabContent";const oS=sS,aS=v.forwardRef(({bsPrefix:t,transition:e,...n},r)=>{const[{className:i,as:s="div",...o},{isActive:a,onEnter:l,onEntering:c,onEntered:d,onExit:f,onExiting:p,onExited:g,mountOnEnter:w,unmountOnExit:R,transition:x=Ym}]=eS({...n,transition:gg(e)}),T=Q(t,"tab-pane");return _.jsx(Po.Provider,{value:null,children:_.jsx(Un.Provider,{value:null,children:_.jsx(x,{in:a,onEnter:l,onEntering:c,onEntered:d,onExit:f,onExiting:p,onExited:g,mountOnEnter:w,unmountOnExit:R,children:_.jsx(s,{...o,ref:r,className:K(i,T,a&&"active")})})})})});aS.displayName="TabPane";const lS=aS,c2={eventKey:gt.oneOfType([gt.string,gt.number]),title:gt.node.isRequired,disabled:gt.bool,tabClassName:gt.string,tabAttrs:gt.object},uS=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};uS.propTypes=c2;const s0=Object.assign(uS,{Container:u2,Content:oS,Pane:lS}),d2=v.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...c},d)=>{const f=Q(t,"table"),p=K(e,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,i&&`${f}-borderless`,s&&`${f}-hover`),g=_.jsx("table",{...c,className:p,ref:d});if(l){let w=`${f}-responsive`;return typeof l=="string"&&(w=`${w}-${l}`),_.jsx("div",{className:w,children:g})}return g}),h2=d2;function f2(t){let e;return Zb(t,n=>{e==null&&(e=n.props.eventKey)}),e}function p2(t){const{title:e,eventKey:n,disabled:r,tabClassName:i,tabAttrs:s,id:o}=t.props;return e==null?null:_.jsx(FI,{as:"li",role:"presentation",children:_.jsx(pg,{as:"button",type:"button",eventKey:n,disabled:r,id:o,className:i,...s,children:e})})}const cS=t=>{const{id:e,onSelect:n,transition:r,mountOnEnter:i=!1,unmountOnExit:s=!1,variant:o="tabs",children:a,activeKey:l=f2(a),...c}=Il(t,{activeKey:"onSelect"});return _.jsxs(rS,{id:e,activeKey:l,onSelect:n,transition:gg(r),mountOnEnter:i,unmountOnExit:s,children:[_.jsx(Xn,{id:e,...c,role:"tablist",as:"ul",variant:o,children:L_(a,p2)}),_.jsx(oS,{children:L_(a,d=>{const f={...d.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,_.jsx(lS,{...f})})})]})};cS.displayName="Tabs";const m2=cS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new v2;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y2=function(t){const e=dS(t);return hS.encodeByteArray(e,!0)},Vc=function(t){return y2(t).replace(/\./g,"")},fS=function(t){try{return hS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=()=>_2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fS(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return E2()||w2()||T2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pS=t=>{var e,n;return(n=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},I2=t=>{const e=pS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mS=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},gS=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Vc(JSON.stringify(n)),Vc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function R2(){var t;const e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N2(){return!R2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function D2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function c9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="FirebaseError";class Cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L2,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cr(i,a,r)}}function V2(t,e){return t.replace(M2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M2=/\{\$([^}]+)}/g;function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o0(s)&&o0(o)){if(!Mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function j2(t,e){const n=new $2(t,e);return n.subscribe.bind(n)}class $2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=1e3,z2=2,W2=4*60*60*1e3,H2=.5;function d9(t,e=B2,n=z2){const r=e*Math.pow(n,t),i=Math.round(H2*r*(Math.random()-.5)*2);return Math.min(W2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(t){return t===Vi?void 0:t}function G2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const X2={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Y2=ue.INFO,J2={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Z2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=J2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=Y2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const eL=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function tL(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nL(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,yp=new WeakMap,yS=new WeakMap,Xh=new WeakMap,yg=new WeakMap;function rL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function iL(t){if(yp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yp.set(t,e)}let _p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sL(t){_p=t(_p)}function oL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return yS.set(r,e.sort?e.sort():[e]),ai(r)}:nL().includes(t)?function(...e){return t.apply(Yh(this),e),ai(vS.get(this))}:function(...e){return ai(t.apply(Yh(this),e))}}function aL(t){return typeof t=="function"?oL(t):(t instanceof IDBTransaction&&iL(t),eL(t,tL())?new Proxy(t,_p):t)}function ai(t){if(t instanceof IDBRequest)return rL(t);if(Xh.has(t))return Xh.get(t);const e=aL(t);return e!==t&&(Xh.set(t,e),yg.set(e,t)),e}const Yh=t=>yg.get(t);function lL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uL=["get","getKey","getAll","getAllKeys","count"],cL=["put","add","delete","clear"],Jh=new Map;function u0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jh.set(e,s),s}sL(t=>({...t,get:(e,n,r)=>u0(e,n)||t.get(e,n,r),has:(e,n)=>!!u0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ep="@firebase/app",c0="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new vg("@firebase/app"),fL="@firebase/app-compat",pL="@firebase/analytics-compat",mL="@firebase/analytics",gL="@firebase/app-check-compat",vL="@firebase/app-check",yL="@firebase/auth",_L="@firebase/auth-compat",EL="@firebase/database",wL="@firebase/data-connect",TL="@firebase/database-compat",IL="@firebase/functions",SL="@firebase/functions-compat",CL="@firebase/installations",xL="@firebase/installations-compat",RL="@firebase/messaging",AL="@firebase/messaging-compat",kL="@firebase/performance",PL="@firebase/performance-compat",bL="@firebase/remote-config",NL="@firebase/remote-config-compat",OL="@firebase/storage",DL="@firebase/storage-compat",LL="@firebase/firestore",VL="@firebase/vertexai",ML="@firebase/firestore-compat",FL="firebase",jL="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",$L={[Ep]:"fire-core",[fL]:"fire-core-compat",[mL]:"fire-analytics",[pL]:"fire-analytics-compat",[vL]:"fire-app-check",[gL]:"fire-app-check-compat",[yL]:"fire-auth",[_L]:"fire-auth-compat",[EL]:"fire-rtdb",[wL]:"fire-data-connect",[TL]:"fire-rtdb-compat",[IL]:"fire-fn",[SL]:"fire-fn-compat",[CL]:"fire-iid",[xL]:"fire-iid-compat",[RL]:"fire-fcm",[AL]:"fire-fcm-compat",[kL]:"fire-perf",[PL]:"fire-perf-compat",[bL]:"fire-rc",[NL]:"fire-rc-compat",[OL]:"fire-gcs",[DL]:"fire-gcs-compat",[LL]:"fire-fst",[ML]:"fire-fst-compat",[VL]:"fire-vertex","fire-js":"fire-js",[FL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,UL=new Map,Tp=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(Tp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,t);for(const n of Fc.values())d0(n,t);for(const n of UL.values())d0(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Rl("app","Firebase",BL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=jL;function _S(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=mS()),!n)throw li.create("no-options");const s=Fc.get(i);if(s){if(Mc(n,s.options)&&Mc(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new Q2(i);for(const l of Tp.values())o.addComponent(l);const a=new zL(n,r,o);return Fc.set(i,a),a}function ES(t=wp){const e=Fc.get(t);if(!e&&t===wp&&mS())return _S();if(!e)throw li.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let i=(r=$L[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}ho(new ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="firebase-heartbeat-database",HL=1,al="firebase-heartbeat-store";let Zh=null;function wS(){return Zh||(Zh=lL(WL,HL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),Zh}async function qL(t){try{const n=(await wS()).transaction(al),r=await n.objectStore(al).get(TS(t));return await n.done,r}catch(e){if(e instanceof Cr)yr.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function h0(t,e){try{const r=(await wS()).transaction(al,"readwrite");await r.objectStore(al).put(e,TS(t)),await r.done}catch(n){if(n instanceof Cr)yr.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(r.message)}}}function TS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=1024,GL=30*24*60*60*1e3;class QL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:i}=XL(this._heartbeatsCache.heartbeats),s=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yr.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function XL(t,e=KL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?D2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p0(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){ho(new ts("platform-logger",e=>new dL(e),"PRIVATE")),ho(new ts("heartbeat",e=>new QL(e),"PRIVATE")),ui(Ep,c0,t),ui(Ep,c0,"esm2017"),ui("fire-js","")}JL("");function Eg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=IS,SS=new Rl("auth","Firebase",IS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new vg("@firebase/auth");function eV(t,...e){jc.logLevel<=ue.WARN&&jc.warn(`Auth (${bo}): ${t}`,...e)}function Ku(t,...e){jc.logLevel<=ue.ERROR&&jc.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw Tg(t,...e)}function wn(t,...e){return Tg(t,...e)}function wg(t,e,n){const r=Object.assign(Object.assign({},ZL()),{[e]:n});return new Rl("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return wg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&an(t,"argument-error"),wg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SS.create(t,...e)}function X(t,e,...n){if(!t)throw Tg(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function _r(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nV(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nV()||k2()||"connection"in navigator)?navigator.onLine:!0}function iV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=x2()||P2()}get(){return rV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){_r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new kl(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wn(t,e,n,r,i={}){return xS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Al(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return A2()||(c.referrerPolicy="no-referrer"),CS.fetch()(RS(t,t.config.apiHost,n,a),c)})}async function xS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sV),e);try{const i=new lV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wg(t,d,c);an(t,d)}}catch(i){if(i instanceof Cr)throw i;an(t,"network-request-failed",{message:String(i)})}}async function Pl(t,e,n,r,i={}){const s=await Wn(t,e,n,r,i);return"mfaPendingCredential"in s&&an(t,"multi-factor-auth-required",{_serverResponse:s}),s}function RS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function aV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),oV.get())})}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}function g0(t){return t!==void 0&&t.enterprise!==void 0}class uV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cV(t,e){return Wn(t,"GET","/v2/recaptchaConfig",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return Wn(t,"POST","/v1/accounts:delete",e)}async function AS(t,e){return Wn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hV(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Sg(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ba(ef(i.auth_time)),issuedAtTime:ba(ef(i.iat)),expirationTime:ba(ef(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ef(t){return Number(t)*1e3}function Sg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const i=fS(n);return i?JSON.parse(i):(Ku("Failed to decode base64 JWT payload"),null)}catch(i){return Ku("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v0(t){const e=Sg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cr&&fV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fo(t,AS(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kS(s.providerUserInfo):[],a=gV(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function mV(t){const e=Ft(t);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kS(t){return t.map(e=>{var{providerId:n}=e,r=Eg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e){const n=await xS(t,{},async()=>{const r=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yV(t,e){return Wn(t,"POST","/v2/accounts:revokeToken",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=v0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xs;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hV(this,e)}reload(){return mV(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await fo(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:N,isAnonymous:D,providerData:V,stsTokenManager:C}=n;X(S&&C,e,"internal-error");const y=Xs.fromJSON(this.name,C);X(typeof S=="string",e,"internal-error"),Lr(f,e.name),Lr(p,e.name),X(typeof N=="boolean",e,"internal-error"),X(typeof D=="boolean",e,"internal-error"),Lr(g,e.name),Lr(w,e.name),Lr(R,e.name),Lr(x,e.name),Lr(T,e.name),Lr(E,e.name);const A=new sr({uid:S,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:R,stsTokenManager:y,createdAt:T,lastLoginAt:E});return V&&Array.isArray(V)&&(A.providerData=V.map(P=>Object.assign({},P))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const s=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $c(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xs;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function or(t){_r(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PS.type="NONE";const _0=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ys(or(_0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||or(_0);const o=Gu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=sr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ys(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ys(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VS(e))return"Blackberry";if(MS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||OS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bS(t=wt()){return/firefox\//i.test(t)}function NS(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OS(t=wt()){return/crios\//i.test(t)}function DS(t=wt()){return/iemobile/i.test(t)}function LS(t=wt()){return/android/i.test(t)}function VS(t=wt()){return/blackberry/i.test(t)}function MS(t=wt()){return/webos/i.test(t)}function Cg(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _V(t=wt()){var e;return Cg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EV(){return b2()&&document.documentMode===10}function FS(t=wt()){return Cg(t)||LS(t)||MS(t)||VS(t)||/windows phone/i.test(t)||DS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e=[]){let n;switch(t){case"Browser":n=E0(wt());break;case"Worker":n=`${E0(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e={}){return Wn(t,"GET","/v2/passwordPolicy",xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=6;class SV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new wV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AS(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(ur(this));const n=e?Ft(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TV(this),n=new SV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rr(t){return Ft(t)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=j2(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(t){bd=t}function $S(t){return bd.loadJS(t)}function RV(){return bd.recaptchaEnterpriseScript}function AV(){return bd.gapiScript}function kV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PV{constructor(){this.enterprise=new bV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NV="recaptcha-enterprise",US="NO_RECAPTCHA";class OV{constructor(e){this.type=NV,this.auth=Rr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{cV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;g0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(US)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PV().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&g0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=RV();l.length!==0&&(l+=a),$S(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function aa(t,e,n,r=!1,i=!1){const s=new OV(t);let o;if(i)o=US;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Uc(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await aa(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await aa(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await aa(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await aa(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await aa(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const n=_g(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mc(s,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function LV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,n){const r=Rr(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BS(e),{host:o,port:a}=MV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||FV()}function BS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MV(t){const e=BS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T0(o)}}}function T0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function jV(t,e){return Wn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e){return Pl(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))}async function UV(t,e){return Wn(t,"POST","/v1/accounts:sendOobCode",xr(t,e))}async function BV(t,e){return UV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return Pl(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}async function WV(t,e){return Pl(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends xg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uc(e,n,"signInWithPassword",$V,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zV(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uc(e,r,"signUpPassword",jV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WV(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e){return Pl(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="http://localhost";class ns extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Eg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:HV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Al(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KV(t){const e=fa(pa(t)).link,n=e?fa(pa(e)).deep_link_id:null,r=fa(pa(t)).deep_link_id;return(r?fa(pa(r)).link:null)||r||n||e||t}class Rg{constructor(e){var n,r,i,s,o,a;const l=fa(pa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=qV((i=l.mode)!==null&&i!==void 0?i:null);X(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=KV(e);try{return new Rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rg.parseLink(n);return X(r,"argument-error"),ll._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Ag{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends bl{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends bl{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends bl{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return Pl(t,"POST","/v1/accounts:signUp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sr._fromIdTokenResponse(e,r,i),o=I0(r);return new rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=I0(r);return new rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function I0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bc(e,n,r,i)}}function zS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(t,s,e,r):s})}async function QV(t,e,n=!1){const r=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e,n=!1){const{auth:r}=t;if(gn(r.app))return Promise.reject(ur(r));const i="reauthenticate";try{const s=await fo(t,zS(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=Sg(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&an(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t,e,n=!1){if(gn(t.app))return Promise.reject(ur(t));const r="signIn",i=await zS(t,r,e),s=await rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function YV(t,e){return WS(Rr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t){const e=Rr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(t,e,n){const r=Rr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&JV(r,i,n),await Uc(r,i,"getOobCode",BV,"EMAIL_PASSWORD_PROVIDER")}async function eM(t,e,n){if(gn(t.app))return Promise.reject(ur(t));const r=Rr(t),o=await Uc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GV,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&HS(t),l}),a=await rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function tM(t,e,n){return gn(t.app)?Promise.reject(ur(t)):YV(Ft(t),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){return Wn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await fo(r,nM(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function rM(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function iM(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function sM(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function oM(t){return Ft(t).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1e3,lM=10;class KS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const uM=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GS.type="SESSION";const QS=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await cM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=kg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function hM(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function fM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mM(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",gM=1,Wc="firebaseLocalStorage",JS="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function vM(){const t=indexedDB.deleteDatabase(YS);return new Nl(t).toPromise()}function Cp(){const t=indexedDB.open(YS,gM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wc,{keyPath:JS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wc)?e(r):(r.close(),await vM(),e(await Cp()))})})}async function C0(t,e,n){const r=Od(t,!0).put({[JS]:e,value:n});return new Nl(r).toPromise()}async function yM(t,e){const n=Od(t,!1).get(e),r=await new Nl(n).toPromise();return r===void 0?null:r.value}function x0(t,e){const n=Od(t,!0).delete(e);return new Nl(n).toPromise()}const _M=800,EM=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(mM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fM(),!this.activeServiceWorker)return;this.sender=new dM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await C0(e,zc,"1"),await x0(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Od(i,!1).getAll();return new Nl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const wM=ZS;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){return e?or(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TM(t){return WS(t.auth,new Pg(t),t.bypassAuthState)}function IM(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),XV(n,new Pg(t),t.bypassAuthState)}async function SM(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),QV(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TM;case"linkViaPopup":case"linkViaRedirect":return SM;case"reauthViaPopup":case"reauthViaRedirect":return IM;default:an(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new kl(2e3,1e4);async function xM(t,e,n){if(gn(t.app))return Promise.reject(wn(t,"operation-not-supported-in-this-environment"));const r=Rr(t);tV(t,e,Ag);const i=eC(r,n);return new Bi(r,"signInViaPopup",e,i).executeNotNull()}class Bi extends tC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CM.get())};e()}}Bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="pendingRedirect",Qu=new Map;class AM extends tC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await kM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kM(t,e){const n=NM(e),r=bM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PM(t,e){Qu.set(t._key(),e)}function bM(t){return or(t._redirectPersistence)}function NM(t){return Gu(RM,t.config.apiKey,t.name)}async function OM(t,e,n=!1){if(gn(t.app))return Promise.reject(ur(t));const r=Rr(t),i=eC(r,e),o=await new AM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class LM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}}function R0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e={}){return Wn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jM=/^https?/;async function $M(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MM(t);for(const n of e)try{if(UM(n))return}catch{}an(t,"unauthorized-domain")}function UM(t){const e=Ip(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jM.test(n))return!1;if(FM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new kl(3e4,6e4);function A0(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zM(t){return new Promise((e,n)=>{var r,i,s;function o(){A0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A0(),n(wn(t,"network-request-failed"))},timeout:BM.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=kV("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},$S(`${AV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xu=null,e})}let Xu=null;function WM(t){return Xu=Xu||zM(t),Xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new kl(5e3,15e3),qM="__/auth/iframe",KM="emulator/auth/iframe",GM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,KM):`https://${t.config.authDomain}/${qM}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=QM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Al(r).slice(1)}`}async function YM(t){const e=await WM(t),n=Fn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:XM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},HM.get());function l(){Fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,eF=600,tF="_blank",nF="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rF(t,e,n,r=ZM,i=eF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=wt().toLowerCase();n&&(a=OS(c)?tF:n),bS(c)&&(e=e||nF,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(_V(c)&&a!=="_self")return iF(e||"",a),new k0(null);const f=window.open(e||"",a,d);X(f,t,"popup-blocked");try{f.focus()}catch{}return new k0(f)}function iF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="__/auth/handler",oF="emulator/auth/handler",aF=encodeURIComponent("fac");async function P0(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof Ag){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof bl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${aF}=${encodeURIComponent(l)}`:"";return`${lF(t)}?${Al(a).slice(1)}${c}`}function lF({config:t}){return t.emulator?Ig(t,oF):`https://${t.authDomain}/${sF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="webStorageSupport";class uF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QS,this._completeRedirectFn=OM,this._overrideRedirectResult=PM}async _openPopup(e,n,r,i){var s;_r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await P0(e,n,r,Ip(),i);return rF(e,o,kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await P0(e,n,r,Ip(),i);return hM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_r(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YM(e),r=new LM(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tf,{type:tf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tf];o!==void 0&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$M(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||NS()||Cg()}}const cF=uF;var b0="@firebase/auth",N0="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fF(t){ho(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(t)},c=new CV(r,i,s,l);return LV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new ts("auth-internal",e=>{const n=Rr(e.getProvider("auth").getImmediate());return(r=>new dF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(b0,N0,hF(t)),ui(b0,N0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=5*60,mF=gS("authIdTokenMaxAge")||pF;let O0=null;const gF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mF)return;const i=n==null?void 0:n.token;O0!==i&&(O0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vF(t=ES()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DV(t,{popupRedirectResolver:cF,persistence:[wM,uM,QS]}),r=gS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gF(s.toString());iM(n,o,()=>o(n.currentUser)),rM(n,a=>o(a))}}const i=pS("auth");return i&&VV(n,`http://${i}`),n}function yF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fF("Browser");const _F="modulepreload",EF=function(t){return"/Commerce/"+t},D0={},rC=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=EF(s),s in D0)return;D0[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":_F,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var wF="firebase",TF="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(wF,TF,"app");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,iC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,y){function A(){}A.prototype=y.prototype,C.D=y.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,b,O){for(var k=Array(arguments.length-2),G=2;G<arguments.length;G++)k[G-2]=arguments[G];return y.prototype[b].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,A){A||(A=0);var P=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)P[b]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(b=0;16>b;++b)P[b]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=C.g[0],A=C.g[1],b=C.g[2];var O=C.g[3],k=y+(O^A&(b^O))+P[0]+3614090360&4294967295;y=A+(k<<7&4294967295|k>>>25),k=O+(b^y&(A^b))+P[1]+3905402710&4294967295,O=y+(k<<12&4294967295|k>>>20),k=b+(A^O&(y^A))+P[2]+606105819&4294967295,b=O+(k<<17&4294967295|k>>>15),k=A+(y^b&(O^y))+P[3]+3250441966&4294967295,A=b+(k<<22&4294967295|k>>>10),k=y+(O^A&(b^O))+P[4]+4118548399&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(b^y&(A^b))+P[5]+1200080426&4294967295,O=y+(k<<12&4294967295|k>>>20),k=b+(A^O&(y^A))+P[6]+2821735955&4294967295,b=O+(k<<17&4294967295|k>>>15),k=A+(y^b&(O^y))+P[7]+4249261313&4294967295,A=b+(k<<22&4294967295|k>>>10),k=y+(O^A&(b^O))+P[8]+1770035416&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(b^y&(A^b))+P[9]+2336552879&4294967295,O=y+(k<<12&4294967295|k>>>20),k=b+(A^O&(y^A))+P[10]+4294925233&4294967295,b=O+(k<<17&4294967295|k>>>15),k=A+(y^b&(O^y))+P[11]+2304563134&4294967295,A=b+(k<<22&4294967295|k>>>10),k=y+(O^A&(b^O))+P[12]+1804603682&4294967295,y=A+(k<<7&4294967295|k>>>25),k=O+(b^y&(A^b))+P[13]+4254626195&4294967295,O=y+(k<<12&4294967295|k>>>20),k=b+(A^O&(y^A))+P[14]+2792965006&4294967295,b=O+(k<<17&4294967295|k>>>15),k=A+(y^b&(O^y))+P[15]+1236535329&4294967295,A=b+(k<<22&4294967295|k>>>10),k=y+(b^O&(A^b))+P[1]+4129170786&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^b&(y^A))+P[6]+3225465664&4294967295,O=y+(k<<9&4294967295|k>>>23),k=b+(y^A&(O^y))+P[11]+643717713&4294967295,b=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(b^O))+P[0]+3921069994&4294967295,A=b+(k<<20&4294967295|k>>>12),k=y+(b^O&(A^b))+P[5]+3593408605&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^b&(y^A))+P[10]+38016083&4294967295,O=y+(k<<9&4294967295|k>>>23),k=b+(y^A&(O^y))+P[15]+3634488961&4294967295,b=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(b^O))+P[4]+3889429448&4294967295,A=b+(k<<20&4294967295|k>>>12),k=y+(b^O&(A^b))+P[9]+568446438&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^b&(y^A))+P[14]+3275163606&4294967295,O=y+(k<<9&4294967295|k>>>23),k=b+(y^A&(O^y))+P[3]+4107603335&4294967295,b=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(b^O))+P[8]+1163531501&4294967295,A=b+(k<<20&4294967295|k>>>12),k=y+(b^O&(A^b))+P[13]+2850285829&4294967295,y=A+(k<<5&4294967295|k>>>27),k=O+(A^b&(y^A))+P[2]+4243563512&4294967295,O=y+(k<<9&4294967295|k>>>23),k=b+(y^A&(O^y))+P[7]+1735328473&4294967295,b=O+(k<<14&4294967295|k>>>18),k=A+(O^y&(b^O))+P[12]+2368359562&4294967295,A=b+(k<<20&4294967295|k>>>12),k=y+(A^b^O)+P[5]+4294588738&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^b)+P[8]+2272392833&4294967295,O=y+(k<<11&4294967295|k>>>21),k=b+(O^y^A)+P[11]+1839030562&4294967295,b=O+(k<<16&4294967295|k>>>16),k=A+(b^O^y)+P[14]+4259657740&4294967295,A=b+(k<<23&4294967295|k>>>9),k=y+(A^b^O)+P[1]+2763975236&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^b)+P[4]+1272893353&4294967295,O=y+(k<<11&4294967295|k>>>21),k=b+(O^y^A)+P[7]+4139469664&4294967295,b=O+(k<<16&4294967295|k>>>16),k=A+(b^O^y)+P[10]+3200236656&4294967295,A=b+(k<<23&4294967295|k>>>9),k=y+(A^b^O)+P[13]+681279174&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^b)+P[0]+3936430074&4294967295,O=y+(k<<11&4294967295|k>>>21),k=b+(O^y^A)+P[3]+3572445317&4294967295,b=O+(k<<16&4294967295|k>>>16),k=A+(b^O^y)+P[6]+76029189&4294967295,A=b+(k<<23&4294967295|k>>>9),k=y+(A^b^O)+P[9]+3654602809&4294967295,y=A+(k<<4&4294967295|k>>>28),k=O+(y^A^b)+P[12]+3873151461&4294967295,O=y+(k<<11&4294967295|k>>>21),k=b+(O^y^A)+P[15]+530742520&4294967295,b=O+(k<<16&4294967295|k>>>16),k=A+(b^O^y)+P[2]+3299628645&4294967295,A=b+(k<<23&4294967295|k>>>9),k=y+(b^(A|~O))+P[0]+4096336452&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~b))+P[7]+1126891415&4294967295,O=y+(k<<10&4294967295|k>>>22),k=b+(y^(O|~A))+P[14]+2878612391&4294967295,b=O+(k<<15&4294967295|k>>>17),k=A+(O^(b|~y))+P[5]+4237533241&4294967295,A=b+(k<<21&4294967295|k>>>11),k=y+(b^(A|~O))+P[12]+1700485571&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~b))+P[3]+2399980690&4294967295,O=y+(k<<10&4294967295|k>>>22),k=b+(y^(O|~A))+P[10]+4293915773&4294967295,b=O+(k<<15&4294967295|k>>>17),k=A+(O^(b|~y))+P[1]+2240044497&4294967295,A=b+(k<<21&4294967295|k>>>11),k=y+(b^(A|~O))+P[8]+1873313359&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~b))+P[15]+4264355552&4294967295,O=y+(k<<10&4294967295|k>>>22),k=b+(y^(O|~A))+P[6]+2734768916&4294967295,b=O+(k<<15&4294967295|k>>>17),k=A+(O^(b|~y))+P[13]+1309151649&4294967295,A=b+(k<<21&4294967295|k>>>11),k=y+(b^(A|~O))+P[4]+4149444226&4294967295,y=A+(k<<6&4294967295|k>>>26),k=O+(A^(y|~b))+P[11]+3174756917&4294967295,O=y+(k<<10&4294967295|k>>>22),k=b+(y^(O|~A))+P[2]+718787259&4294967295,b=O+(k<<15&4294967295|k>>>17),k=A+(O^(b|~y))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var A=y-this.blockSize,P=this.B,b=this.h,O=0;O<y;){if(b==0)for(;O<=A;)i(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<y;)if(P[b++]=C.charCodeAt(O++),b==this.blockSize){i(this,P),b=0;break}}else for(;O<y;)if(P[b++]=C[O++],b==this.blockSize){i(this,P),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var A=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=A&255,A/=256;for(this.u(C),C=Array(16),y=A=0;4>y;++y)for(var P=0;32>P;P+=8)C[A++]=this.g[y]>>>P&255;return C};function s(C,y){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=y(C)}function o(C,y){this.h=y;for(var A=[],P=!0,b=C.length-1;0<=b;b--){var O=C[b]|0;P&&O==y||(A[b]=O,P=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(y){return new o([y|0],0>y?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return x(c(-C));for(var y=[],A=1,P=0;C>=A;P++)y[P]=C/A|0,A*=4294967296;return new o(y,0)}function d(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return x(d(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(y,8)),P=f,b=0;b<C.length;b+=8){var O=Math.min(8,C.length-b),k=parseInt(C.substring(b,b+O),y);8>O?(O=c(Math.pow(y,O)),P=P.j(O).add(c(k))):(P=P.j(A),P=P.add(c(k)))}return P}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-x(this).m();for(var C=0,y=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*y,y*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(R(this))return"-"+x(this).toString(C);for(var y=c(Math.pow(C,6)),A=this,P="";;){var b=N(A,y).g;A=T(A,b.j(y));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=b,w(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=T(this,C),R(C)?-1:w(C)?0:1};function x(C){for(var y=C.g.length,A=[],P=0;P<y;P++)A[P]=~C.g[P];return new o(A,~C.h).add(p)}t.abs=function(){return R(this)?x(this):this},t.add=function(C){for(var y=Math.max(this.g.length,C.g.length),A=[],P=0,b=0;b<=y;b++){var O=P+(this.i(b)&65535)+(C.i(b)&65535),k=(O>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);P=k>>>16,O&=65535,k&=65535,A[b]=k<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(C,y){return C.add(x(y))}t.j=function(C){if(w(this)||w(C))return f;if(R(this))return R(C)?x(this).j(x(C)):x(x(this).j(C));if(R(C))return x(this.j(x(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var y=this.g.length+C.g.length,A=[],P=0;P<2*y;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var b=0;b<C.g.length;b++){var O=this.i(P)>>>16,k=this.i(P)&65535,G=C.i(b)>>>16,de=C.i(b)&65535;A[2*P+2*b]+=k*de,E(A,2*P+2*b),A[2*P+2*b+1]+=O*de,E(A,2*P+2*b+1),A[2*P+2*b+1]+=k*G,E(A,2*P+2*b+1),A[2*P+2*b+2]+=O*G,E(A,2*P+2*b+2)}for(P=0;P<y;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=y;P<2*y;P++)A[P]=0;return new o(A,0)};function E(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function S(C,y){this.g=C,this.h=y}function N(C,y){if(w(y))throw Error("division by zero");if(w(C))return new S(f,f);if(R(C))return y=N(x(C),y),new S(x(y.g),x(y.h));if(R(y))return y=N(C,x(y)),new S(x(y.g),y.h);if(30<C.g.length){if(R(C)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var A=p,P=y;0>=P.l(C);)A=D(A),P=D(P);var b=V(A,1),O=V(P,1);for(P=V(P,2),A=V(A,2);!w(P);){var k=O.add(P);0>=k.l(C)&&(b=b.add(A),O=k),P=V(P,1),A=V(A,1)}return y=T(C,b.j(y)),new S(b,y)}for(b=f;0<=C.l(y);){for(A=Math.max(1,Math.floor(C.m()/y.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(A),k=O.j(y);R(k)||0<k.l(C);)A-=P,O=c(A),k=O.j(y);w(O)&&(O=p),b=b.add(O),C=T(C,k)}return new S(b,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var y=Math.max(this.g.length,C.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var y=Math.max(this.g.length,C.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),A=[],P=0;P<y;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function D(C){for(var y=C.g.length+1,A=[],P=0;P<y;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function V(C,y){var A=y>>5;y%=32;for(var P=C.g.length-A,b=[],O=0;O<P;O++)b[O]=0<y?C.i(O+A)>>>y|C.i(O+A+1)<<32-y:C.i(O+A);return new o(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ci=o}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sC,ma,oC,Yu,xp,aC,lC,uC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var L=u[I];if(!(L in m))break e;m=m[L]}u=u[u.length-1],I=m[u],h=h(I),h!=I&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,I=!1,L={next:function(){if(!I&&m<u.length){var M=m++;return{value:h(M,u[M]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,m){return u.call.apply(u.bind,arguments)}function f(u,h,m){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),u.apply(h,L)}}return function(){return u.apply(h,arguments)}}function p(u,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function w(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(I,L,M){for(var B=Array(arguments.length-2),we=2;we<arguments.length;we++)B[we-2]=arguments[we];return h.prototype[L].apply(I,B)}}function R(u){const h=u.length;if(0<h){const m=Array(h);for(let I=0;I<h;I++)m[I]=u[I];return m}return[]}function x(u,h){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(l(I)){const L=u.length||0,M=I.length||0;u.length=L+M;for(let B=0;B<M;B++)u[L+B]=I[B]}else u.push(I)}}class T{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(u,h,m){for(const I in u)h.call(m,u[I],I,u)}function C(u,h){for(const m in u)h.call(void 0,u[m],m,u)}function y(u){const h={};for(const m in u)h[m]=u[m];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,h){let m,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(m in I)u[m]=I[m];for(let M=0;M<A.length;M++)m=A[M],Object.prototype.hasOwnProperty.call(I,m)&&(u[m]=I[m])}}function b(u){var h=1;u=u.split(":");const m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function O(u){a.setTimeout(()=>{throw u},0)}function k(){var u=W;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class G{constructor(){this.h=this.g=null}add(h,m){const I=de.get();I.set(h,m),this.h?this.h.next=I:this.g=I,this.h=I}}var de=new T(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let se,j=!1,W=new G,q=()=>{const u=a.Promise.resolve(void 0);se=()=>{u.then(le)}};var le=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(m){O(m)}var h=de;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}j=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return u}();function Se(u,h){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(D){e:{try{N(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}w(Se,fe);var tt={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),ln=0;function Hn(u,h,m,I,L){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!I,this.ha=L,this.key=++ln,this.da=this.fa=!1}function In(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Sn(u){this.src=u,this.g={},this.h=0}Sn.prototype.add=function(u,h,m,I,L){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var B=Cn(u,h,I,L);return-1<B?(h=u[B],m||(h.fa=!1)):(h=new Hn(h,this.src,M,!!I,L),h.fa=m,u.push(h)),h};function Ar(u,h){var m=h.type;if(m in u.g){var I=u.g[m],L=Array.prototype.indexOf.call(I,h,void 0),M;(M=0<=L)&&Array.prototype.splice.call(I,L,1),M&&(In(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Cn(u,h,m,I){for(var L=0;L<u.length;++L){var M=u[L];if(!M.da&&M.listener==h&&M.capture==!!m&&M.ha==I)return L}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Ee={};function kr(u,h,m,I,L){if(I&&I.once)return $l(u,h,m,I,L);if(Array.isArray(h)){for(var M=0;M<h.length;M++)kr(u,h[M],m,I,L);return null}return m=gs(m),u&&u[nt]?u.K(h,m,c(I)?!!I.capture:!!I,L):qn(u,h,m,!1,I,L)}function qn(u,h,m,I,L,M){if(!h)throw Error("Invalid event type");var B=c(L)?!!L.capture:!!L,we=ki(u);if(we||(u[xn]=we=new Sn(u)),m=we.add(h,m,I,B,M),m.proxy)return m;if(I=Jd(),m.proxy=I,I.src=u,I.listener=m,u.addEventListener)ve||(L=B),L===void 0&&(L=!1),u.addEventListener(h.toString(),I,L);else if(u.attachEvent)u.attachEvent(Mo(h.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Jd(){function u(m){return h.call(u.src,u.listener,m)}const h=Ul;return u}function $l(u,h,m,I,L){if(Array.isArray(h)){for(var M=0;M<h.length;M++)$l(u,h[M],m,I,L);return null}return m=gs(m),u&&u[nt]?u.L(h,m,c(I)?!!I.capture:!!I,L):qn(u,h,m,!0,I,L)}function Rn(u,h,m,I,L){if(Array.isArray(h))for(var M=0;M<h.length;M++)Rn(u,h[M],m,I,L);else I=c(I)?!!I.capture:!!I,m=gs(m),u&&u[nt]?(u=u.i,h=String(h).toString(),h in u.g&&(M=u.g[h],m=Cn(M,m,I,L),-1<m&&(In(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete u.g[h],u.h--)))):u&&(u=ki(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Cn(h,m,I,L)),(m=-1<u?h[u]:null)&&Pr(m))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[nt])Ar(h.i,u);else{var m=u.type,I=u.proxy;h.removeEventListener?h.removeEventListener(m,I,u.capture):h.detachEvent?h.detachEvent(Mo(m),I):h.addListener&&h.removeListener&&h.removeListener(I),(m=ki(h))?(Ar(m,u),m.h==0&&(m.src=null,h[xn]=null)):In(u)}}}function Mo(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Ul(u,h){if(u.da)u=!0;else{h=new Se(h,this);var m=u.listener,I=u.ha||u.src;u.fa&&Pr(u),u=m.call(I,h)}return u}function ki(u){return u=u[xn],u instanceof Sn?u:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(u){return typeof u=="function"?u:(u[ms]||(u[ms]=function(h){return u.handleEvent(h)}),u[ms])}function We(){oe.call(this),this.i=new Sn(this),this.M=this,this.F=null}w(We,oe),We.prototype[nt]=!0,We.prototype.removeEventListener=function(u,h,m,I){Rn(this,u,h,m,I)};function Ye(u,h){var m,I=u.F;if(I)for(m=[];I;I=I.F)m.push(I);if(u=u.M,I=h.type||h,typeof h=="string")h=new fe(h,u);else if(h instanceof fe)h.target=h.target||u;else{var L=h;h=new fe(I,u),P(h,L)}if(L=!0,m)for(var M=m.length-1;0<=M;M--){var B=h.g=m[M];L=Bl(B,I,!0,h)&&L}if(B=h.g=u,L=Bl(B,I,!0,h)&&L,L=Bl(B,I,!1,h)&&L,m)for(M=0;M<m.length;M++)B=h.g=m[M],L=Bl(B,I,!1,h)&&L}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],I=0;I<m.length;I++)In(m[I]);delete u.g[h],u.h--}}this.F=null},We.prototype.K=function(u,h,m,I){return this.i.add(String(u),h,!1,m,I)},We.prototype.L=function(u,h,m,I){return this.i.add(String(u),h,!0,m,I)};function Bl(u,h,m,I){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==m){var we=B.listener,rt=B.ha||B.src;B.fa&&Ar(u.i,B),L=we.call(rt,I)!==!1&&L}}return L&&!I.defaultPrevented}function gv(u,h,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function vv(u){u.g=gv(()=>{u.g=null,u.i&&(u.i=!1,vv(u))},u.l);const h=u.h;u.h=null,u.m.apply(null,h)}class Wx extends oe{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:vv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(u){oe.call(this),this.h=u,this.g={}}w(Fo,oe);var yv=[];function _v(u){V(u.g,function(h,m){this.g.hasOwnProperty(m)&&Pr(h)},u),u.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),_v(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zd=a.JSON.stringify,Hx=a.JSON.parse,qx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function eh(){}eh.prototype.h=null;function Ev(u){return u.h||(u.h=u.i())}function wv(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function th(){fe.call(this,"d")}w(th,fe);function nh(){fe.call(this,"c")}w(nh,fe);var Pi={},Tv=null;function zl(){return Tv=Tv||new We}Pi.La="serverreachability";function Iv(u){fe.call(this,Pi.La,u)}w(Iv,fe);function $o(u){const h=zl();Ye(h,new Iv(h))}Pi.STAT_EVENT="statevent";function Sv(u,h){fe.call(this,Pi.STAT_EVENT,u),this.stat=h}w(Sv,fe);function Tt(u){const h=zl();Ye(h,new Sv(h,u))}Pi.Ma="timingevent";function Cv(u,h){fe.call(this,Pi.Ma,u),this.size=h}w(Cv,fe);function Uo(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function Kx(u,h,m,I,L,M){u.info(function(){if(u.g)if(M)for(var B="",we=M.split("&"),rt=0;rt<we.length;rt++){var ge=we[rt].split("=");if(1<ge.length){var ct=ge[0];ge=ge[1];var dt=ct.split("_");B=2<=dt.length&&dt[1]=="type"?B+(ct+"="+ge+"&"):B+(ct+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+h+`
`+m+`
`+B})}function Gx(u,h,m,I,L,M,B){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+h+`
`+m+`
`+M+" "+B})}function vs(u,h,m,I){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+Xx(u,m)+(I?" "+I:"")})}function Qx(u,h){u.info(function(){return"TIMEOUT: "+h})}Bo.prototype.info=function(){};function Xx(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var I=m[u];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<L.length;B++)L[B]=""}}}}return Zd(m)}catch{return h}}var Wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function Hl(){}w(Hl,eh),Hl.prototype.g=function(){return new XMLHttpRequest},Hl.prototype.i=function(){return{}},rh=new Hl;function br(u,h,m,I){this.j=u,this.i=h,this.l=m,this.R=I||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rv}function Rv(){this.i=null,this.g="",this.h=!1}var Av={},ih={};function sh(u,h,m){u.L=1,u.v=Ql(Kn(h)),u.m=m,u.P=!0,kv(u,null)}function kv(u,h){u.F=Date.now(),ql(u),u.A=Kn(u.v);var m=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),zv(m.i,"t",I),u.C=0,m=u.j.J,u.h=new Rv,u.g=ay(u.j,m?h:null,!u.m),0<u.O&&(u.M=new Wx(p(u.Y,u,u.g),u.O)),h=u.U,m=u.g,I=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(yv[0]=L.toString()),L=yv);for(var M=0;M<L.length;M++){var B=kr(m,L[M],I||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),$o(),Kx(u.i,u.u,u.A,u.l,u.R,u.m)}br.prototype.ca=function(u){u=u.target;const h=this.M;h&&Gn(u)==3?h.j():this.Y(u)},br.prototype.Y=function(u){try{if(u==this.g)e:{const dt=Gn(this.g);var h=this.g.Ba();const Es=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Xv(this.g)))){this.J||dt!=4||h==7||(h==8||0>=Es?$o(3):$o(2)),oh(this);var m=this.g.Z();this.X=m;t:if(Pv(this)){var I=Xv(this.g);u="";var L=I.length,M=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),zo(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,u+=this.h.i.decode(I[h],{stream:!(M&&h==L-1)});I.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,Gx(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,rt=this.g;if((we=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(we)){var ge=we;break t}}ge=null}if(m=ge)vs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,m);else{this.o=!1,this.s=3,Tt(12),bi(this),zo(this);break e}}if(this.P){m=!0;let un;for(;!this.J&&this.C<B.length;)if(un=Yx(this,B),un==ih){dt==4&&(this.s=4,Tt(14),m=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Av){this.s=4,Tt(15),vs(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else vs(this.i,this.l,un,null),ah(this,un);if(Pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||B.length!=0||this.h.h||(this.s=1,Tt(16),m=!1),this.o=this.o&&m,!m)vs(this.i,this.l,B,"[Invalid Chunked Response]"),bi(this),zo(this);else if(0<B.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),fh(ct),ct.M=!0,Tt(11))}}else vs(this.i,this.l,B,null),ah(this,B);dt==4&&bi(this),this.o&&!this.J&&(dt==4?ry(this.j,this):(this.o=!1,ql(this)))}else pR(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),bi(this),zo(this)}}}catch{}finally{}};function Pv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yx(u,h){var m=u.C,I=h.indexOf(`
`,m);return I==-1?ih:(m=Number(h.substring(m,I)),isNaN(m)?Av:(I+=1,I+m>h.length?ih:(h=h.slice(I,I+m),u.C=I+m,h)))}br.prototype.cancel=function(){this.J=!0,bi(this)};function ql(u){u.S=Date.now()+u.I,bv(u,u.I)}function bv(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Uo(p(u.ba,u),h)}function oh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}br.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Qx(this.i,this.A),this.L!=2&&($o(),Tt(17)),bi(this),this.s=2,zo(this)):bv(this,this.S-u)};function zo(u){u.j.G==0||u.J||ry(u.j,u)}function bi(u){oh(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,_v(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function ah(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||lh(m.h,u))){if(!u.K&&lh(m.h,u)&&m.G==3){try{var I=m.Da.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)tu(m),Zl(m);else break e;hh(m),Tt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Uo(p(m.Za,m),6e3));if(1>=Dv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Oi(m,11)}else if((u.K||m.g==u)&&tu(m),!E(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let ge=L[h];if(m.T=ge[0],ge=ge[1],m.G==2)if(ge[0]=="c"){m.K=ge[1],m.ia=ge[2];const ct=ge[3];ct!=null&&(m.la=ct,m.j.info("VER="+m.la));const dt=ge[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));const Es=ge[5];Es!=null&&typeof Es=="number"&&0<Es&&(I=1.5*Es,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const un=u.g;if(un){const ru=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var M=I.h;M.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(uh(M,M.h),M.h=null))}if(I.D){const ph=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;ph&&(I.ya=ph,xe(I.I,I.D,ph))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var B=u;if(I.qa=oy(I,I.J?I.ia:null,I.W),B.K){Lv(I.h,B);var we=B,rt=I.L;rt&&(we.I=rt),we.B&&(oh(we),ql(we)),I.g=B}else ty(I);0<m.i.length&&eu(m)}else ge[0]!="stop"&&ge[0]!="close"||Oi(m,7);else m.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Oi(m,7):dh(m):ge[0]!="noop"&&m.l&&m.l.ta(ge),m.v=0)}}$o(4)}catch{}}var Jx=class{constructor(u,h){this.g=u,this.map=h}};function Nv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ov(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Dv(u){return u.h?1:u.g?u.g.size:0}function lh(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function uh(u,h){u.g?u.g.add(h):u.h=h}function Lv(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}Nv.prototype.cancel=function(){if(this.i=Vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(const m of u.g.values())h=h.concat(m.D);return h}return R(u.i)}function Zx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,I=0;I<m;I++)h.push(u[I]);return h}h=[],m=0;for(I in u)h[m++]=u[I];return h}function eR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(const I in u)h[m++]=I;return h}}}function Mv(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=eR(u),I=Zx(u),L=I.length,M=0;M<L;M++)h.call(void 0,I[M],m&&m[M],u)}var Fv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tR(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var I=u[m].indexOf("="),L=null;if(0<=I){var M=u[m].substring(0,I);L=u[m].substring(I+1)}else M=u[m];h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ni){this.h=u.h,Kl(this,u.j),this.o=u.o,this.g=u.g,Gl(this,u.s),this.l=u.l;var h=u.i,m=new qo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),jv(this,m),this.m=u.m}else u&&(h=String(u).match(Fv))?(this.h=!1,Kl(this,h[1]||"",!0),this.o=Wo(h[2]||""),this.g=Wo(h[3]||"",!0),Gl(this,h[4]),this.l=Wo(h[5]||"",!0),jv(this,h[6]||"",!0),this.m=Wo(h[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}Ni.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Ho(h,$v,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Ho(h,$v,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Ho(m,m.charAt(0)=="/"?iR:rR,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Ho(m,oR)),u.join("")};function Kn(u){return new Ni(u)}function Kl(u,h,m){u.j=m?Wo(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Gl(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function jv(u,h,m){h instanceof qo?(u.i=h,aR(u.i,u.h)):(m||(h=Ho(h,sR)),u.i=new qo(h,u.h))}function xe(u,h,m){u.i.set(h,m)}function Ql(u){return xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wo(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ho(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,nR),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $v=/[#\/\?@]/g,rR=/[#\?:]/g,iR=/[#\?]/g,sR=/[#\?@]/g,oR=/#/g;function qo(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Nr(u){u.g||(u.g=new Map,u.h=0,u.i&&tR(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=qo.prototype,t.add=function(u,h){Nr(this),this.i=null,u=ys(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function Uv(u,h){Nr(u),h=ys(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function Bv(u,h){return Nr(u),h=ys(u,h),u.g.has(h)}t.forEach=function(u,h){Nr(this),this.g.forEach(function(m,I){m.forEach(function(L){u.call(h,L,I,this)},this)},this)},t.na=function(){Nr(this);const u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let I=0;I<h.length;I++){const L=u[I];for(let M=0;M<L.length;M++)m.push(h[I])}return m},t.V=function(u){Nr(this);let h=[];if(typeof u=="string")Bv(this,u)&&(h=h.concat(this.g.get(ys(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},t.set=function(u,h){return Nr(this),this.i=null,u=ys(this,u),Bv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function zv(u,h,m){Uv(u,h),0<m.length&&(u.i=null,u.g.set(ys(u,h),R(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var I=h[m];const M=encodeURIComponent(String(I)),B=this.V(I);for(I=0;I<B.length;I++){var L=M;B[I]!==""&&(L+="="+encodeURIComponent(String(B[I]))),u.push(L)}}return this.i=u.join("&")};function ys(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function aR(u,h){h&&!u.j&&(Nr(u),u.i=null,u.g.forEach(function(m,I){var L=I.toLowerCase();I!=L&&(Uv(this,I),zv(this,L,m))},u)),u.j=h}function lR(u,h){const m=new Bo;if(a.Image){const I=new Image;I.onload=g(Or,m,"TestLoadImage: loaded",!0,h,I),I.onerror=g(Or,m,"TestLoadImage: error",!1,h,I),I.onabort=g(Or,m,"TestLoadImage: abort",!1,h,I),I.ontimeout=g(Or,m,"TestLoadImage: timeout",!1,h,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else h(!1)}function uR(u,h){const m=new Bo,I=new AbortController,L=setTimeout(()=>{I.abort(),Or(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:I.signal}).then(M=>{clearTimeout(L),M.ok?Or(m,"TestPingServer: ok",!0,h):Or(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Or(m,"TestPingServer: error",!1,h)})}function Or(u,h,m,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(m)}catch{}}function cR(){this.g=new qx}function dR(u,h,m){const I=m||"";try{Mv(u,function(L,M){let B=L;c(L)&&(B=Zd(L)),h.push(I+M+"="+encodeURIComponent(B))})}catch(L){throw h.push(I+"type="+encodeURIComponent("_badmap")),L}}function Xl(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Xl,eh),Xl.prototype.g=function(){return new Yl(this.l,this.j)},Xl.prototype.i=function(u){return function(){return u}}({});function Yl(u,h){We.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Yl,We),t=Yl.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Go(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Ko(this):Go(this),this.readyState==3&&Wv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ko(this))},t.Qa=function(u){this.g&&(this.response=u,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Go(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function Go(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hv(u){let h="";return V(u,function(m,I){h+=I,h+=":",h+=m,h+=`\r
`}),h}function ch(u,h,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=Hv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):xe(u,h,m))}function Le(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Le,We);var hR=/^https?$/i,fR=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?Ev(this.o):Ev(rh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(M){qv(this,M);return}if(u=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)m.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const M of I.keys())m.set(M,I.get(M));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fR,h,void 0))||I||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of m)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qv(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){qv(this,M)}};function qv(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,Kv(u),Jl(u)}function Kv(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gv(this):this.bb())},t.bb=function(){Gv(this)};function Gv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Gn(u)!=4||u.Z()!=2)){if(u.u&&Gn(u)==4)gv(u.Ea,0,u);else if(Ye(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var I;if(I=B===0){var L=String(u.D).match(Fv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!hR.test(L?L.toLowerCase():"")}m=I}if(m)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var M=2<Gn(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",Kv(u)}}finally{Jl(u)}}}}function Jl(u,h){if(u.g){Qv(u);const m=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||Ye(u,"ready");try{m.onreadystatechange=I}catch{}}}function Qv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),Hx(h)}};function Xv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pR(u){const h={};u=(u.g&&2<=Gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(E(u[I]))continue;var m=b(u[I]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=h[L]||[];h[L]=M,M.push(m)}C(h,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function Yv(u){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,u),this.cb=Qo("retryDelaySeedMs",1e4,u),this.Wa=Qo("forwardChannelMaxRetries",2,u),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nv(u&&u.concurrentRequestLimit),this.Da=new cR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yv.prototype,t.la=8,t.G=1,t.connect=function(u,h,m,I){Tt(0),this.W=u,this.H=h||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=oy(this,null,this.W),eu(this)};function dh(u){if(Jv(u),u.G==3){var h=u.U++,m=Kn(u.I);if(xe(m,"SID",u.K),xe(m,"RID",h),xe(m,"TYPE","terminate"),Xo(u,m),h=new br(u,u.j,h),h.L=2,h.v=Ql(Kn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=ay(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ql(h)}sy(u)}function Zl(u){u.g&&(fh(u),u.g.cancel(),u.g=null)}function Jv(u){Zl(u),u.u&&(a.clearTimeout(u.u),u.u=null),tu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function eu(u){if(!Ov(u.h)&&!u.s){u.s=!0;var h=u.Ga;se||q(),j||(se(),j=!0),W.add(h,u),u.B=0}}function mR(u,h){return Dv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Uo(p(u.Ga,u,h),iy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new br(this,this.j,u);let M=this.o;if(this.S&&(M?(M=y(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ey(this,L,h),m=Kn(this.I),xe(m,"RID",u),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),Xo(this,m),M&&(this.O?h="headers="+encodeURIComponent(String(Hv(M)))+"&"+h:this.m&&ch(m,this.m,M)),uh(this.h,L),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",h),xe(m,"SID","null"),L.T=!0,sh(L,m,null)):sh(L,m,h),this.G=2}}else this.G==3&&(u?Zv(this,u):this.i.length==0||Ov(this.h)||Zv(this))};function Zv(u,h){var m;h?m=h.l:m=u.U++;const I=Kn(u.I);xe(I,"SID",u.K),xe(I,"RID",m),xe(I,"AID",u.T),Xo(u,I),u.m&&u.o&&ch(I,u.m,u.o),m=new br(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=ey(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),uh(u.h,m),sh(m,I,h)}function Xo(u,h){u.H&&V(u.H,function(m,I){xe(h,I,m)}),u.l&&Mv({},function(m,I){xe(h,I,m)})}function ey(u,h,m){m=Math.min(u.i.length,m);var I=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let M=-1;for(;;){const B=["count="+m];M==-1?0<m?(M=L[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let we=!0;for(let rt=0;rt<m;rt++){let ge=L[rt].g;const ct=L[rt].map;if(ge-=M,0>ge)M=Math.max(0,L[rt].g-100),we=!1;else try{dR(ct,B,"req"+ge+"_")}catch{I&&I(ct)}}if(we){I=B.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,I}function ty(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;se||q(),j||(se(),j=!0),W.add(h,u),u.v=0}}function hh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Uo(p(u.Fa,u),iy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ny(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Uo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Zl(this),ny(this))};function fh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ny(u){u.g=new br(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Kn(u.qa);xe(h,"RID","rpc"),xe(h,"SID",u.K),xe(h,"AID",u.T),xe(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&xe(h,"TO",u.ja),xe(h,"TYPE","xmlhttp"),Xo(u,h),u.m&&u.o&&ch(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Ql(Kn(h)),m.m=null,m.P=!0,kv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),hh(this),Tt(19))};function tu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ry(u,h){var m=null;if(u.g==h){tu(u),fh(u),u.g=null;var I=2}else if(lh(u.h,h))m=h.D,Lv(u.h,h),I=1;else return;if(u.G!=0){if(h.o)if(I==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=u.B;I=zl(),Ye(I,new Cv(I,m)),eu(u)}else ty(u);else if(L=h.s,L==3||L==0&&0<h.X||!(I==1&&mR(u,h)||I==2&&hh(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function iy(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function Oi(u,h){if(u.j.info("Error code "+h),h==2){var m=p(u.fb,u),I=u.Xa;const L=!I;I=new Ni(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kl(I,"https"),Ql(I),L?lR(I.toString(),m):uR(I.toString(),m)}else Tt(2);u.G=0,u.l&&u.l.sa(h),sy(u),Jv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function sy(u){if(u.G=0,u.ka=[],u.l){const h=Vv(u.h);(h.length!=0||u.i.length!=0)&&(x(u.ka,h),x(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function oy(u,h,m){var I=m instanceof Ni?Kn(m):new Ni(m);if(I.g!="")h&&(I.g=h+"."+I.g),Gl(I,I.s);else{var L=a.location;I=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var M=new Ni(null);I&&Kl(M,I),h&&(M.g=h),L&&Gl(M,L),m&&(M.l=m),I=M}return m=u.D,h=u.ya,m&&h&&xe(I,m,h),xe(I,"VER",u.la),Xo(u,I),I}function ay(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Le(new Xl({eb:m})):new Le(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ly(){}t=ly.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(u,h){return new jt(u,h)};function jt(u,h){We.call(this),this.g=new Yv(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!E(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new _s(this)}w(jt,We),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){dh(this.g)},jt.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Zd(u),u=m);h.i.push(new Jx(h.Ya++,u)),h.G==3&&eu(h)},jt.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,jt.aa.N.call(this)};function uy(u){th.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(const m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}w(uy,th);function cy(){nh.call(this),this.status=1}w(cy,nh);function _s(u){this.g=u}w(_s,ly),_s.prototype.ua=function(){Ye(this.g,"a")},_s.prototype.ta=function(u){Ye(this.g,new uy(u))},_s.prototype.sa=function(u){Ye(this.g,new cy)},_s.prototype.ra=function(){Ye(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,uC=function(){return new nu},lC=function(){return zl()},aC=Pi,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Yu=Wl,xv.COMPLETE="complete",oC=xv,wv.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",We.prototype.listen=We.prototype.K,ma=wv,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,sC=Le}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new vg("@firebase/firestore");function xs(){return is.logLevel}function z(t,...e){if(is.logLevel<=ue.DEBUG){const n=e.map(bg);is.debug(`Firestore (${Oo}): ${t}`,...n)}}function Er(t,...e){if(is.logLevel<=ue.ERROR){const n=e.map(bg);is.error(`Firestore (${Oo}): ${t}`,...n)}}function po(t,...e){if(is.logLevel<=ue.WARN){const n=e.map(bg);is.warn(`Firestore (${Oo}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function ye(t,e){t||ee()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class SF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CF{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new cC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new mt(e)}}class xF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ye(this.o===void 0);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new AF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Qe(0,0))}static max(){return new te(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=bn.isNumericId(e),i=bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bn.extractNumericId(e).compare(bn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Fe extends bn{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const bF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends bn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return bF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Fe.fromString(e))}static fromName(e){return new J(Fe.fromString(e).popFirst(5))}static empty(){return new J(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Fe(e.slice()))}}function NF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new vi(i,J.empty(),e)}function OF(t){return new vi(t.readTime,t.key,-1)}class vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vi(te.min(),J.empty(),-1)}static max(){return new vi(te.max(),J.empty(),-1)}}function DF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==LF)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function MF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dd.oe=-1;function Ld(t){return t==null}function Hc(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M0(e)),e=$F(t.get(n),e);return M0(e)}function $F(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function M0(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new st(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Xe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fC("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const UF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(ye(!!t),typeof t=="string"){let e=0;const n=UF.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vd(t){const e=t.mapValue.fields.__previous_value__;return Ng(e)?Vd(e):e}function ul(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:WF(t)?9007199254740991:zF(t)?10:11:ee()}function Bn(t,e){if(t===e)return!0;const n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ul(t).isEqual(ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=yi(i.timestampValue),a=yi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _i(i.bytesValue).isEqual(_i(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),a=je(s.doubleValue);return o===a?Hc(o)===Hc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(F0(o)!==F0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function dl(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function go(t,e){if(t===e)return 0;const n=Ei(t),r=Ei(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=je(s.integerValue||s.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(ul(t),ul(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_i(s),l=_i(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(je(s.latitude),je(o.latitude));return a!==0?a:he(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=he(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:U0(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Au.mapValue&&o===Au.mapValue)return 0;if(s===Au.mapValue)return 1;if(o===Au.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=he(l[f],d[f]);if(p!==0)return p;const g=go(a[l[f]],c[d[f]]);if(g!==0)return g}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function $0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=yi(t),r=yi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function U0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=go(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function vo(t){return Rp(t)}function Rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rp(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function Ju(t){switch(Ei(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+Ju(e):16;case 5:return 2*t.stringValue.length;case 6:return _i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ju(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return us(r.fields,(s,o)=>{i+=s.length+Ju(o)}),i}(t.mapValue);default:throw ee()}}function Ap(t){return!!t&&"integerValue"in t}function Og(t){return!!t&&"arrayValue"in t}function B0(t){return!!t&&"nullValue"in t}function z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function zF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(Na(this.value))}}function pC(t){const e=[];return us(t.fields,(n,r)=>{const i=new ot([n]);if(Zu(r)){const s=pC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,te.min(),te.min(),te.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new yt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new yt(e,2,n,te.min(),te.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,te.min(),te.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.position=e,this.inclusive=n}}function W0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=go(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class qe extends mC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KF(e,n,r):n==="array-contains"?new XF(e,r):n==="in"?new YF(e,r):n==="not-in"?new JF(e,r):n==="array-contains-any"?new ZF(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GF(e,r):new QF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return gC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gC(t){return t.op==="and"}function vC(t){return qF(t)&&gC(t)}function qF(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function kp(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(vC(t))return t.filters.map(e=>kp(e)).join(",");{const e=t.filters.map(n=>kp(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yC(o,i.filters[a]),!0):!1}(t,e):void ee()}function _C(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"}(t):"Filter"}class KF extends qe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class GF extends qe{constructor(e,n){super(e,"in",n),this.keys=EC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QF extends qe{constructor(e,n){super(e,"not-in",n),this.keys=EC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class XF extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Og(n)&&dl(n.arrayValue,this.value)}}class YF extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class JF extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dl(this.value.arrayValue,n)}}class ZF extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function q0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ej(t,e,n,r,i,s,o)}function Dg(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vo(r)).join(",")),e.ue=n}return e.ue}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function Pp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tj(t,e,n,r,i,s,o,a){return new Md(t,e,n,r,i,s,o,a)}function Vg(t){return new Md(t)}function K0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nj(t){return t.collectionGroup!==null}function Oa(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Kc(s,r))}),n.has(ot.keyField().canonicalString())||e.ce.push(new Kc(ot.keyField(),r))}return e.ce}function jn(t){const e=re(t);return e.le||(e.le=rj(e,Oa(t))),e.le}function rj(t,e){if(t.limitType==="F")return q0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kc(i.field,s)});const n=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;return q0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bp(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Lg(jn(t),jn(e))&&t.limitType===e.limitType}function wC(t){return`${Dg(jn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_C(i)).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vo(i)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=W0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,a,l){const c=W0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Oa(r),i))}(t,e)}function ij(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const i of Oa(t)){const s=sj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sj(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?go(l,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new De(J.comparator);function wr(){return oj}const IC=new De(J.comparator);function ga(...t){let e=IC;for(const n of t)e=e.insert(n.key,n);return e}function SC(t){let e=IC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zi(){return Da()}function CC(){return Da()}function Da(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const aj=new De(J.comparator),lj=new Xe(J.comparator);function ce(...t){let e=lj;for(const n of t)e=e.add(n);return e}const uj=new Xe(he);function cj(){return uj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function xC(t){return{integerValue:""+t}}function dj(t,e){return FF(e)?xC(e):Mg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this._=void 0}}function hj(t,e,n){return t instanceof hl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ng(s)&&(s=Vd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof fl?AC(t,e):t instanceof pl?kC(t,e):function(i,s){const o=RC(i,s),a=G0(o)+G0(i.Pe);return Ap(o)&&Ap(i.Pe)?xC(a):Mg(i.serializer,a)}(t,e)}function fj(t,e,n){return t instanceof fl?AC(t,e):t instanceof pl?kC(t,e):n}function RC(t,e){return t instanceof Gc?function(r){return Ap(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hl extends $d{}class fl extends $d{constructor(e){super(),this.elements=e}}function AC(t,e){const n=PC(e);for(const r of t.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class pl extends $d{constructor(e){super(),this.elements=e}}function kC(t,e){let n=PC(e);for(const r of t.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class Gc extends $d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G0(t){return je(t.integerValue||t.doubleValue)}function PC(t){return Og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.field=e,this.transform=n}}function mj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fl&&i instanceof fl||r instanceof pl&&i instanceof pl?mo(r.elements,i.elements,Bn):r instanceof Gc&&i instanceof Gc?Bn(r.Pe,i.Pe):r instanceof hl&&i instanceof hl}(t.transform,e.transform)}class gj{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function bC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new OC(t.key,cr.none()):new Ol(t.key,t.data,cr.none());{const n=t.data,r=Jt.empty();let i=new Xe(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new vn(i.toArray()),cr.none())}}function vj(t,e,n){t instanceof Ol?function(i,s,o){const a=i.value.clone(),l=X0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=X0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function La(t,e,n,r){return t instanceof Ol?function(s,o,a,l){if(!ec(s.precondition,o))return a;const c=s.value.clone(),d=Y0(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,a,l){if(!ec(s.precondition,o))return a;const c=Y0(s.fieldTransforms,l,o),d=o.data;return d.setAll(NC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RC(r.transform,i||null);s!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function Q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>mj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X0(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fj(o,a,n[i]))}return r}function Y0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hj(s,o,e))}return r}class OC extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _j extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>Q0(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>Q0(n,r))}}class Fg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return aj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,pe;function Ij(t){switch(t){default:return ee();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function DC(t){if(t===void 0)return Er("GRPC error has no .code"),$.UNKNOWN;switch(t){case Be.OK:return $.OK;case Be.CANCELLED:return $.CANCELLED;case Be.UNKNOWN:return $.UNKNOWN;case Be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Be.INTERNAL:return $.INTERNAL;case Be.UNAVAILABLE:return $.UNAVAILABLE;case Be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Be.NOT_FOUND:return $.NOT_FOUND;case Be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Be.ABORTED:return $.ABORTED;case Be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Be.DATA_LOSS:return $.DATA_LOSS;default:return ee()}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new ci([4294967295,4294967295],0);function J0(t){const e=Sj().encode(t),n=new iC;return n.update(e),new Uint8Array(n.digest())}function Z0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ci([n,r],0),new ci([i,s],0)]}class jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(r<0)throw new va(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ci.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ci.fromNumber(r)));return i.compare(Cj)===1&&(i=new ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=J0(e),[r,i]=Z0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ee(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=J0(e),[r,i]=Z0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bd(te.min(),i,new De(he),wr(),ce())}}class Dl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dl(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LC{constructor(e,n){this.targetId=e,this.me=n}}class VC{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eE{constructor(){this.fe=0,this.ge=tE(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Dl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xj{constructor(e){this.Be=e,this.Le=new Map,this.ke=wr(),this.qe=ku(),this.Qe=ku(),this.Ke=new De(he)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Pp(s))if(r===0){const o=new J(s.path);this.We(n,o,yt.newNoDocument(o,te.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_i(r).toUint8Array()}catch(l){if(l instanceof fC)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jg(o,i,s)}catch(l){return po(l instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Pp(a.target)){const l=new J(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,yt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bd(e,n,this.Ke,this.ke,r);return this.ke=wr(),this.qe=ku(),this.Qe=ku(),this.Ke=new De(he),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new eE,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Xe(he),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(he),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new eE),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function ku(){return new De(J.comparator)}function tE(){return new De(J.comparator)}const Rj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Aj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),kj=(()=>({and:"AND",or:"OR"}))();class Pj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bj(t,e){return Qc(t,e.toTimestamp())}function $n(t){return ye(!!t),te.fromTimestamp(function(n){const r=yi(n);return new Qe(r.seconds,r.nanos)}(t))}function $g(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FC(t){const e=Fe.fromString(t);return ye(zC(e)),e}function Dp(t,e){return $g(t.databaseId,e.path)}function nf(t,e){const n=FC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J($C(n))}function jC(t,e){return $g(t.databaseId,e)}function Nj(t){const e=FC(t);return e.length===4?Fe.emptyPath():$C(e)}function Lp(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nE(t,e,n){return{name:Dp(t,e),fields:n.value.mapValue.fields}}function Oj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ye(d===void 0||typeof d=="string"),ut.fromBase64String(d||"")):(ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ut.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:DC(c.code);return new Y(d,c.message||"")}(o);n=new VC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nf(t,r.document.name),s=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):te.min(),a=new Jt({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nf(t,r.document),s=r.readTime?$n(r.readTime):te.min(),o=yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nf(t,r.document),s=r.removedTargetIds||[];n=new tc([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Tj(i,s),a=r.targetId;n=new LC(a,o)}}return n}function Dj(t,e){let n;if(e instanceof Ol)n={update:nE(t,e.key,e.value)};else if(e instanceof OC)n={delete:Dp(t,e.key)};else if(e instanceof ds)n={update:nE(t,e.key,e.data),updateMask:zj(e.fieldMask)};else{if(!(e instanceof _j))return ee();n={verify:Dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function Lj(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$n(i.updateTime):$n(s);return o.isEqual(te.min())&&(o=$n(s)),new gj(o,i.transformResults||[])}(n,e))):[]}function Vj(t,e){return{documents:[jC(t,e.path)]}}function Mj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jC(t,i);const s=function(c){if(c.length!==0)return BC(zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:As(p.field),direction:$j(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Np(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function Fj(t){let e=Nj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=UC(f);return p instanceof zn&&vC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new Kc(ks(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ld(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new qc(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new qc(g,p)}(n.endAt)),tj(e,i,o,s,a,"F",l,c)}function jj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ks(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ks(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ks(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ks(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>UC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function $j(t){return Rj[t]}function Uj(t){return Aj[t]}function Bj(t){return kj[t]}function As(t){return{fieldPath:t.canonicalString()}}function ks(t){return ot.fromServerFormat(t.fieldPath)}function BC(t){return t instanceof qe?function(n){if(n.op==="=="){if(z0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(B0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(B0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:Uj(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>BC(i));return r.length===1?r[0]:{compositeFilter:{op:Bj(n.op),filters:r}}}(t):ee()}function zj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.ht=e}}function Hj(t){const e=Fj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.ln=new Kj}addToCollectionParentIndex(e,n){return this.ln.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(vi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Kj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(41943040,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new yo(0)}static Qn(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class Gj{constructor(e){this.Gn=e,this.buffer=new Xe(iE),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Yn(3e5)})}}class Xj{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Dd.oe);const r=new Gj(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(rE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),xs()<=ue.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Yj(t,e){return new Xj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&La(r.mutation,i,vn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ga();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wr();const o=Da(),a=function(){return Da()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ds)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),La(d.mutation,c,d.mutation.getFieldMask(),Qe.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new Zj(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Da();let i=new De((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=CC();d.forEach(p=>{if(!s.has(p)){const g=bC(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(zi());let a=-1,l=s;return o.next(c=>F.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(d=>({batchId:a,changes:SC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ga();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(f,p){return new Md(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,yt.newInvalidDocument(d)))});let a=ga();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&La(d.mutation,c,vn.empty(),Qe.now()),jd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return F.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:Hj(i.bundledQuery),readTime:$n(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.overlays=new De(J.comparator),this.dr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=zi(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=zi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wj(n,r));let s=this.dr.get(n);s===void 0&&(s=ce(),this.dr.set(n,s)),this.dr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.Er=new Xe(Je.Ar),this.Rr=new Xe(Je.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Je(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new J(new Fe([])),r=new Je(n,e),i=new Je(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new J(new Fe([])),r=new Je(n,e),i=new Je(n,e+1);let s=ce();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return J.comparator(e.key,n.key)||he(e.br,n.br)}static Vr(e,n){return he(e.br,n.br)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Xe(Je.Ar)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ej(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(he);return n.forEach(i=>{const s=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),F.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new Je(new J(s),0);let a=new Xe(he);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),F.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return F.forEach(n.mutations,i=>{const s=new Je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Je(n,0),i=this.vr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.Nr=e,this.docs=function(){return new De(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||DF(OF(d),r)<=0||(i.has(d.key)||jd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Br(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o$(this)}getSize(e){return F.resolve(this.size)}}class o$ extends Jj{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.persistence=e,this.Lr=new cs(n=>Dg(n),Lg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ug,this.targetCount=0,this.Qr=yo.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),F.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Un(n),F.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Lr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Lr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Dd(0),this.Ur=!1,this.Ur=!0,this.Wr=new r$,this.referenceDelegate=e(this),this.Gr=new a$(this),this.indexManager=new qj,this.remoteDocumentCache=function(i){return new s$(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Wj(n),this.jr=new t$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new i$(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new l$(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return F.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class l$ extends VF{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Zr=new Ug,this.Xr=null}static ei(e){return new Bg(e)}get ti(){if(this.Xr)return this.Xr;throw ee()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),F.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ti,r=>{const i=J.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return F.or([()=>F.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Xc{constructor(e,n){this.persistence=e,this.ri=new cs(r=>jF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Yj(this,n)}static ei(e,n){return new Xc(e,n)}Hr(){}Jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return F.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Br(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ju(e.data.value)),n}ir(e,n,r){return F.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return N2()?8:MF(wt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new u$;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(xs()<=ue.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),F.resolve()):(xs()<=ue.DEBUG&&z("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(xs()<=ue.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):F.resolve())}Xi(e,n){if(K0(n))return F.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,bp(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return K0(n)||i.isEqual(te.min())?F.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?F.resolve(null):(xs()<=ue.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(n)),this.os(e,o,n,NF(i,-1)).next(a=>a))})}rs(e,n){let r=new Xe(TC(e));return n.forEach((i,s)=>{jd(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return xs()<=ue.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,vi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new De(he),this.cs=new cs(s=>Dg(s),Lg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e$(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function h$(t,e,n,r){return new d$(t,e,n,r)}async function HC(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function f$(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=F.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(R=>{const x=c.docVersions.get(w);ye(x!==null),R.version.compareTo(x)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qC(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function p$(t,e){const n=re(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ut.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(R,x,T){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,d)&&a.push(n.Gr.updateTargetData(s,g))});let l=wr(),c=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(m$(s,o,e.documentUpdates).next(d=>{l=d.Is,c=d.ds})),!r.isEqual(te.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(f=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function m$(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,ds:i}})}function g$(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v$(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Vp(t,e,n){const r=re(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lo(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function sE(t,e,n){const r=re(t);let i=te.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=re(l),p=f.cs.get(d);return p!==void 0?F.resolve(f.us.get(p)):f.Gr.getTargetData(c,d)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ce())).next(a=>(y$(r,ij(e),a),{documents:a,Es:s})))}function y$(t,e,n){let r=t.ls.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class oE{constructor(){this.activeTargetIds=cj()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _${constructor(){this._o=new oE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new oE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function rf(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class I$ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=rf(),l=this.No(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(c,s,o),this.Lo(n,l,c,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=w$[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const s=rf();return new Promise((o,a)=>{const l=new sC;l.setWithCredentials(!0),l.listenOnce(oC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yu.NO_ERROR:const d=l.getResponseJson();z(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Yu.TIMEOUT:z(pt,`RPC '${e}' ${s} timed out`),a(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const f=l.getStatus();if(z(pt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(g.status);a(new Y(w,g.message))}else a(new Y($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y($.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z(pt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);z(pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=rf(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uC(),a=lC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");z(pt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const w=new T$({Eo:x=>{g?z(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(z(pt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),z(pt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Ao:()=>f.close()}),R=(x,T,E)=>{x.listen(T,S=>{try{E(S)}catch(N){setTimeout(()=>{throw N},0)}})};return R(f,ma.EventType.OPEN,()=>{g||(z(pt,`RPC '${e}' stream ${i} transport opened.`),w.So())}),R(f,ma.EventType.CLOSE,()=>{g||(g=!0,z(pt,`RPC '${e}' stream ${i} transport closed`),w.Do())}),R(f,ma.EventType.ERROR,x=>{g||(g=!0,po(pt,`RPC '${e}' stream ${i} transport errored:`,x),w.Do(new Y($.UNAVAILABLE,"The operation could not be completed")))}),R(f,ma.EventType.MESSAGE,x=>{var T;if(!g){const E=x.data[0];ye(!!E);const S=E,N=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(N){z(pt,`RPC '${e}' stream ${i} received error:`,N);const D=N.status;let V=function(A){const P=Be[A];if(P!==void 0)return DC(P)}(D),C=N.message;V===void 0&&(V=$.INTERNAL,C="Unknown error status: "+D+" with message "+N.message),g=!0,w.Do(new Y(V,C)),f.close()}else z(pt,`RPC '${e}' stream ${i} received:`,E),w.vo(E)}}),R(a,aC.STAT_EVENT,x=>{x.stat===xp.PROXY?z(pt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===xp.NOPROXY&&z(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new Pj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new KC(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S$ extends GC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Oj(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?$n(o.readTime):te.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Lp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Pp(l)?{documents:Vj(s,l)}:{query:Mj(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MC(s,o.resumeToken);const c=Np(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Qc(s,o.snapshotVersion.toTimestamp());const c=Np(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=jj(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Lp(this.serializer),n.removeTarget=e,this.c_(n)}}class C$ extends GC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=Lj(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Lp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Dj(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Op(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y($.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Op(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class R${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Er(n),this.C_=!1):z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{hs(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=re(l);c.k_.add(4),await Ll(c),c.K_.set("Unknown"),c.k_.delete(4),await Wd(c)}(this))})}),this.K_=new R$(r,i)}}async function Wd(t){if(hs(t))for(const e of t.q_)await e(!0)}async function Ll(t){for(const e of t.q_)await e(!1)}function QC(t,e){const n=re(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Kg(n)?qg(n):Vo(n).s_()&&Hg(n,e))}function Wg(t,e){const n=re(t),r=Vo(n);n.L_.delete(e),r.s_()&&XC(n,e),n.L_.size===0&&(r.s_()?r.a_():hs(n)&&n.K_.set("Unknown"))}function Hg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).V_(e)}function XC(t,e){t.U_.xe(e),Vo(t).m_(e)}function qg(t){t.U_=new xj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.K_.F_()}function Kg(t){return hs(t)&&!Vo(t).i_()&&t.L_.size>0}function hs(t){return re(t).k_.size===0}function YC(t){t.U_=void 0}async function k$(t){t.K_.set("Online")}async function P$(t){t.L_.forEach((e,n)=>{Hg(t,e)})}async function b$(t,e){YC(t),Kg(t)?(t.K_.O_(e),qg(t)):t.K_.set("Unknown")}async function N$(t,e,n){if(t.K_.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.L_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.L_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yc(t,r)}else if(e instanceof tc?t.U_.$e(e):e instanceof LC?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(te.min()))try{const r=await qC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.L_.get(c);d&&s.L_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.L_.get(l);if(!d)return;s.L_.set(l,d.withResumeToken(ut.EMPTY_BYTE_STRING,d.snapshotVersion)),XC(s,l);const f=new Xr(d.target,l,c,d.sequenceNumber);Hg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await Yc(t,r)}}async function Yc(t,e,n){if(!Lo(e))throw e;t.k_.add(1),await Ll(t),t.K_.set("Offline"),n||(n=()=>qC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Wd(t)})}function JC(t,e){return e().catch(n=>Yc(t,n,e))}async function Hd(t){const e=re(t),n=wi(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;O$(e);)try{const i=await g$(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,D$(e,i)}catch(i){await Yc(e,i)}ZC(e)&&ex(e)}function O$(t){return hs(t)&&t.B_.length<10}function D$(t,e){t.B_.push(e);const n=wi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function ZC(t){return hs(t)&&!wi(t).i_()&&t.B_.length>0}function ex(t){wi(t).start()}async function L$(t){wi(t).w_()}async function V$(t){const e=wi(t);for(const n of t.B_)e.g_(n.mutations)}async function M$(t,e,n){const r=t.B_.shift(),i=Fg.from(r,e,n);await JC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function F$(t,e){e&&wi(t).f_&&await async function(r,i){if(function(o){return Ij(o)&&o!==$.ABORTED}(i.code)){const s=r.B_.shift();wi(r).__(),await JC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hd(r)}}(t,e),ZC(t)&&ex(t)}async function lE(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=hs(n);n.k_.add(3),await Ll(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Wd(n)}async function j$(t,e){const n=re(t);e?(n.k_.delete(2),await Wd(n)):e||(n.k_.add(2),await Ll(n),n.K_.set("Unknown"))}function Vo(t){return t.W_||(t.W_=function(n,r,i){const s=re(n);return s.b_(),new S$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:k$.bind(null,t),mo:P$.bind(null,t),po:b$.bind(null,t),R_:N$.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Kg(t)?qg(t):t.K_.set("Unknown")):(await t.W_.stop(),YC(t))})),t.W_}function wi(t){return t.G_||(t.G_=function(n,r,i){const s=re(n);return s.b_(),new C$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:L$.bind(null,t),po:F$.bind(null,t),p_:V$.bind(null,t),y_:M$.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Hd(t)):(await t.G_.stop(),t.B_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Gg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Lo(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.z_=new De(J.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _o(e,n,Zs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class U${constructor(){this.queries=cE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=cE(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function cE(){return new cs(t=>wC(t),Fd)}async function B$(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new $$,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Qg(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Xg(n)}async function z$(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W$(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Xg(n)}function H$(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Xg(t){t.X_.forEach(e=>{e.next()})}var Mp,dE;(dE=Mp||(Mp={})).na="default",dE.Cache="cache";class q${constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.key=e}}class nx{constructor(e){this.key=e}}class K${constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ce(),this.mutatedKeys=ce(),this.Va=TC(e),this.ma=new Zs(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new uE,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=jd(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?w!==R&&(r.track({type:3,doc:g}),x=!0):this.ya(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Va(g,l)>0||c&&this.Va(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,f)=>function(g,w){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return R(g)-R(w)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new _o(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ce(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new nx(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new tx(r))}),n}va(e){this.Ea=e.Es,this.Ra=ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return _o.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class G${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Q${constructor(e){this.key=e,this.Fa=!1}}class X${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new cs(a=>wC(a),Fd),this.Oa=new Map,this.Na=new Set,this.Ba=new De(J.comparator),this.La=new Map,this.ka=new Ug,this.qa={},this.Qa=new Map,this.Ka=yo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Y$(t,e,n=!0){const r=lx(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await rx(r,e,n,!0),i}async function J$(t,e){const n=lx(t);await rx(n,e,!0,!1)}async function rx(t,e,n,r){const i=await v$(t.localStore,jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Z$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&QC(t.remoteStore,i),a}async function Z$(t,e,n,r,i){t.Ua=(f,p,g)=>async function(R,x,T,E){let S=x.view.ga(T);S.ss&&(S=await sE(R.localStore,x.query,!1).then(({documents:C})=>x.view.ga(C,S)));const N=E&&E.targetChanges.get(x.targetId),D=E&&E.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(S,R.isPrimaryClient,N,D);return fE(R,x.targetId,V.ba),V.snapshot}(t,f,p,g);const s=await sE(t.localStore,e,!0),o=new K$(e,s.Es),a=o.ga(s.documents),l=Dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fE(t,n,c.ba);const d=new G$(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function e4(t,e,n){const r=re(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Fd(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wg(r.remoteStore,i.targetId),Fp(r,i.targetId)}).catch(Do)):(Fp(r,i.targetId),await Vp(r.localStore,i.targetId,!0))}async function t4(t,e){const n=re(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wg(n.remoteStore,r.targetId))}async function n4(t,e,n){const r=u4(t);try{const i=await function(o,a){const l=re(o),c=Qe.now(),d=a.reduce((g,w)=>g.add(w.key),ce());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=wr(),R=ce();return l.hs.getEntries(g,d).next(x=>{w=x,w.forEach((T,E)=>{E.isValidDocument()||(R=R.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(x=>{f=x;const T=[];for(const E of a){const S=yj(E,f.get(E.key).overlayedDocument);S!=null&&T.push(new ds(E.key,S,pC(S.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,T,a)}).next(x=>{p=x;const T=x.applyToLocalDocumentSet(f,R);return l.documentOverlayCache.saveOverlays(g,x.batchId,T)})}).then(()=>({batchId:p.batchId,changes:SC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new De(he)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vl(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=Qg(i,"Failed to persist write");n.reject(s)}}async function ix(t,e){const n=re(t);try{const r=await p$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.La.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?ye(o.Fa):i.removedDocuments.size>0&&(ye(o.Fa),o.Fa=!1))}),await Vl(n,r,e)}catch(r){await Do(r)}}function hE(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.J_)p.ea(a)&&(c=!0)}),c&&Xg(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r4(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),s=i&&i.key;if(s){let o=new De(J.comparator);o=o.insert(s,yt.newNoDocument(s,te.min()));const a=ce().add(s),l=new Bd(te.min(),new Map,new De(he),o,a);await ix(r,l),r.Ba=r.Ba.remove(s),r.La.delete(e),Yg(r)}else await Vp(r.localStore,e,!1).then(()=>Fp(r,e,n)).catch(Do)}async function i4(t,e){const n=re(t),r=e.batch.batchId;try{const i=await f$(n.localStore,e);ox(n,r,null),sx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,i)}catch(i){await Do(i)}}async function s4(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ye(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);ox(r,e,n),sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vl(r,i)}catch(i){await Do(i)}}function sx(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function ox(t,e,n){const r=re(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||ax(t,r)})}function ax(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(Wg(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),Yg(t))}function fE(t,e,n){for(const r of n)r instanceof tx?(t.ka.addReference(r.key,e),o4(t,r)):r instanceof nx?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||ax(t,r.key)):ee()}function o4(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Na.add(r),Yg(t))}function Yg(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new J(Fe.fromString(e)),r=t.Ka.next();t.La.set(r,new Q$(n)),t.Ba=t.Ba.insert(n,r),QC(t.remoteStore,new Xr(jn(Vg(n.path)),r,"TargetPurposeLimboResolution",Dd.oe))}}async function Vl(t,e,n){const r=re(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=zg.zi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const d=re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,p=>F.forEach(p.Wi,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>F.forEach(p.Gi,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Lo(f))throw f;z("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.us.get(p),w=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(w);d.us=d.us.insert(p,R)}}}(r.localStore,s))}async function a4(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await HC(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vl(n,r.Ts)}}function l4(t,e){const n=re(t),r=n.La.get(e);if(r&&r.Fa)return ce().add(r.key);{let i=ce();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function lx(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r4.bind(null,e),e.Ma.R_=W$.bind(null,e.eventManager),e.Ma.Wa=H$.bind(null,e.eventManager),e}function u4(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s4.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return h$(this.persistence,new c$,e.initialUser,this.serializer)}ja(e){return new WC(Bg.ei,this.serializer)}za(e){return new _$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class c4 extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ye(this.persistence.referenceDelegate instanceof Xc);const r=this.persistence.referenceDelegate.garbageCollector;return new Qj(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new WC(r=>Xc.ei(r,n),this.serializer)}}class jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await j$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U$}()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=function(s){return new I$(s)}(e.databaseInfo);return function(s,o,a,l){return new x$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new A$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return aE.p()?new aE:new E$}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new X$(i,s,o,a,l,c);return d&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);z("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Ll(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=dC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f4(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lE(e.remoteStore,i)),t._onlineComponents=e}async function f4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new Jc)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await of(t,new c4(void 0));return t._offlineComponents}async function ux(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await pE(t,new jp))),t._onlineComponents}function p4(t){return ux(t).then(e=>e.syncEngine)}async function m4(t){const e=await ux(t),n=e.eventManager;return n.onListen=Y$.bind(null,e.syncEngine),n.onUnlisten=e4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t4.bind(null,e.syncEngine),n}function g4(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new d4({next:p=>{d.eu(),o.enqueueAndForget(()=>z$(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new q$(Vg(a.path),d,{includeMetadataChanges:!0,ua:!0});return B$(s,f)}(await m4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y4(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gE(t){if(!J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function ml(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IF;switch(r.type){case"firstParty":return new RF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mE.get(n);r&&(z("ComponentProvider","Removing Datastore"),mE.delete(n),r.terminate())}(this),Promise.resolve()}}function _4(t,e,n,r={}){var i;const s=(t=ml(t,Zg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=C2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new SF(new cC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ev(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class gl extends ev{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new J(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function Ml(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=dC.newId()),v4("doc","path",e),t instanceof Zg){const r=Fe.fromString(e,...n);return gE(r),new tn(t,null,new J(r))}{if(!(t instanceof tn||t instanceof gl))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return gE(r),new tn(t.firestore,t instanceof gl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new KC(this,"async_queue_retry"),this.fu=()=>{const r=sf();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new di;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Lo(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Gg.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.Eu.push(i),i}pu(){this.Au&&ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class tv extends Zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function E4(t,e){const n=typeof t=="object"?t:ES(),r=typeof t=="string"?t:e||"(default)",i=_g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=I2("firestore");s&&_4(i,...s)}return i}function dx(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w4(t),t._firestoreClient}function w4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new BF(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new h4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(ut.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^__.*__$/;class I4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}function hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ov{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(hx(this.Mu)&&T4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class S4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}$u(e,n,r,i=!1){return new ov({Mu:e,methodName:n,Ku:r,path:ot.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C4(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new S4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x4(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);gx("Data must be an object, but it was:",o,r);const a=px(r,o);let l,c;if(s.merge)l=new vn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=R4(e,f,n);if(!o.contains(p))throw new Y($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);k4(d,p)||d.push(p)}l=new vn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new I4(new Jt(a),l,c)}class av extends rv{_toFieldTransform(e){return new pj(e.path,new hl)}isEqual(e){return e instanceof av}}function fx(t,e){if(mx(t=Ft(t)))return gx("Unsupported field value:",e,t),px(t,e);if(t instanceof rv)return function(r,i){if(!hx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fx(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:Qc(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(i.serializer,s)}}if(r instanceof iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:MC(i.serializer,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$g(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Mg(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Jg(r)}`)}(t,e)}function px(t,e){const n={};return hC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(t,(r,i)=>{const s=fx(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof iv||t instanceof Eo||t instanceof tn||t instanceof rv||t instanceof sv)}function gx(t,e,n){if(!mx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function R4(t,e,n){if((e=Ft(e))instanceof nv)return e._internalPath;if(typeof e=="string")return vx(t,e);throw Zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const A4=new RegExp("[~\\*/\\[\\]]");function vx(t,e,n){if(e.search(A4)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nv(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function k4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_x("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends yx{data(){return super.data()}}function _x(t,e){return typeof e=="string"?vx(t,e):e instanceof nv?e._internalPath:e._delegate._internalPath}class b4{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return us(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new sv(s)}convertGeoPoint(e){return new iv(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const n=yi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);ye(zC(r));const i=new cl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ex extends yx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new D4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_x("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class D4 extends Ex{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){t=ml(t,tn);const e=ml(t.firestore,tv);return g4(dx(e),t._key).then(n=>M4(e,t,n))}class L4 extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function lv(t,e,n){t=ml(t,tn);const r=ml(t.firestore,tv),i=N4(t.converter,e,n);return V4(r,[x4(C4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function V4(t,e){return function(r,i){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>n4(await p4(r),i,s)),s.promise}(dx(t),e)}function M4(t,e,n){const r=n.docs.get(e._key),i=new L4(t);return new Ex(t,i,e._key,r,new O4(n.hasPendingWrites,n.fromCache),e.converter)}function F4(){return new av("serverTimestamp")}(function(e,n=!0){(function(i){Oo=i})(bo),ho(new ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tv(new CF(r.getProvider("auth-internal")),new kF(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ui(V0,"4.7.6",e),ui(V0,"4.7.6","esm2017")})();const j4={apiKey:"your_actual_api_key_here",authDomain:"your_auth_domain_here",projectId:"your_project_id_here",storageBucket:"your_storage_bucket_here",messagingSenderId:"your_messaging_sender_id_here",appId:"your_app_id_here",measurementId:"your_measurement_id_here"},uv=_S(j4),Vr=vF(uv),Fl=E4(uv),$4=new tr,U4=async()=>{try{const{getAnalytics:t,isSupported:e}=await rC(()=>import("./index.esm-81c07f42.js"),[]);if(await e()){const n=t(uv);return console.log("Analytics initialized successfully"),n}else return console.log("Analytics not supported in this environment"),null}catch(t){return console.error("Error initializing analytics:",t),null}};function fs(t){this._maxSize=t,this.clear()}fs.prototype.clear=function(){this._size=0,this._values=Object.create(null)};fs.prototype.get=function(t){return this._values[t]};fs.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var B4=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Tx=/^\d+$/,z4=/^\d/,W4=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,H4=/^\s*(['"]?)(.*?)(\1)\s*$/,cv=512,_E=new fs(cv),EE=new fs(cv),wE=new fs(cv),Gi={Cache:fs,split:$p,normalizePath:af,setter:function(t){var e=af(t);return EE.get(t)||EE.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=af(t);return wE.get(t)||wE.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(dv(n)||Tx.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){q4(Array.isArray(t)?t:$p(t),e,n)}};function af(t){return _E.get(t)||_E.set(t,$p(t).map(function(e){return e.replace(H4,"$2")}))}function $p(t){return t.match(B4)||[""]}function q4(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Q4(i)&&(i='"'+i+'"'),a=dv(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function dv(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function K4(t){return t.match(z4)&&!t.match(Tx)}function G4(t){return W4.test(t)}function Q4(t){return!dv(t)&&(K4(t)||G4(t))}const X4=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,qd=t=>t.match(X4)||[],Kd=t=>t[0].toUpperCase()+t.slice(1),hv=(t,e)=>qd(t).join(e).toLowerCase(),Ix=t=>qd(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Y4=t=>Kd(Ix(t)),J4=t=>hv(t,"_"),Z4=t=>hv(t,"-"),eU=t=>Kd(hv(t," ")),tU=t=>qd(t).map(Kd).join(" ");var lf={words:qd,upperFirst:Kd,camelCase:Ix,pascalCase:Y4,snakeCase:J4,kebabCase:Z4,sentenceCase:eU,titleCase:tU},fv={exports:{}};fv.exports=function(t){return Sx(nU(t),t)};fv.exports.array=Sx;function Sx(t,e){var n=t.length,r=new Array(n),i={},s=n,o=rU(e),a=iU(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,d,f){if(f.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var g=o.get(c)||new Set;if(g=Array.from(g),d=g.length){f.add(c);do{var w=g[--d];l(w,a.get(w),f)}while(d);f.delete(c)}r[--n]=c}}}function nU(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function rU(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function iU(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var sU=fv.exports;const oU=To(sU),aU=Object.prototype.toString,lU=Error.prototype.toString,uU=RegExp.prototype.toString,cU=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dU=/^Symbol\((.*)\)(.*)$/;function hU(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function TE(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return hU(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return cU.call(t).replace(dU,"Symbol($1)");const r=aU.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+lU.call(t)+"]":r==="RegExp"?uU.call(t):null}function dr(t,e){let n=TE(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=TE(this[r],e);return s!==null?s:i},2)}function Cx(t){return t==null?[]:[].concat(t)}let xx,Rx,Ax,fU=/\$\{\s*(\w+)\s*\}/g;xx=Symbol.toStringTag;class IE{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[xx]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Cx(e).forEach(s=>{if(Pt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Rx=Symbol.hasInstance;Ax=Symbol.toStringTag;class Pt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(fU,(i,s)=>dr(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new IE(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Ax]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Pt)}static[Rx](e){return IE[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Nn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${dr(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${dr(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${dr(n,!0)}\``+i}},Rt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Mr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Up={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Bp={isValue:"${path} field must be ${value}"},nc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rc={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},pU={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${dr(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${dr(n,!0)}\``}return Pt.formatError(Nn.notType,t)}};Object.assign(Object.create(null),{mixed:Nn,string:Rt,number:Mr,date:Up,object:nc,array:rc,boolean:Bp,tuple:pU});const Gd=t=>t&&t.__isYupSchema__;class ed{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new ed(e,(a,l)=>{var c;let d=o(...a)?i:s;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Gd(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const bu={context:"$",value:"."};function mU(t,e){return new Ai(t,e)}class Ai{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bu.context,this.isValue=this.key[0]===bu.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?bu.context:this.isValue?bu.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Gi.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ai.prototype.__isYupRef=!0;const yn=t=>t==null;function Cs(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:w,context:R,abortEarly:x=o.spec.abortEarly,disableStackTrace:T=o.spec.disableStackTrace}=i;function E(b){return Ai.isRef(b)?b.getValue(n,w,R):b}function S(b={}){const O=Object.assign({value:n,originalValue:s,label:o.spec.label,path:b.path||r,spec:o.spec,disableStackTrace:b.disableStackTrace||T},f,b.params);for(const G of Object.keys(O))O[G]=E(O[G]);const k=new Pt(Pt.formatError(b.message||p,O),n,O.path,b.type||c,O.disableStackTrace);return k.params=O,k}const N=x?a:l;let D={path:r,parent:w,type:c,from:i.from,createError:S,resolve:E,options:i,originalValue:s,schema:o};const V=b=>{Pt.isError(b)?N(b):b?l(null):N(S())},C=b=>{Pt.isError(b)?N(b):a(b)};if(g&&yn(n))return V(!0);let A;try{var P;if(A=d.call(D,n,D),typeof((P=A)==null?void 0:P.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(V,C)}}catch(b){C(b);return}V(A)}return e.OPTIONS=t,e}function gU(t,e,n,r=n){let i,s,o;return e?(Gi.forEach(e,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let f=t.type==="tuple",p=c?parseInt(d,10):0;if(t.innerType||f){if(f&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class td extends Set{describe(){const e=[];for(const n of this.values())e.push(Ai.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new td(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function zs(t,e=new Map){if(Gd(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=zs(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,zs(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(zs(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=zs(i,e)}else throw Error(`Unable to clone ${t}`);return n}class qt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new td,this._blacklist=new td,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Nn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=zs(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&yn(s))return s;let o=dr(e),a=dr(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,d=R=>{i||(i=!0,n(R,o))},f=R=>{i||(i=!0,r(R,o))},p=s.length,g=[];if(!p)return f([]);let w={value:o,originalValue:a,path:l,options:c,schema:this};for(let R=0;R<s.length;R++){const x=s[R];x(w,d,function(E){E&&(Array.isArray(E)?g.push(...E):g.push(E)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(c,d,p,g)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{Pt.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Pt(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Pt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Pt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Pt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Pt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):zs(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Cs({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Cs({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Nn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Nn.notNull){return this.nullability(!1,e)}required(e=Nn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Nn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Cs(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Cx(e).map(s=>new Ai(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new ed(i,n):ed.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Cs({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Nn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Cs({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Nn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Cs({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(f=>f.name===l.name)===c)}}}qt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])qt.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=gU(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])qt.prototype[t]=qt.prototype.oneOf;for(const t of["not","nope"])qt.prototype[t]=qt.prototype.notOneOf;function kx(){return new Px}class Px extends qt{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Bp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return yn(n)||n===!0}})}isFalse(e=Bp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return yn(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}kx.prototype=Px.prototype;const vU=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function yU(t){const e=zp(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function zp(t){var e,n;const r=vU.exec(t);return r?{year:Qn(r[1]),month:Qn(r[2],1)-1,day:Qn(r[3],1),hour:Qn(r[4]),minute:Qn(r[5]),second:Qn(r[6]),millisecond:r[7]?Qn(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Qn(r[10]),minuteOffset:Qn(r[11])}:null}function Qn(t,e=0){return Number(t)||e}let _U=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,EU=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,wU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,TU="^\\d{4}-\\d{2}-\\d{2}",IU="\\d{2}:\\d{2}:\\d{2}",SU="(([+-]\\d{2}(:?\\d{2})?)|Z)",CU=new RegExp(`${TU}T${IU}(\\.\\d+)?${SU}$`),xU=t=>yn(t)||t===t.trim(),RU={}.toString();function ke(){return new bx}class bx extends qt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===RU?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Nn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Rt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Rt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Rt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Rt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Rt.email){return this.matches(_U,{name:"email",message:e,excludeEmptyString:!0})}url(e=Rt.url){return this.matches(EU,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Rt.uuid){return this.matches(wU,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(CU,{name:"datetime",message:n||Rt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Rt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=zp(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Rt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=zp(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Rt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:xU})}lowercase(e=Rt.lowercase){return this.transform(n=>yn(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yn(n)||n===n.toLowerCase()})}uppercase(e=Rt.uppercase){return this.transform(n=>yn(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yn(n)||n===n.toUpperCase()})}}ke.prototype=bx.prototype;let AU=t=>t!=+t;function Wi(){return new Nx}class Nx extends qt{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!AU(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Mr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Mr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Mr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Mr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Mr.positive){return this.moreThan(0,e)}negative(e=Mr.negative){return this.lessThan(0,e)}integer(e=Mr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>yn(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>yn(i)?i:Math[e](i))}}Wi.prototype=Nx.prototype;let Ox=new Date(""),kU=t=>Object.prototype.toString.call(t)==="[object Date]";function wo(){return new jl}class jl extends qt{constructor(){super({type:"date",check(e){return kU(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=yU(e),isNaN(e)?jl.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ai.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Up.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Up.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}jl.INVALID_DATE=Ox;wo.prototype=jl.prototype;wo.INVALID_DATE=Ox;function PU(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Gi.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Ai.isRef(a)&&a.isSibling?s(a.path,o):Gd(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return oU.array(Array.from(r),n).reverse()}function SE(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Dx(t){return(e,n)=>SE(t,e)-SE(t,n)}const Lx=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function ic(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=ic(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ic(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ic)}):"optional"in t?t.optional():t}const bU=(t,e)=>{const n=[...Gi.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Gi.getter(Gi.join(n),!0)(t);return!!(i&&r in i)};let CE=t=>Object.prototype.toString.call(t)==="[object Object]";function xE(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const NU=Dx([]);function hi(t){return new Vx(t)}class Vx extends qt{constructor(e){super({type:"object",check(n){return CE(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=NU,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const f of a){let p=s[f],g=f in i;if(p){let w,R=i[f];c.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:R,context:n.context,parent:l});let x=p instanceof qt?p.spec:void 0,T=x==null?void 0:x.strict;if(x!=null&&x.strip){d=d||f in i;continue}w=!n.__validating||!T?p.cast(i[f],c):i[f],w!==void 0&&(l[f]=w)}else g&&!o&&(l[f]=i[f]);(g!==f in l||l[f]!==i[f])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!CE(c)){i(l,c);return}o=o||c;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||Ai.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:c,originalValue:o,options:n},r,f=>{i(f.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=PU(e,n),r._sortErrors=Dx(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return ic(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Gi.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return bU(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Lx)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||nc.exact,test(n){if(n==null)return!0;const r=xE(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=nc.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=xE(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=nc.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(lf.camelCase)}snakeCase(){return this.transformKeys(lf.snakeCase)}constantCase(){return this.transformKeys(e=>lf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}hi.prototype=Vx.prototype;function nd(t){return new Mx(t)}class Mx extends qt{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(i=!0),l});return i?s:r}_validate(e,n={},r,i){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,c)=>{var d;if(!a||!o||!this._typeCheck(c)){i(l,c);return}let f=new Array(c.length);for(let g=0;g<c.length;g++){var p;f[g]=o.asNestedTest({options:n,index:g,parent:c,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:c,tests:f,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>i(g.concat(l),c))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(Lx)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Gd(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+dr(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=rc.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||rc.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||rc.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=n.innerType.describe(s)}return r}}nd.prototype=Mx.prototype;hi().shape({name:ke().trim().required("Product name is required"),price:Wi().positive("Price must be positive").required("Price is required"),description:ke().trim().required("Description is required"),image:ke().url("Invalid image URL").required("Image URL is required"),category:ke().trim().required("Category is required"),ingredients:nd().of(ke().trim()),allergens:nd().of(ke().trim()),stock:Wi().integer().min(0,"Stock must be at least 0").required("Stock is required")});hi().shape({email:ke().email("Invalid email").required("Email is required"),displayName:ke().trim(),isAdmin:kx(),createdAt:wo().required("Creation date is required"),updatedAt:wo()});hi().shape({userId:ke().required("User ID is required"),userEmail:ke().email("Invalid email").required("User email is required"),items:nd().of(hi().shape({productId:ke().required("Product ID is required"),quantity:Wi().integer().min(1,"Quantity must be at least 1").required("Quantity is required"),price:Wi().positive("Price must be positive").required("Price is required"),name:ke().trim().required("Product name is required")})).required("Items are required"),status:ke().oneOf(["pending","processing","shipped","delivered","cancelled"]).required("Status is required"),subtotal:Wi().positive("Subtotal must be positive").required("Subtotal is required"),total:Wi().positive("Total must be positive").required("Total is required"),createdAt:wo().required("Creation date is required"),updatedAt:wo(),shippingAddress:hi().shape({street:ke().trim().required("Street is required"),city:ke().trim().required("City is required"),state:ke().trim().required("State is required"),postalCode:ke().trim().required("Postal code is required"),country:ke().trim().required("Country is required")})});const OU=async(t,e)=>{try{await lv(Ml(Fl,"users",t),e)}catch(n){throw console.error("Error creating user profile:",n),n}},RE=async(t,e)=>{try{const n=Ml(Fl,"wishlists",t);await lv(n,{items:e},{merge:!0})}catch(n){throw console.error("Error updating wishlist:",n),n}},DU=async t=>{try{const e=Ml(Fl,"wishlists",t),n=await wx(e);return n.exists()?n.data().items:[]}catch(e){throw console.error("Error getting wishlist:",e),e}},LU=async t=>{const e=Ml(Fl,"carts",t),n=await wx(e);return n.exists()?n.data():{items:[]}},uf=async(t,e)=>{await lv(Ml(Fl,"carts",t),{userId:t,items:e,updatedAt:F4()})};function Fx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Fx(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Yr(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Fx(t))&&(r&&(r+=" "),r+=e);return r}const Va=t=>typeof t=="number"&&!isNaN(t),ss=t=>typeof t=="string",Nt=t=>typeof t=="function",sc=t=>ss(t)||Nt(t)?t:null,cf=t=>v.isValidElement(t)||ss(t)||Nt(t)||Va(t);function VU(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Qd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:p}=o;const g=r?`${e}--${l}`:e,w=r?`${n}--${l}`:n,R=v.useRef(0);return v.useLayoutEffect(()=>{const x=f.current,T=g.split(" "),E=S=>{S.target===f.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",E),x.removeEventListener("animationcancel",E),R.current===0&&S.type!=="animationcancel"&&x.classList.remove(...T))};x.classList.add(...T),x.addEventListener("animationend",E),x.addEventListener("animationcancel",E)},[]),v.useEffect(()=>{const x=f.current,T=()=>{x.removeEventListener("animationend",T),i?VU(x,d,s):d()};p||(c?T():(R.current=1,x.className+=` ${w}`,x.addEventListener("animationend",T)))},[p]),ne.createElement(ne.Fragment,null,a)}}function AE(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Qt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Nu=t=>{let{theme:e,type:n,...r}=t;return ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},df={info:function(t){return ne.createElement(Nu,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ne.createElement(Nu,{...t},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ne.createElement(Nu,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ne.createElement(Nu,{...t},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ne.createElement("div",{className:"Toastify__spinner"})}};function MU(t){const[,e]=v.useReducer(g=>g+1,0),[n,r]=v.useState([]),i=v.useRef(null),s=v.useRef(new Map).current,o=g=>n.indexOf(g)!==-1,a=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:g=>s.get(g)}).current;function l(g){let{containerId:w}=g;const{limit:R}=a.props;!R||w&&a.containerId!==w||(a.count-=a.queue.length,a.queue=[])}function c(g){r(w=>g==null?[]:w.filter(R=>R!==g))}function d(){const{toastContent:g,toastProps:w,staleId:R}=a.queue.shift();p(g,w,R)}function f(g,w){let{delay:R,staleId:x,...T}=w;if(!cf(g)||function(O){return!i.current||a.props.enableMultiContainer&&O.containerId!==a.props.containerId||s.has(O.toastId)&&O.updateId==null}(T))return;const{toastId:E,updateId:S,data:N}=T,{props:D}=a,V=()=>c(E),C=S==null;C&&a.count++;const y={...D,style:D.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(T).filter(O=>{let[k,G]=O;return G!=null})),toastId:E,updateId:S,data:N,closeToast:V,isIn:!1,className:sc(T.className||D.toastClassName),bodyClassName:sc(T.bodyClassName||D.bodyClassName),progressClassName:sc(T.progressClassName||D.progressClassName),autoClose:!T.isLoading&&(A=T.autoClose,P=D.autoClose,A===!1||Va(A)&&A>0?A:P),deleteToast(){const O=AE(s.get(E),"removed");s.delete(E),Qt.emit(4,O);const k=a.queue.length;if(a.count=E==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),k>0){const G=E==null?a.props.limit:1;if(k===1||G===1)a.displayedToast++,d();else{const de=G>k?k:G;a.displayedToast=de;for(let Z=0;Z<de;Z++)d()}}else e()}};var A,P;y.iconOut=function(O){let{theme:k,type:G,isLoading:de,icon:Z}=O,se=null;const j={theme:k,type:G};return Z===!1||(Nt(Z)?se=Z(j):v.isValidElement(Z)?se=v.cloneElement(Z,j):ss(Z)||Va(Z)?se=Z:de?se=df.spinner():(W=>W in df)(G)&&(se=df[G](j))),se}(y),Nt(T.onOpen)&&(y.onOpen=T.onOpen),Nt(T.onClose)&&(y.onClose=T.onClose),y.closeButton=D.closeButton,T.closeButton===!1||cf(T.closeButton)?y.closeButton=T.closeButton:T.closeButton===!0&&(y.closeButton=!cf(D.closeButton)||D.closeButton);let b=g;v.isValidElement(g)&&!ss(g.type)?b=v.cloneElement(g,{closeToast:V,toastProps:y,data:N}):Nt(g)&&(b=g({closeToast:V,toastProps:y,data:N})),D.limit&&D.limit>0&&a.count>D.limit&&C?a.queue.push({toastContent:b,toastProps:y,staleId:x}):Va(R)?setTimeout(()=>{p(b,y,x)},R):p(b,y,x)}function p(g,w,R){const{toastId:x}=w;R&&s.delete(R);const T={content:g,props:w};s.set(x,T),r(E=>[...E,x].filter(S=>S!==R)),Qt.emit(4,AE(T,T.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(a.containerId=t.containerId,Qt.cancelEmit(3).on(0,f).on(1,g=>i.current&&c(g)).on(5,l).emit(2,a),()=>{s.clear(),Qt.emit(3,a)}),[]),v.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(g){const w=new Map,R=Array.from(s.values());return t.newestOnTop&&R.reverse(),R.forEach(x=>{const{position:T}=x.props;w.has(T)||w.set(T,[]),w.get(T).push(x)}),Array.from(w,x=>g(x[0],x[1]))},containerRef:i,isToastActive:o}}function kE(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function PE(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function FU(t){const[e,n]=v.useState(!1),[r,i]=v.useState(!1),s=v.useRef(null),o=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=v.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:d,onClick:f,closeOnClick:p}=t;function g(N){if(t.draggable){N.nativeEvent.type==="touchstart"&&N.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",T),document.addEventListener("mouseup",E),document.addEventListener("touchmove",T),document.addEventListener("touchend",E);const D=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=D.getBoundingClientRect(),D.style.transition="",o.x=kE(N.nativeEvent),o.y=PE(N.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=D.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=D.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function w(N){if(o.boundingRect){const{top:D,bottom:V,left:C,right:y}=o.boundingRect;N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=C&&o.x<=y&&o.y>=D&&o.y<=V?x():R()}}function R(){n(!0)}function x(){n(!1)}function T(N){const D=s.current;o.canDrag&&D&&(o.didMove=!0,e&&x(),o.x=kE(N),o.y=PE(N),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),D.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,D.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",E);const N=s.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();N.style.transition="transform 0.2s, opacity 0.2s",N.style.transform=`translate${t.draggableDirection}(0)`,N.style.opacity="1"}}v.useEffect(()=>{a.current=t}),v.useEffect(()=>(s.current&&s.current.addEventListener("d",R,{once:!0}),Nt(t.onOpen)&&t.onOpen(v.isValidElement(t.children)&&t.children.props),()=>{const N=a.current;Nt(N.onClose)&&N.onClose(v.isValidElement(N.children)&&N.children.props)}),[]),v.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",R),window.removeEventListener("blur",x))}),[t.pauseOnFocusLoss]);const S={onMouseDown:g,onTouchStart:g,onMouseUp:w,onTouchEnd:w};return l&&c&&(S.onMouseEnter=x,S.onMouseLeave=R),p&&(S.onClick=N=>{f&&f(N),o.canCloseOnClick&&d()}),{playToast:R,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:S}}function jx(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function jU(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:p}=t;const g=s||l&&c===0,w={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};l&&(w.transform=`scaleX(${c})`);const R=Yr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=Nt(o)?o({rtl:d,type:i,defaultClassName:R}):Yr(R,o);return ne.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:w,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&r()}})}const $U=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=FU(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:d,closeToast:f,transition:p,position:g,className:w,style:R,bodyClassName:x,bodyStyle:T,progressClassName:E,progressStyle:S,updateId:N,role:D,progress:V,rtl:C,toastId:y,deleteToast:A,isIn:P,isLoading:b,iconOut:O,closeOnClick:k,theme:G}=t,de=Yr("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":k}),Z=Nt(w)?w({rtl:C,position:g,type:c,defaultClassName:de}):Yr(de,w),se=!!V||!a,j={closeToast:f,type:c,theme:G};let W=null;return s===!1||(W=Nt(s)?s(j):v.isValidElement(s)?v.cloneElement(s,j):jx(j)),ne.createElement(p,{isIn:P,done:A,position:g,preventExitTransition:n,nodeRef:r},ne.createElement("div",{id:y,onClick:l,className:Z,...i,style:R,ref:r},ne.createElement("div",{...P&&{role:D},className:Nt(x)?x({type:c}):Yr("Toastify__toast-body",x),style:T},O!=null&&ne.createElement("div",{className:Yr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!b})},O),ne.createElement("div",null,o)),W,ne.createElement(jU,{...N&&!se?{key:`pb-${N}`}:{},rtl:C,theme:G,delay:a,isRunning:e,isIn:P,closeToast:f,hide:d,type:c,style:S,className:E,controlledProgress:se,progress:V||0})))},Xd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},UU=Qd(Xd("bounce",!0));Qd(Xd("slide",!0));Qd(Xd("zoom"));Qd(Xd("flip"));const Wp=v.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=MU(t),{className:s,style:o,rtl:a,containerId:l}=t;function c(d){const f=Yr("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return Nt(s)?s({position:d,rtl:a,defaultClassName:f}):Yr(f,sc(s))}return v.useEffect(()=>{e&&(e.current=r.current)},[]),ne.createElement("div",{ref:r,className:"Toastify",id:l},n((d,f)=>{const p=f.length?{...o}:{...o,pointerEvents:"none"};return ne.createElement("div",{className:c(d),style:p,key:`container-${d}`},f.map((g,w)=>{let{content:R,props:x}=g;return ne.createElement($U,{...x,isIn:i(x.toastId),style:{...x.style,"--nth":w+1,"--len":f.length},key:`toast-${x.key}`},R)}))}))});Wp.displayName="ToastContainer",Wp.defaultProps={position:"top-right",transition:UU,autoClose:5e3,closeButton:jx,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let hf,Mi=new Map,ya=[],BU=1;function $x(){return""+BU++}function zU(t){return t&&(ss(t.toastId)||Va(t.toastId))?t.toastId:$x()}function Ma(t,e){return Mi.size>0?Qt.emit(0,t,e):ya.push({content:t,options:e}),e.toastId}function rd(t,e){return{...e,type:e&&e.type||t,toastId:zU(e)}}function Ou(t){return(e,n)=>Ma(e,rd(t,n))}function Te(t,e){return Ma(t,rd("default",e))}Te.loading=(t,e)=>Ma(t,rd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Te.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=ss(i)?Te.loading(i,n):Te.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,p)=>{if(f==null)return void Te.dismiss(r);const g={type:d,...a,...n,data:p},w=ss(f)?{render:f}:f;return r?Te.update(r,{...g,...w}):Te(w.render,{...g,...w}),p},c=Nt(t)?t():t;return c.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),c},Te.success=Ou("success"),Te.info=Ou("info"),Te.error=Ou("error"),Te.warning=Ou("warning"),Te.warn=Te.warning,Te.dark=(t,e)=>Ma(t,rd("default",{theme:"dark",...e})),Te.dismiss=t=>{Mi.size>0?Qt.emit(1,t):ya=ya.filter(e=>t!=null&&e.options.toastId!==t)},Te.clearWaitingQueue=function(t){return t===void 0&&(t={}),Qt.emit(5,t)},Te.isActive=t=>{let e=!1;return Mi.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Te.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Mi.get(s||hf);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:$x()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Ma(o,s)}},0)},Te.done=t=>{Te.update(t,{progress:1})},Te.onChange=t=>(Qt.on(4,t),()=>{Qt.off(4,t)}),Te.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Te.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Qt.on(2,t=>{hf=t.containerId||t,Mi.set(hf,t),ya.forEach(e=>{Qt.emit(0,e.content,e.options)}),ya=[]}).on(3,t=>{Mi.delete(t.containerId||t),Mi.size===0&&Qt.off(0).off(1).off(5)});const ie={success:t=>Te.success(t),error:t=>Te.error(t),info:t=>Te.info(t),warning:t=>Te.warning(t)},Ux=v.createContext(),ps=()=>v.useContext(Ux),WU=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!0);async function s(p,g,w){try{const R=await eM(Vr,p,g);return await S0(R.user,{displayName:w}),await OU(R.user.uid,{email:p,displayName:w}),ie.success("Account created successfully!"),R}catch(R){throw ie.error(R.message),R}}async function o(p,g){try{const w=await tM(Vr,p,g);return ie.success("Logged in successfully!"),w}catch(w){throw ie.error(w.message),w}}async function a(){try{await oM(Vr),ie.success("Logged out successfully")}catch(p){throw ie.error(p.message),p}}async function l(p){try{await ZV(Vr,p),ie.success("Password reset email sent")}catch(g){throw ie.error(g.message),g}}async function c(p){try{await S0(Vr.currentUser,p),n(g=>({...g,...p})),ie.success("Profile updated successfully")}catch(g){throw ie.error(g.message),g}}async function d(){try{const p=await xM(Vr,$4);return ie.success("Signed in with Google successfully!"),p}catch(p){throw ie.error(p.message),p}}v.useEffect(()=>sM(Vr,g=>{n(g),i(!1)}),[]);const f={currentUser:e,signup:s,login:o,logout:a,resetPassword:l,updateUserProfile:c,signInWithGoogle:d,loading:r};return _.jsx(Ux.Provider,{value:f,children:!r&&t})};function HU({products:t}){const[e,n]=v.useState(""),[r,i]=v.useState([]),s=xi(),o=a=>{if(n(a),a.trim()===""){i([]);return}const l=t.filter(c=>c.name.toLowerCase().includes(a.toLowerCase())||c.description.toLowerCase().includes(a.toLowerCase())).slice(0,5);i(l)};return _.jsxs("div",{className:"position-relative",children:[_.jsx(Ie,{className:"d-flex mx-3",children:_.jsx(Ie.Control,{type:"search",placeholder:"Search products...",value:e,onChange:a=>o(a.target.value),className:"me-2"})}),r.length>0&&e&&_.jsx(e0,{className:"position-absolute w-100 mt-1",children:r.map(a=>_.jsx(e0.Item,{action:!0,onClick:()=>{s(`/product/${a.id}`),n(""),i([])},children:a.name},a.id))})]})}function qU({products:t}){const{currentUser:e,logout:n}=ps(),r=xi(),i=async()=>{try{await n(),ie.success("Logged out successfully"),r("/")}catch{ie.error("Failed to log out")}};return _.jsx(Iu,{bg:"light",expand:"lg",fixed:"top",children:_.jsxs(Wt,{children:[_.jsx(Iu.Brand,{as:hn,to:"/",children:"Deleen's Home Bake"}),_.jsx(Iu.Toggle,{"aria-controls":"basic-navbar-nav"}),_.jsxs(Iu.Collapse,{id:"basic-navbar-nav",children:[_.jsxs(Xn,{className:"me-auto",children:[_.jsx(Xn.Link,{as:hn,to:"/",children:"Home"}),_.jsx(Xn.Link,{as:hn,to:"/cart",children:"Cart"}),_.jsx(Xn.Link,{as:hn,to:"/wishlist",children:"Wishlist"}),_.jsx(Xn.Link,{as:hn,to:"/feedback",children:"Feedback"})]}),_.jsx(HU,{products:t,className:"d-flex"}),_.jsx(Xn,{children:e?_.jsxs(Su,{title:e.email,id:"basic-nav-dropdown",children:[_.jsx(Su.Item,{as:hn,to:"/profile",children:"Profile"}),_.jsx(Su.Divider,{}),_.jsx(Su.Item,{onClick:i,children:"Logout"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Xn.Link,{as:hn,to:"/login",children:"Login"}),_.jsx(Xn.Link,{as:hn,to:"/signup",children:"Sign Up"})]})})]})]})})}const Bx=v.createContext(),Yd=()=>v.useContext(Bx),KU=({children:t})=>{const[e,n]=v.useState([]),{currentUser:r}=ps();v.useEffect(()=>{r&&i()},[r]);const i=async()=>{if(r)try{const c=await LU(r.uid);n(c.items||[])}catch(c){console.error("Error loading cart:",c),ie.error("Failed to load cart")}},l={cartItems:e,addToCart:async(c,d=1)=>{try{const f=[...e],p=f.find(g=>g.id===c.id);p?p.quantity+=d:f.push({...c,quantity:d}),n(f),r&&await uf(r.uid,f),ie.success("Added to cart!")}catch(f){console.error("Error adding to cart:",f),ie.error("Failed to add to cart")}},removeFromCart:async c=>{try{const d=e.filter(f=>f.id!==c);n(d),r&&await uf(r.uid,d),ie.success("Removed from cart")}catch(d){console.error("Error removing from cart:",d),ie.error("Failed to remove from cart")}},updateQuantity:async(c,d)=>{try{const f=e.map(p=>p.id===c?{...p,quantity:d}:p);n(f),r&&await uf(r.uid,f)}catch(f){console.error("Error updating quantity:",f),ie.error("Failed to update quantity")}},loadCart:i};return _.jsx(Bx.Provider,{value:l,children:t})},zx=v.createContext(),pv=()=>v.useContext(zx),GU=({children:t})=>{const[e,n]=v.useState([]),{currentUser:r}=ps(),i=v.useCallback(async()=>{try{const l=await DU(r.uid);n(l)}catch(l){console.error("Failed to load wishlist:",l),ie.error("Failed to load wishlist")}},[r]);v.useEffect(()=>{r?i():n([])},[r,i]);const a={wishlistItems:e,addToWishlist:async l=>{if(!r){ie.error("Please log in to add items to your wishlist");return}try{const c=[...e,l];n(c),await RE(r.uid,c),ie.success("Added to wishlist")}catch(c){console.error("Failed to add to wishlist:",c),ie.error("Failed to add to wishlist")}},removeFromWishlist:async l=>{try{const c=e.filter(d=>d.id!==l);n(c),await RE(r.uid,c),ie.success("Removed from wishlist")}catch(c){console.error("Failed to remove from wishlist:",c),ie.error("Failed to remove from wishlist")}}};return _.jsx(zx.Provider,{value:a,children:t})};function mv({quantity:t,onChange:e,max:n=99}){const r=i=>{const s=Math.min(Math.max(1,Number(i.target.value)),n);e(s)};return _.jsxs(aD,{size:"sm",children:[_.jsx(Ge,{variant:"outline-secondary",onClick:()=>t>1&&e(t-1),children:"-"}),_.jsx(Ie.Control,{type:"number",min:"1",max:n,value:t,onChange:r,style:{maxWidth:"60px",textAlign:"center"}}),_.jsx(Ge,{variant:"outline-secondary",onClick:()=>t<n&&e(t+1),children:"+"})]})}function QU(){return _.jsx("div",{className:"hero-section",style:{backgroundImage:"url(/path/to/your/image.jpg)",backgroundSize:"cover",backgroundPosition:"center",padding:"100px 0",color:"#fff",textAlign:"center"},children:_.jsx(Wt,{})})}function XU({products:t}){const{addToCart:e}=Yd(),{addToWishlist:n}=pv(),[r,i]=v.useState({}),s=(a,l)=>{i(c=>({...c,[a]:l}))},o=a=>r[a]||1;return _.jsxs(_.Fragment,{children:[_.jsx(QU,{}),_.jsxs(Wt,{children:[_.jsx("h1",{className:"mt-4 mb-4",children:"Our Products"}),_.jsx(mg,{children:t.map(a=>_.jsx(il,{md:4,className:"mb-4",children:_.jsxs(Me,{className:"h-100",style:{transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}},children:[_.jsx(Me.Img,{variant:"top",src:a.image}),_.jsxs(Me.Body,{children:[_.jsx(Me.Title,{children:a.name}),_.jsxs(Me.Text,{children:["$",a.price]}),_.jsx(Me.Text,{children:a.description}),_.jsx("div",{className:"mb-3",children:_.jsx(mv,{quantity:o(a.id),onChange:l=>s(a.id,l)})}),_.jsxs("div",{className:"d-flex justify-content-between",children:[_.jsx(Ge,{onClick:()=>e(a,o(a.id)),variant:"primary",children:"Add to Cart"}),_.jsx(Ge,{variant:"outline-primary",onClick:()=>n(a),children:" Wishlist"})]})]})]})},a.id))})]})]})}function YU(){const{cartItems:t,updateQuantity:e,removeFromCart:n}=Yd(),r=t.reduce((i,s)=>i+s.price*s.quantity,0);return t.length===0?_.jsx(Wt,{className:"py-5 text-center",children:_.jsx("h2",{children:"Your cart is empty"})}):_.jsxs(Wt,{className:"py-5",children:[_.jsx("h2",{children:"Shopping Cart"}),_.jsxs(h2,{responsive:!0,children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Product"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Quantity"}),_.jsx("th",{children:"Total"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:t.map(i=>_.jsxs("tr",{children:[_.jsx("td",{children:i.name}),_.jsxs("td",{children:["$",i.price]}),_.jsx("td",{children:_.jsx(mv,{quantity:i.quantity,onChange:s=>e(i.id,s)})}),_.jsxs("td",{children:["$",(i.price*i.quantity).toFixed(2)]}),_.jsx("td",{children:_.jsx(Ge,{variant:"danger",size:"sm",onClick:()=>n(i.id),children:"Remove"})})]},i.id))}),_.jsx("tfoot",{children:_.jsxs("tr",{children:[_.jsx("td",{colSpan:"3",className:"text-end",children:_.jsx("strong",{children:"Total:"})}),_.jsxs("td",{children:["$",r.toFixed(2)]}),_.jsx("td",{})]})})]})]})}function JU(){const{wishlistItems:t,removeFromWishlist:e}=pv(),{addToCart:n}=Yd();return t.length===0?_.jsx(Wt,{className:"py-5 text-center",children:_.jsx("h2",{children:"Your wishlist is empty"})}):_.jsxs(Wt,{className:"py-5",children:[_.jsx("h2",{children:"My Wishlist"}),_.jsx(mg,{children:t.map(r=>_.jsx(il,{md:4,className:"mb-4",children:_.jsxs(Me,{children:[_.jsx(Me.Img,{variant:"top",src:r.image}),_.jsxs(Me.Body,{children:[_.jsx(Me.Title,{children:r.name}),_.jsxs(Me.Text,{children:["$",r.price]}),_.jsxs("div",{className:"d-flex justify-content-between",children:[_.jsx(Ge,{variant:"primary",onClick:()=>n(r),children:"Add to Cart"}),_.jsx(Ge,{variant:"outline-danger",onClick:()=>e(r.id),children:"Remove"})]})]})]})},r.id))})]})}function ZU({products:t}){const{id:e}=vP(),n=xi(),{addToCart:r}=Yd(),{addToWishlist:i}=pv(),[s,o]=v.useState(1),a=t.find(l=>l.id===parseInt(e));return a?_.jsxs(Wt,{className:"py-5",children:[_.jsx(Ge,{variant:"secondary",onClick:()=>n(-1),className:"mb-4",children:"Back"}),_.jsxs(mg,{children:[_.jsx(il,{md:6,children:_.jsx(Me.Img,{src:a.image,alt:a.name})}),_.jsxs(il,{md:6,children:[_.jsx("h2",{children:a.name}),_.jsxs("h3",{className:"text-primary",children:["$",a.price]}),_.jsx("p",{children:a.description}),_.jsx("div",{className:"mb-3",children:_.jsx(mv,{quantity:s,onChange:o})}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(Ge,{onClick:()=>r(a,s),children:"Add to Cart"}),_.jsx(Ge,{variant:"outline-primary",onClick:()=>i(a),children:"Add to Wishlist"})]})]})]})]}):_.jsx(Wt,{children:"Product not found"})}function e9(){const{currentUser:t,updateUserProfile:e,resetPassword:n,logout:r}=ps(),[i,s]=v.useState(!1),[o,a]=v.useState((t==null?void 0:t.displayName)||""),[l]=v.useState([{id:1,date:"2024-01-15",total:56.97,status:"Delivered"},{id:2,date:"2024-01-10",total:29.99,status:"Processing"}]),c=xi(),d=async g=>{g.preventDefault();try{s(!0),await e({displayName:o}),ie.success("Profile updated successfully")}catch{ie.error("Failed to update profile")}finally{s(!1)}},f=async()=>{try{s(!0),await n(t.email),ie.success("Password reset email sent")}catch{ie.error("Failed to send password reset email")}finally{s(!1)}},p=async()=>{try{await r(),c("/")}catch(g){console.error("Failed to log out:",g)}};return _.jsxs(Wt,{className:"py-4",children:[_.jsx("h2",{className:"mb-4",children:"My Profile"}),_.jsxs(m2,{defaultActiveKey:"profile",className:"mb-4",children:[_.jsx(s0,{eventKey:"profile",title:"Profile",children:_.jsx(Me,{children:_.jsxs(Me.Body,{children:[_.jsxs(Ie,{onSubmit:d,children:[_.jsxs(Ie.Group,{className:"mb-3",children:[_.jsx(Ie.Label,{children:"Email"}),_.jsx(Ie.Control,{type:"email",value:t.email,disabled:!0})]}),_.jsxs(Ie.Group,{className:"mb-3",children:[_.jsx(Ie.Label,{children:"Display Name"}),_.jsx(Ie.Control,{type:"text",value:o,onChange:g=>a(g.target.value)})]}),_.jsx(Ge,{type:"submit",disabled:i,children:"Update Profile"}),_.jsx(Ge,{variant:"link",onClick:f,disabled:i,children:"Reset Password"})]}),_.jsx(Ge,{variant:"danger",onClick:p,children:"Log Out"})]})})}),_.jsx(s0,{eventKey:"orders",title:"Order History",children:_.jsx(Me,{children:_.jsx(Me.Body,{children:l.length>0?l.map(g=>_.jsx(Me,{className:"mb-3",children:_.jsxs(Me.Body,{children:[_.jsxs(Me.Title,{children:["Order #",g.id]}),_.jsxs(Me.Text,{children:["Date: ",g.date,_.jsx("br",{}),"Total: $",g.total,_.jsx("br",{}),"Status: ",g.status]}),_.jsx(Ge,{variant:"outline-primary",size:"sm",children:"View Details"})]})},g.id)):_.jsx("p",{children:"No orders found"})})})})]})]})}const t9=hi().shape({email:ke().email("Invalid email").required("Email is required"),password:ke().required("Password is required")});function n9(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(!1),{login:o,signInWithGoogle:a,resetPassword:l}=ps(),c=xi();async function d(g){g.preventDefault();try{await t9.validate({email:t,password:n}),s(!0),await o(t,n),ie.success("Welcome back!"),c("/")}catch(w){console.error("Login error:",w),ie.error(w.message)}finally{s(!1)}}const f=async()=>{try{s(!0),await a(),ie.success("Successfully signed in with Google!"),c("/")}catch(g){console.error("Google sign in error:",g),ie.error("Failed to sign in with Google")}finally{s(!1)}};async function p(){if(!t)return ie.error("Please enter your email address");try{await l(t),ie.success("Check your inbox for further instructions")}catch{ie.error("Failed to reset password")}}return _.jsx(Wt,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"80vh"},children:_.jsxs("div",{className:"w-100",style:{maxWidth:"400px"},children:[_.jsx(Me,{children:_.jsxs(Me.Body,{children:[_.jsx("h2",{className:"text-center mb-4",children:"Log In"}),_.jsxs(Ie,{onSubmit:d,children:[_.jsxs(Ie.Group,{id:"email",className:"mb-3",children:[_.jsx(Ie.Label,{children:"Email"}),_.jsx(Ie.Control,{type:"email",required:!0,value:t,onChange:g=>e(g.target.value),autoComplete:"email"})]}),_.jsxs(Ie.Group,{id:"password",className:"mb-3",children:[_.jsx(Ie.Label,{children:"Password"}),_.jsx(Ie.Control,{type:"password",required:!0,value:n,onChange:g=>r(g.target.value),autoComplete:"current-password"})]}),_.jsx(Ge,{disabled:i,className:"w-100 mb-3",type:"submit",children:"Log In"})]}),_.jsx(Ge,{variant:"outline-danger",disabled:i,className:"w-100",onClick:f,type:"button",children:"Sign in with Google"}),_.jsx("div",{className:"w-100 text-center mt-3",children:_.jsx(hn,{to:"#",onClick:p,children:"Forgot Password?"})})]})}),_.jsxs("div",{className:"w-100 text-center mt-2",children:["Don't have an account? ",_.jsx(hn,{to:"/signup",children:"Sign Up"})]})]})})}const r9=hi().shape({email:ke().email("Invalid email").required("Email is required"),password:ke().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:ke().oneOf([mU("password"),null],"Passwords must match").required("Confirm password is required")});function i9(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),[o,a]=v.useState(!1),{signup:l,signInWithGoogle:c}=ps(),d=xi(),f=async()=>{try{a(!0),await c(),ie.success("Successfully signed up with Google!"),d("/")}catch(g){console.error("Google sign up error:",g),g.code==="auth/configuration-not-found"?ie.error("Google Sign-In is not configured correctly. Please contact support."):ie.error("Failed to sign up with Google")}finally{a(!1)}};async function p(g){g.preventDefault();try{await r9.validate({email:t,password:n,confirmPassword:i}),a(!0),await l(t,n),ie.success("Account created successfully!"),d("/")}catch(w){console.error("Signup error:",w),ie.error(w.message)}finally{a(!1)}}return _.jsx(Wt,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"80vh"},children:_.jsxs("div",{className:"w-100",style:{maxWidth:"400px"},children:[_.jsx("h2",{className:"text-center mb-4",children:"Sign Up"}),_.jsxs(Ie,{onSubmit:p,children:[_.jsxs(Ie.Group,{id:"email",className:"mb-3",children:[_.jsx(Ie.Label,{children:"Email"}),_.jsx(Ie.Control,{type:"email",required:!0,value:t,onChange:g=>e(g.target.value),autoComplete:"email"})]}),_.jsxs(Ie.Group,{id:"password",className:"mb-3",children:[_.jsx(Ie.Label,{children:"Password"}),_.jsx(Ie.Control,{type:"password",required:!0,value:n,onChange:g=>r(g.target.value),autoComplete:"new-password"})]}),_.jsxs(Ie.Group,{id:"password-confirm",className:"mb-3",children:[_.jsx(Ie.Label,{children:"Password Confirmation"}),_.jsx(Ie.Control,{type:"password",required:!0,value:i,onChange:g=>s(g.target.value),autoComplete:"new-password"})]}),_.jsx(Ge,{disabled:o,className:"w-100 mb-3",type:"submit",children:"Sign Up"}),_.jsx(Ge,{variant:"outline-danger",disabled:o,className:"w-100",onClick:f,type:"button",children:"Sign up with Google"}),_.jsx("div",{className:"text-center mt-3",children:_.jsxs("p",{children:["Already have an account? ",_.jsx(hn,{to:"/login",children:"Log In"})]})})]})]})})}function bE({children:t}){const{currentUser:e,loading:n}=ps();return n?_.jsx("div",{children:"Loading..."}):e?t:_.jsx(OP,{to:"/login"})}function s9(){return _.jsx(Wt,{children:_.jsx("h1",{children:"Checkout"})})}class o9 extends ne.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.log("Error:",e,n)}render(){return this.state.hasError?_.jsx("h1",{children:"Something went wrong. Please try again later."}):this.props.children}}let Hp=null;const a9=async()=>{Hp=await U4()},l9=(t,e)=>{Hp?rC(()=>import("./index.esm-81c07f42.js"),[]).then(({logEvent:n})=>{n(Hp,t,e)}).catch(n=>{console.error("Error logging event:",n)}):console.log(`Analytics event not logged: ${t}`,e)};function u9(){const[t,e]=v.useState(!0),[n,r]=v.useState(null),[i]=v.useState([{id:1,name:"Classic Chocolate Cake",price:29.99,image:"https://placehold.co/300x200/png?text=Chocolate+Cake",description:"Rich chocolate layers with ganache"},{id:2,name:"Artisan Bread",price:6.99,image:"https://placehold.co/300x200/png?text=Artisan+Bread",description:"Freshly baked sourdough"},{id:3,name:"Cupcake Box",price:19.99,image:"https://placehold.co/300x200/png?text=Cupcake+Box",description:"Assorted flavors, box of 6"}]);return v.useEffect(()=>{(async()=>{try{if(!Vr)throw new Error("Firebase authentication is not initialized");await a9(),setTimeout(()=>{e(!1),l9("app_loaded")},1e3)}catch(o){console.error("Error initializing app:",o),r(o.message)}finally{e(!1)}})()},[]),t?_.jsx("div",{children:"Loading..."}):n?_.jsxs("div",{children:["Error: ",n]}):_.jsx(o9,{children:_.jsx(WU,{children:_.jsx(KU,{children:_.jsx(GU,{children:_.jsxs("div",{className:"App",children:[_.jsx(qU,{products:i}),_.jsx("div",{className:"main-content",children:_.jsxs(ZT,{children:[_.jsx(Pn,{path:"/",element:_.jsx(XU,{products:i})}),_.jsx(Pn,{path:"/cart",element:_.jsx(YU,{})}),_.jsx(Pn,{path:"/wishlist",element:_.jsx(JU,{})}),_.jsx(Pn,{path:"/product/:id",element:_.jsx(ZU,{products:i})}),_.jsx(Pn,{path:"/login",element:_.jsx(n9,{})}),_.jsx(Pn,{path:"/signup",element:_.jsx(i9,{})}),_.jsx(Pn,{path:"/profile",element:_.jsx(bE,{children:_.jsx(e9,{})})}),_.jsx(Pn,{path:"/checkout",element:_.jsx(bE,{children:_.jsx(s9,{})})})]})}),_.jsx(Wp,{})]})})})})})}ff.createRoot(document.getElementById("root")).render(_.jsx(ne.StrictMode,{children:_.jsx(UP,{children:_.jsx(ZT,{children:_.jsx(Pn,{path:"/*",element:_.jsx(u9,{})})})})}));export{ts as C,Rl as E,Cr as F,vg as L,ho as _,_g as a,ES as b,c9 as c,Mc as d,O2 as e,d9 as f,Ft as g,k2 as i,lL as o,ui as r,D2 as v};
